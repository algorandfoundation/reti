{
    "hints": {
        "createApplication()void": {
            "call_config": {
                "no_op": "CREATE"
            }
        },
        "initStakingContract(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "loadStakingContractData(uint64,byte[])void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "finalizeStakingContract()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "gas()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getMbrAmounts()(uint64,uint64,uint64,uint64)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "MbrAmounts",
                    "elements": [
                        [
                            "addValidatorMbr",
                            "uint64"
                        ],
                        [
                            "addPoolMbr",
                            "uint64"
                        ],
                        [
                            "poolInitMbr",
                            "uint64"
                        ],
                        [
                            "addStakerMbr",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "getProtocolConstraints()(uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "Constraints",
                    "elements": [
                        [
                            "epochPayoutRoundsMin",
                            "uint64"
                        ],
                        [
                            "epochPayoutRoundsMax",
                            "uint64"
                        ],
                        [
                            "minPctToValidatorWFourDecimals",
                            "uint64"
                        ],
                        [
                            "maxPctToValidatorWFourDecimals",
                            "uint64"
                        ],
                        [
                            "minEntryStake",
                            "uint64"
                        ],
                        [
                            "maxAlgoPerPool",
                            "uint64"
                        ],
                        [
                            "maxAlgoPerValidator",
                            "uint64"
                        ],
                        [
                            "amtConsideredSaturated",
                            "uint64"
                        ],
                        [
                            "maxNodes",
                            "uint64"
                        ],
                        [
                            "maxPoolsPerNode",
                            "uint64"
                        ],
                        [
                            "maxStakersPerPool",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "getNumValidators()uint64": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getValidatorConfig(uint64)(uint64,address,address,uint64,uint8,address,uint64[4],uint64,uint64,uint64,uint32,uint32,address,uint64,uint64,uint8,uint64,uint64)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "ValidatorConfig",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "owner",
                            "address"
                        ],
                        [
                            "manager",
                            "address"
                        ],
                        [
                            "nfdForInfo",
                            "uint64"
                        ],
                        [
                            "entryGatingType",
                            "uint8"
                        ],
                        [
                            "entryGatingAddress",
                            "address"
                        ],
                        [
                            "entryGatingAssets",
                            "uint64[4]"
                        ],
                        [
                            "gatingAssetMinBalance",
                            "uint64"
                        ],
                        [
                            "rewardTokenId",
                            "uint64"
                        ],
                        [
                            "rewardPerPayout",
                            "uint64"
                        ],
                        [
                            "epochRoundLength",
                            "uint32"
                        ],
                        [
                            "percentToValidator",
                            "uint32"
                        ],
                        [
                            "validatorCommissionAddress",
                            "address"
                        ],
                        [
                            "minEntryStake",
                            "uint64"
                        ],
                        [
                            "maxAlgoPerPool",
                            "uint64"
                        ],
                        [
                            "poolsPerNode",
                            "uint8"
                        ],
                        [
                            "sunsettingOn",
                            "uint64"
                        ],
                        [
                            "sunsettingTo",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "getValidatorState(uint64)(uint16,uint64,uint64,uint64)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "ValidatorCurState",
                    "elements": [
                        [
                            "numPools",
                            "uint16"
                        ],
                        [
                            "totalStakers",
                            "uint64"
                        ],
                        [
                            "totalAlgoStaked",
                            "uint64"
                        ],
                        [
                            "rewardTokenHeldBack",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "getValidatorOwnerAndManager(uint64)(address,address)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getPools(uint64)(uint64,uint16,uint64)[]": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getPoolAppId(uint64,uint64)uint64": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getPoolInfo((uint64,uint64,uint64))(uint64,uint16,uint64)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "poolKey": {
                    "name": "ValidatorPoolKey",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "poolId",
                            "uint64"
                        ],
                        [
                            "poolAppId",
                            "uint64"
                        ]
                    ]
                },
                "output": {
                    "name": "PoolInfo",
                    "elements": [
                        [
                            "poolAppId",
                            "uint64"
                        ],
                        [
                            "totalStakers",
                            "uint16"
                        ],
                        [
                            "totalAlgoStaked",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "getCurMaxStakePerPool(uint64)uint64": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "doesStakerNeedToPayMBR(address)bool": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getStakedPoolsForAccount(address)(uint64,uint64,uint64)[]": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getTokenPayoutRatio(uint64)(uint64[24],uint64)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "PoolTokenPayoutRatio",
                    "elements": [
                        [
                            "poolPctOfWhole",
                            "uint64[24]"
                        ],
                        [
                            "updatedForPayout",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "getNodePoolAssignments(uint64)((uint64[3])[8])": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "NodePoolAssignmentConfig",
                    "elements": [
                        [
                            "nodes",
                            "(uint64[3])[8]"
                        ]
                    ]
                }
            }
        },
        "getNFDRegistryID()uint64": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "addValidator(pay,string,(uint64,address,address,uint64,uint8,address,uint64[4],uint64,uint64,uint64,uint32,uint32,address,uint64,uint64,uint8,uint64,uint64))uint64": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "config": {
                    "name": "ValidatorConfig",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "owner",
                            "address"
                        ],
                        [
                            "manager",
                            "address"
                        ],
                        [
                            "nfdForInfo",
                            "uint64"
                        ],
                        [
                            "entryGatingType",
                            "uint8"
                        ],
                        [
                            "entryGatingAddress",
                            "address"
                        ],
                        [
                            "entryGatingAssets",
                            "uint64[4]"
                        ],
                        [
                            "gatingAssetMinBalance",
                            "uint64"
                        ],
                        [
                            "rewardTokenId",
                            "uint64"
                        ],
                        [
                            "rewardPerPayout",
                            "uint64"
                        ],
                        [
                            "epochRoundLength",
                            "uint32"
                        ],
                        [
                            "percentToValidator",
                            "uint32"
                        ],
                        [
                            "validatorCommissionAddress",
                            "address"
                        ],
                        [
                            "minEntryStake",
                            "uint64"
                        ],
                        [
                            "maxAlgoPerPool",
                            "uint64"
                        ],
                        [
                            "poolsPerNode",
                            "uint8"
                        ],
                        [
                            "sunsettingOn",
                            "uint64"
                        ],
                        [
                            "sunsettingTo",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "changeValidatorManager(uint64,address)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "changeValidatorSunsetInfo(uint64,uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "changeValidatorNFD(uint64,uint64,string)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "changeValidatorCommissionAddress(uint64,address)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "changeValidatorRewardInfo(uint64,uint8,address,uint64[4],uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "addPool(pay,uint64,uint64)(uint64,uint64,uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "ValidatorPoolKey",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "poolId",
                            "uint64"
                        ],
                        [
                            "poolAppId",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "addStake(pay,uint64,uint64)(uint64,uint64,uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "ValidatorPoolKey",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "poolId",
                            "uint64"
                        ],
                        [
                            "poolAppId",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "setTokenPayoutRatio(uint64)(uint64[24],uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "PoolTokenPayoutRatio",
                    "elements": [
                        [
                            "poolPctOfWhole",
                            "uint64[24]"
                        ],
                        [
                            "updatedForPayout",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "stakeUpdatedViaRewards((uint64,uint64,uint64),uint64,uint64,uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "poolKey": {
                    "name": "ValidatorPoolKey",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "poolId",
                            "uint64"
                        ],
                        [
                            "poolAppId",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "stakeRemoved((uint64,uint64,uint64),address,uint64,uint64,bool)void": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "poolKey": {
                    "name": "ValidatorPoolKey",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "poolId",
                            "uint64"
                        ],
                        [
                            "poolAppId",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "findPoolForStaker(uint64,address,uint64)((uint64,uint64,uint64),bool,bool)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "movePoolToNode(uint64,uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "emptyTokenRewards(uint64,address)uint64": {
            "call_config": {
                "no_op": "CALL"
            }
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDggMjQgMjY4IDQzMiAyMDAgNzAwIDkwMCAxOTIgMTAwMDAwMCAyMjYgNDA5NiAyNzggMjUyIDc0MTAwIFRNUExfTkZEX1JFR0lTVFJZX0FQUF9JRAogICAgYnl0ZWNibG9jayAidiIgMHgxNTFmN2M3NSAiIiAic3Rha2VkIiAibnVtU3Rha2VycyIgInBvb2xUZW1wbGF0ZUFwcHJvdmFsQnl0ZXMiICJzcHMiIDB4MDAgIm51bVYiICJpLm93bmVyLmEiICJpbml0IiAweDAwMDIgMHgwMDAwIDB4MDY4MTAxIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEgMHgwMDAxMDAwMDAwMDAwMDAwMDNlOCAweDYzZjNmMjhiIDB4MTJmNGJkNGIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkwCiAgICAvLyBleHBvcnQgY2xhc3MgVmFsaWRhdG9yUmVnaXN0cnkgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGJ6IG1haW5fY3JlYXRlX05vT3BAMzcKICAgIHB1c2hieXRlc3MgMHgxYjVlODJjNiAweDc5NDcyZDgzIDB4NWY3YWNmZDkgMHgzMTcyY2E5ZCAweDhhODcxNDJkIDB4ZDEzNjZjYzMgMHgzYjA0NWM1YyAweDc1YWZmNjFkIDB4MWYyZjAxMDkgMHgyZmEyMmM0YiAweDkxMGU5NGFjIDB4NTcyNzY3ZDEgMHg5YjUwNGFhZiAweGZiYzYzMTc4IDB4MjQ0OThjZjQgMHhmODQ2ZGQ3YSAweDgzMDUwNTAxIDB4N2JiYjZjOGQgMHhmODM5NDE0YSAweDBjMzE3Y2ZiIDB4M2UyODg5NzIgMHhkZDVmYWFkYSAweDE4YWFjN2E3IDB4Zjk5ZWY1NGQgMHgxMDgwOWQ0ZCAweGU3NzhkZDVhIDB4YmY1MjU5ZDAgMHg0ZGY4ZDg2ZSAweDQxOGZjZWZjIDB4YTJkYzUxYjUgMHgyODczZjUwNCAweDA1NDdmNGZlIDB4Y2I2NjgzNTggLy8gbWV0aG9kICJpbml0U3Rha2luZ0NvbnRyYWN0KHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJsb2FkU3Rha2luZ0NvbnRyYWN0RGF0YSh1aW50NjQsYnl0ZVtdKXZvaWQiLCBtZXRob2QgImZpbmFsaXplU3Rha2luZ0NvbnRyYWN0KCl2b2lkIiwgbWV0aG9kICJnYXMoKXZvaWQiLCBtZXRob2QgImdldE1ickFtb3VudHMoKSh1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpIiwgbWV0aG9kICJnZXRQcm90b2NvbENvbnN0cmFpbnRzKCkodWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgImdldE51bVZhbGlkYXRvcnMoKXVpbnQ2NCIsIG1ldGhvZCAiZ2V0VmFsaWRhdG9yQ29uZmlnKHVpbnQ2NCkodWludDY0LGFkZHJlc3MsYWRkcmVzcyx1aW50NjQsdWludDgsYWRkcmVzcyx1aW50NjRbNF0sdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDMyLHVpbnQzMixhZGRyZXNzLHVpbnQ2NCx1aW50NjQsdWludDgsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgImdldFZhbGlkYXRvclN0YXRlKHVpbnQ2NCkodWludDE2LHVpbnQ2NCx1aW50NjQsdWludDY0KSIsIG1ldGhvZCAiZ2V0VmFsaWRhdG9yT3duZXJBbmRNYW5hZ2VyKHVpbnQ2NCkoYWRkcmVzcyxhZGRyZXNzKSIsIG1ldGhvZCAiZ2V0UG9vbHModWludDY0KSh1aW50NjQsdWludDE2LHVpbnQ2NClbXSIsIG1ldGhvZCAiZ2V0UG9vbEFwcElkKHVpbnQ2NCx1aW50NjQpdWludDY0IiwgbWV0aG9kICJnZXRQb29sSW5mbygodWludDY0LHVpbnQ2NCx1aW50NjQpKSh1aW50NjQsdWludDE2LHVpbnQ2NCkiLCBtZXRob2QgImdldEN1ck1heFN0YWtlUGVyUG9vbCh1aW50NjQpdWludDY0IiwgbWV0aG9kICJkb2VzU3Rha2VyTmVlZFRvUGF5TUJSKGFkZHJlc3MpYm9vbCIsIG1ldGhvZCAiZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50KGFkZHJlc3MpKHVpbnQ2NCx1aW50NjQsdWludDY0KVtdIiwgbWV0aG9kICJnZXRUb2tlblBheW91dFJhdGlvKHVpbnQ2NCkodWludDY0WzI0XSx1aW50NjQpIiwgbWV0aG9kICJnZXROb2RlUG9vbEFzc2lnbm1lbnRzKHVpbnQ2NCkoKHVpbnQ2NFszXSlbOF0pIiwgbWV0aG9kICJnZXRORkRSZWdpc3RyeUlEKCl1aW50NjQiLCBtZXRob2QgImFkZFZhbGlkYXRvcihwYXksc3RyaW5nLCh1aW50NjQsYWRkcmVzcyxhZGRyZXNzLHVpbnQ2NCx1aW50OCxhZGRyZXNzLHVpbnQ2NFs0XSx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50MzIsdWludDMyLGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50OCx1aW50NjQsdWludDY0KSl1aW50NjQiLCBtZXRob2QgImNoYW5nZVZhbGlkYXRvck1hbmFnZXIodWludDY0LGFkZHJlc3Mpdm9pZCIsIG1ldGhvZCAiY2hhbmdlVmFsaWRhdG9yU3Vuc2V0SW5mbyh1aW50NjQsdWludDY0LHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJjaGFuZ2VWYWxpZGF0b3JORkQodWludDY0LHVpbnQ2NCxzdHJpbmcpdm9pZCIsIG1ldGhvZCAiY2hhbmdlVmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3ModWludDY0LGFkZHJlc3Mpdm9pZCIsIG1ldGhvZCAiY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mbyh1aW50NjQsdWludDgsYWRkcmVzcyx1aW50NjRbNF0sdWludDY0LHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJhZGRQb29sKHBheSx1aW50NjQsdWludDY0KSh1aW50NjQsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgImFkZFN0YWtlKHBheSx1aW50NjQsdWludDY0KSh1aW50NjQsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgInNldFRva2VuUGF5b3V0UmF0aW8odWludDY0KSh1aW50NjRbMjRdLHVpbnQ2NCkiLCBtZXRob2QgInN0YWtlVXBkYXRlZFZpYVJld2FyZHMoKHVpbnQ2NCx1aW50NjQsdWludDY0KSx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpdm9pZCIsIG1ldGhvZCAic3Rha2VSZW1vdmVkKCh1aW50NjQsdWludDY0LHVpbnQ2NCksYWRkcmVzcyx1aW50NjQsdWludDY0LGJvb2wpdm9pZCIsIG1ldGhvZCAiZmluZFBvb2xGb3JTdGFrZXIodWludDY0LGFkZHJlc3MsdWludDY0KSgodWludDY0LHVpbnQ2NCx1aW50NjQpLGJvb2wsYm9vbCkiLCBtZXRob2QgIm1vdmVQb29sVG9Ob2RlKHVpbnQ2NCx1aW50NjQsdWludDY0KXZvaWQiLCBtZXRob2QgImVtcHR5VG9rZW5SZXdhcmRzKHVpbnQ2NCxhZGRyZXNzKXVpbnQ2NCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIGluaXRTdGFraW5nQ29udHJhY3QgbG9hZFN0YWtpbmdDb250cmFjdERhdGEgbWFpbl9maW5hbGl6ZVN0YWtpbmdDb250cmFjdF9yb3V0ZUA1IG1haW5fZ2FzX3JvdXRlQDYgbWFpbl9nZXRNYnJBbW91bnRzX3JvdXRlQDcgZ2V0UHJvdG9jb2xDb25zdHJhaW50cyBnZXROdW1WYWxpZGF0b3JzIGdldFZhbGlkYXRvckNvbmZpZyBnZXRWYWxpZGF0b3JTdGF0ZSBnZXRWYWxpZGF0b3JPd25lckFuZE1hbmFnZXIgZ2V0UG9vbHMgZ2V0UG9vbEFwcElkIGdldFBvb2xJbmZvIGdldEN1ck1heFN0YWtlUGVyUG9vbCBkb2VzU3Rha2VyTmVlZFRvUGF5TUJSIGdldFN0YWtlZFBvb2xzRm9yQWNjb3VudCBnZXRUb2tlblBheW91dFJhdGlvIGdldE5vZGVQb29sQXNzaWdubWVudHMgZ2V0TkZEUmVnaXN0cnlJRCBhZGRWYWxpZGF0b3IgY2hhbmdlVmFsaWRhdG9yTWFuYWdlciBjaGFuZ2VWYWxpZGF0b3JTdW5zZXRJbmZvIGNoYW5nZVZhbGlkYXRvck5GRCBjaGFuZ2VWYWxpZGF0b3JDb21taXNzaW9uQWRkcmVzcyBjaGFuZ2VWYWxpZGF0b3JSZXdhcmRJbmZvIGFkZFBvb2wgYWRkU3Rha2Ugc2V0VG9rZW5QYXlvdXRSYXRpbyBzdGFrZVVwZGF0ZWRWaWFSZXdhcmRzIHN0YWtlUmVtb3ZlZCBmaW5kUG9vbEZvclN0YWtlciBtb3ZlUG9vbFRvTm9kZSBlbXB0eVRva2VuUmV3YXJkcwogICAgZXJyCgptYWluX2dldE1ickFtb3VudHNfcm91dGVANzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE1Mi0xNTMKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0TWJyQW1vdW50cygpOiBNYnJBbW91bnRzIHsKICAgIHB1c2hieXRlcyAweDE1MWY3Yzc1MDAwMDAwMDAwMDA2YzIxNDAwMDAwMDAwMDAwZWIzYWMwMDAwMDAwMDAwNGZiYjU0MDAwMDAwMDAwMDAxMjE3NAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dhc19yb3V0ZUA2OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTQxCiAgICAvLyBnYXMoKTogdm9pZCB7fQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9maW5hbGl6ZVN0YWtpbmdDb250cmFjdF9yb3V0ZUA1OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTYKICAgIC8vIHN0YWtpbmdQb29sSW5pdGlhbGl6ZWQgPSBHbG9iYWxTdGF0ZTxib29sZWFuPih7IGtleTogJ2luaXQnIH0pCiAgICBieXRlYyAxMCAvLyAiaW5pdCIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNQogICAgLy8gdGhpcy5zdGFraW5nUG9vbEluaXRpYWxpemVkLnZhbHVlID0gdHJ1ZQogICAgaW50Y18xIC8vIDEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzQKICAgIC8vIGZpbmFsaXplU3Rha2luZ0NvbnRyYWN0KCk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9jcmVhdGVfTm9PcEAzNzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkwCiAgICAvLyBleHBvcnQgY2xhc3MgVmFsaWRhdG9yUmVnaXN0cnkgZXh0ZW5kcyBDb250cmFjdCB7CiAgICBwdXNoYnl0ZXMgMHhiODQ0N2IzNiAvLyBtZXRob2QgImNyZWF0ZUFwcGxpY2F0aW9uKCl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggY3JlYXRlQXBwbGljYXRpb24KICAgIGVycgoKCi8vIF9wdXlhX2xpYi51dGlsLmVuc3VyZV9idWRnZXQocmVxdWlyZWRfYnVkZ2V0OiB1aW50NjQsIGZlZV9zb3VyY2U6IHVpbnQ2NCkgLT4gdm9pZDoKZW5zdXJlX2J1ZGdldDoKICAgIHByb3RvIDIgMAogICAgZnJhbWVfZGlnIC0yCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICArCgplbnN1cmVfYnVkZ2V0X3doaWxlX3RvcEAxOgogICAgZnJhbWVfZGlnIDAKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgID4KICAgIGJ6IGVuc3VyZV9idWRnZXRfYWZ0ZXJfd2hpbGVANgogICAgaXR4bl9iZWdpbgogICAgcHVzaGludCA2IC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIHB1c2hpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgogICAgaXR4bl9maWVsZCBPbkNvbXBsZXRpb24KICAgIGJ5dGVjIDEzIC8vIDB4MDY4MTAxCiAgICBpdHhuX2ZpZWxkIEFwcHJvdmFsUHJvZ3JhbQogICAgYnl0ZWMgMTMgLy8gMHgwNjgxMDEKICAgIGl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW0KICAgIGZyYW1lX2RpZyAtMQogICAgc3dpdGNoIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMEAzIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMUA0CgplbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlX25leHRANToKICAgIGl0eG5fc3VibWl0CiAgICBiIGVuc3VyZV9idWRnZXRfd2hpbGVfdG9wQDEKCmVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMUA0OgogICAgZ2xvYmFsIE1pblR4bkZlZQogICAgaXR4bl9maWVsZCBGZWUKICAgIGIgZW5zdXJlX2J1ZGdldF9zd2l0Y2hfY2FzZV9uZXh0QDUKCmVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMEAzOgogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBiIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfbmV4dEA1CgplbnN1cmVfYnVkZ2V0X2FmdGVyX3doaWxlQDY6CiAgICByZXRzdWIKCgovLyBjb250cmFjdHMvdXRpbHMuYWxnby50czo6d2lkZVJhdGlvKG51bWVyYXRvckZhY3RvcnM6IGJ5dGVzLCBkZW5vbWluYXRvckZhY3RvcnM6IGJ5dGVzKSAtPiB1aW50NjQsIGJ5dGVzLCBieXRlczoKd2lkZVJhdGlvOgogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6NAogICAgLy8gZXhwb3J0IGZ1bmN0aW9uIHdpZGVSYXRpbyhudW1lcmF0b3JGYWN0b3JzOiB1aW50NjRbXSwgZGVub21pbmF0b3JGYWN0b3JzOiB1aW50NjRbXSk6IHVpbnQ2NCB7CiAgICBwcm90byAyIDMKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18yIC8vICIiCiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy91dGlscy5hbGdvLnRzOjUKICAgIC8vIGxldCBudW1lcmF0b3IgPSBuZXcgVWludDEyOCgxbikKICAgIGJ5dGVjIDE0IC8vIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEKICAgIC8vIGNvbnRyYWN0cy91dGlscy5hbGdvLnRzOjYKICAgIC8vIGZvciAoY29uc3QgZmFjdG9yIG9mIG51bWVyYXRvckZhY3RvcnMpIHsKICAgIGZyYW1lX2RpZyAtMgogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIGludGNfMCAvLyAwCgp3aWRlUmF0aW9fZm9yX2hlYWRlckAxOgogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6NgogICAgLy8gZm9yIChjb25zdCBmYWN0b3Igb2YgbnVtZXJhdG9yRmFjdG9ycykgewogICAgZnJhbWVfZGlnIDUKICAgIGZyYW1lX2RpZyA0CiAgICA8CiAgICBieiB3aWRlUmF0aW9fYWZ0ZXJfZm9yQDQKICAgIGZyYW1lX2RpZyAtMgogICAgZXh0cmFjdCAyIDAKICAgIGZyYW1lX2RpZyA1CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGNfMiAvLyA4CiAgICAqCiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICAvLyBjb250cmFjdHMvdXRpbHMuYWxnby50czo3CiAgICAvLyBudW1lcmF0b3IgPSBuZXcgVWludDEyOChCaWdVaW50KGZhY3RvcikgKiBudW1lcmF0b3IuYXNCaWdVaW50KCkpCiAgICBmcmFtZV9kaWcgMwogICAgYioKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBiemVybwogICAgYnwKICAgIGZyYW1lX2J1cnkgMwogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgNQogICAgYiB3aWRlUmF0aW9fZm9yX2hlYWRlckAxCgp3aWRlUmF0aW9fYWZ0ZXJfZm9yQDQ6CiAgICAvLyBjb250cmFjdHMvdXRpbHMuYWxnby50czoxMAogICAgLy8gbGV0IGRlbm9taW5hdG9yID0gbmV3IFVpbnQxMjgoMW4pCiAgICBieXRlYyAxNCAvLyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIGNvbnRyYWN0cy91dGlscy5hbGdvLnRzOjExCiAgICAvLyBmb3IgKGNvbnN0IGZhY3RvciBvZiBkZW5vbWluYXRvckZhY3RvcnMpIHsKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIGZyYW1lX2J1cnkgMQogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgMgoKd2lkZVJhdGlvX2Zvcl9oZWFkZXJANToKICAgIC8vIGNvbnRyYWN0cy91dGlscy5hbGdvLnRzOjExCiAgICAvLyBmb3IgKGNvbnN0IGZhY3RvciBvZiBkZW5vbWluYXRvckZhY3RvcnMpIHsKICAgIGZyYW1lX2RpZyAyCiAgICBmcmFtZV9kaWcgMQogICAgPAogICAgYnogd2lkZVJhdGlvX2FmdGVyX2ZvckA4CiAgICBmcmFtZV9kaWcgLTEKICAgIGV4dHJhY3QgMiAwCiAgICBmcmFtZV9kaWcgMgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpbnRjXzIgLy8gOAogICAgKgogICAgaW50Y18yIC8vIDgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6MTIKICAgIC8vIGRlbm9taW5hdG9yID0gbmV3IFVpbnQxMjgoQmlnVWludChmYWN0b3IpICogZGVub21pbmF0b3IuYXNCaWdVaW50KCkpCiAgICBmcmFtZV9kaWcgMAogICAgYioKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBiemVybwogICAgYnwKICAgIGZyYW1lX2J1cnkgMAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMgogICAgYiB3aWRlUmF0aW9fZm9yX2hlYWRlckA1Cgp3aWRlUmF0aW9fYWZ0ZXJfZm9yQDg6CiAgICAvLyBjb250cmFjdHMvdXRpbHMuYWxnby50czoxNQogICAgLy8gY29uc3QgcmF0aW86IGJpZ3VpbnQgPSBudW1lcmF0b3IuYXNCaWdVaW50KCkgLyBkZW5vbWluYXRvci5hc0JpZ1VpbnQoKQogICAgZnJhbWVfZGlnIDMKICAgIGZyYW1lX2RpZyAwCiAgICBiLwogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6MTYKICAgIC8vIHJldHVybiBuZXcgVWludDY0KHJhdGlvKS5hc1VpbnQ2NCgpCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGludGNfMiAvLyA4CiAgICBiemVybwogICAgYnwKICAgIGJ0b2kKICAgIGZyYW1lX2RpZyAtMgogICAgZnJhbWVfZGlnIC0xCiAgICBmcmFtZV9idXJ5IDIKICAgIGZyYW1lX2J1cnkgMQogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuY3JlYXRlQXBwbGljYXRpb25bcm91dGluZ10oKSAtPiB2b2lkOgpjcmVhdGVBcHBsaWNhdGlvbjoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk2CiAgICAvLyBzdGFraW5nUG9vbEluaXRpYWxpemVkID0gR2xvYmFsU3RhdGU8Ym9vbGVhbj4oeyBrZXk6ICdpbml0JyB9KQogICAgYnl0ZWMgMTAgLy8gImluaXQiCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTgKICAgIC8vIHRoaXMuc3Rha2luZ1Bvb2xJbml0aWFsaXplZC52YWx1ZSA9IGZhbHNlCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk4CiAgICAvLyBudW1WYWxpZGF0b3JzID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ251bVYnIH0pCiAgICBieXRlYyA4IC8vICJudW1WIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE5CiAgICAvLyB0aGlzLm51bVZhbGlkYXRvcnMudmFsdWUgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMQogICAgLy8gbnVtU3Rha2VycyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdudW1TdGFrZXJzJyB9KQogICAgYnl0ZWMgNCAvLyAibnVtU3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMAogICAgLy8gdGhpcy5udW1TdGFrZXJzLnZhbHVlID0gMAogICAgaW50Y18wIC8vIDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDQKICAgIC8vIHRvdGFsQWxnb1N0YWtlZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdzdGFrZWQnIH0pCiAgICBieXRlY18zIC8vICJzdGFrZWQiCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjEKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlID0gMAogICAgaW50Y18wIC8vIDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTcKICAgIC8vIGNyZWF0ZUFwcGxpY2F0aW9uKCk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5pbml0U3Rha2luZ0NvbnRyYWN0W3JvdXRpbmddKCkgLT4gdm9pZDoKaW5pdFN0YWtpbmdDb250cmFjdDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNAogICAgLy8gaW5pdFN0YWtpbmdDb250cmFjdChhcHByb3ZhbFByb2dyYW1TaXplOiB1aW50NjQpOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk0CiAgICAvLyBzdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbSA9IEJveDxieXRlcz4oeyBrZXk6ICdwb29sVGVtcGxhdGVBcHByb3ZhbEJ5dGVzJyB9KQogICAgYnl0ZWMgNSAvLyAicG9vbFRlbXBsYXRlQXBwcm92YWxCeXRlcyIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNgogICAgLy8gdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5jcmVhdGUoeyBzaXplOiBhcHByb3ZhbFByb2dyYW1TaXplIH0pCiAgICBzd2FwCiAgICBib3hfY3JlYXRlCiAgICBwb3AKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNAogICAgLy8gaW5pdFN0YWtpbmdDb250cmFjdChhcHByb3ZhbFByb2dyYW1TaXplOiB1aW50NjQpOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkubG9hZFN0YWtpbmdDb250cmFjdERhdGFbcm91dGluZ10oKSAtPiB2b2lkOgpsb2FkU3Rha2luZ0NvbnRyYWN0RGF0YToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyOQogICAgLy8gbG9hZFN0YWtpbmdDb250cmFjdERhdGEob2Zmc2V0OiB1aW50NjQsIGRhdGE6IGJ5dGVzKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBwdXNoaW50IDIgLy8gMgogICAgKwogICAgZGlnIDEKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5keW5hbWljX2FycmF5PGFyYzQudWludDg+CiAgICBleHRyYWN0IDIgMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMwCiAgICAvLyBhc3NlcnQoIXRoaXMuc3Rha2luZ1Bvb2xJbml0aWFsaXplZC52YWx1ZSkKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NgogICAgLy8gc3Rha2luZ1Bvb2xJbml0aWFsaXplZCA9IEdsb2JhbFN0YXRlPGJvb2xlYW4+KHsga2V5OiAnaW5pdCcgfSkKICAgIGJ5dGVjIDEwIC8vICJpbml0IgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMwCiAgICAvLyBhc3NlcnQoIXRoaXMuc3Rha2luZ1Bvb2xJbml0aWFsaXplZC52YWx1ZSkKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAhCiAgICBhc3NlcnQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk0CiAgICAvLyBzdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbSA9IEJveDxieXRlcz4oeyBrZXk6ICdwb29sVGVtcGxhdGVBcHByb3ZhbEJ5dGVzJyB9KQogICAgYnl0ZWMgNSAvLyAicG9vbFRlbXBsYXRlQXBwcm92YWxCeXRlcyIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMQogICAgLy8gdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5yZXBsYWNlKG9mZnNldCwgZGF0YSkKICAgIGNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjkKICAgIC8vIGxvYWRTdGFraW5nQ29udHJhY3REYXRhKG9mZnNldDogdWludDY0LCBkYXRhOiBieXRlcyk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRQcm90b2NvbENvbnN0cmFpbnRzW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0UHJvdG9jb2xDb25zdHJhaW50czoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNjkKICAgIC8vIHJldHVybiBHbG9iYWwucGF5b3V0c01heEJhbGFuY2UKICAgIGdsb2JhbCBQYXlvdXRzTWF4QmFsYW5jZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTk1CiAgICAvLyBtYXhBbGdvUGVyVmFsaWRhdG9yOiB0aGlzLm1heEFsbG93ZWRTdGFrZSgpLAogICAgY2FsbHN1YiBtYXhBbGxvd2VkU3Rha2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNzMKICAgIC8vIHJldHVybiBvcC5vbmxpbmVTdGFrZSgpCiAgICBvbmxpbmVfc3Rha2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNTIKICAgIC8vIHJldHVybiB3aWRlUmF0aW8oW29ubGluZSwgTUFYX1ZBTElEQVRPUl9TT0ZUX1BDVF9PRl9PTkxJTkVfMURFQ0lNQUxdLCBbMTAwMF0pCiAgICBpdG9iCiAgICBieXRlYyAxMSAvLyAweDAwMDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgcHVzaGludCAxMDAgLy8gMTAwCiAgICBpdG9iCiAgICBjb25jYXQKICAgIGJ5dGVjIDE1IC8vIDB4MDAwMTAwMDAwMDAwMDAwMDAzZTgKICAgIGNhbGxzdWIgd2lkZVJhdGlvCiAgICBwb3BuIDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE4OC0yMDAKICAgIC8vIHJldHVybiB7CiAgICAvLyAgICAgZXBvY2hQYXlvdXRSb3VuZHNNaW46IE1JTl9FUE9DSF9MRU5HVEgsCiAgICAvLyAgICAgZXBvY2hQYXlvdXRSb3VuZHNNYXg6IE1BWF9FUE9DSF9MRU5HVEgsCiAgICAvLyAgICAgbWluUGN0VG9WYWxpZGF0b3JXRm91ckRlY2ltYWxzOiBNSU5fUENUX1RPX1ZBTElEQVRPUiwKICAgIC8vICAgICBtYXhQY3RUb1ZhbGlkYXRvcldGb3VyRGVjaW1hbHM6IE1BWF9QQ1RfVE9fVkFMSURBVE9SLAogICAgLy8gICAgIG1pbkVudHJ5U3Rha2U6IE1JTl9BTEdPX1NUQUtFX1BFUl9QT09MLAogICAgLy8gICAgIG1heEFsZ29QZXJQb29sOiB0aGlzLm1heEFsZ29BbGxvd2VkUGVyUG9vbCgpLAogICAgLy8gICAgIG1heEFsZ29QZXJWYWxpZGF0b3I6IHRoaXMubWF4QWxsb3dlZFN0YWtlKCksCiAgICAvLyAgICAgYW10Q29uc2lkZXJlZFNhdHVyYXRlZDogdGhpcy5hbGdvU2F0dXJhdGlvbkxldmVsKCksCiAgICAvLyAgICAgbWF4Tm9kZXM6IE1BWF9OT0RFUywKICAgIC8vICAgICBtYXhQb29sc1Blck5vZGU6IE1BWF9QT09MU19QRVJfTk9ERSwKICAgIC8vICAgICBtYXhTdGFrZXJzUGVyUG9vbDogTUFYX1NUQUtFUlNfUEVSX1BPT0wsCiAgICAvLyB9CiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIHB1c2hieXRlcyAweDAwMDAwMDAwMDAwMDAwMDEwMDAwMDAwMDAwMGY0MjQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZjQyNDAwMDAwMDAwMDAwMGY0MjQwCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgY29uY2F0CiAgICBzd2FwCiAgICBpdG9iCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE5NwogICAgLy8gbWF4Tm9kZXM6IE1BWF9OT0RFUywKICAgIGludGNfMiAvLyA4CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxODgtMjAwCiAgICAvLyByZXR1cm4gewogICAgLy8gICAgIGVwb2NoUGF5b3V0Um91bmRzTWluOiBNSU5fRVBPQ0hfTEVOR1RILAogICAgLy8gICAgIGVwb2NoUGF5b3V0Um91bmRzTWF4OiBNQVhfRVBPQ0hfTEVOR1RILAogICAgLy8gICAgIG1pblBjdFRvVmFsaWRhdG9yV0ZvdXJEZWNpbWFsczogTUlOX1BDVF9UT19WQUxJREFUT1IsCiAgICAvLyAgICAgbWF4UGN0VG9WYWxpZGF0b3JXRm91ckRlY2ltYWxzOiBNQVhfUENUX1RPX1ZBTElEQVRPUiwKICAgIC8vICAgICBtaW5FbnRyeVN0YWtlOiBNSU5fQUxHT19TVEFLRV9QRVJfUE9PTCwKICAgIC8vICAgICBtYXhBbGdvUGVyUG9vbDogdGhpcy5tYXhBbGdvQWxsb3dlZFBlclBvb2woKSwKICAgIC8vICAgICBtYXhBbGdvUGVyVmFsaWRhdG9yOiB0aGlzLm1heEFsbG93ZWRTdGFrZSgpLAogICAgLy8gICAgIGFtdENvbnNpZGVyZWRTYXR1cmF0ZWQ6IHRoaXMuYWxnb1NhdHVyYXRpb25MZXZlbCgpLAogICAgLy8gICAgIG1heE5vZGVzOiBNQVhfTk9ERVMsCiAgICAvLyAgICAgbWF4UG9vbHNQZXJOb2RlOiBNQVhfUE9PTFNfUEVSX05PREUsCiAgICAvLyAgICAgbWF4U3Rha2Vyc1BlclBvb2w6IE1BWF9TVEFLRVJTX1BFUl9QT09MLAogICAgLy8gfQogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxOTgKICAgIC8vIG1heFBvb2xzUGVyTm9kZTogTUFYX1BPT0xTX1BFUl9OT0RFLAogICAgcHVzaGludCAzIC8vIDMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE4OC0yMDAKICAgIC8vIHJldHVybiB7CiAgICAvLyAgICAgZXBvY2hQYXlvdXRSb3VuZHNNaW46IE1JTl9FUE9DSF9MRU5HVEgsCiAgICAvLyAgICAgZXBvY2hQYXlvdXRSb3VuZHNNYXg6IE1BWF9FUE9DSF9MRU5HVEgsCiAgICAvLyAgICAgbWluUGN0VG9WYWxpZGF0b3JXRm91ckRlY2ltYWxzOiBNSU5fUENUX1RPX1ZBTElEQVRPUiwKICAgIC8vICAgICBtYXhQY3RUb1ZhbGlkYXRvcldGb3VyRGVjaW1hbHM6IE1BWF9QQ1RfVE9fVkFMSURBVE9SLAogICAgLy8gICAgIG1pbkVudHJ5U3Rha2U6IE1JTl9BTEdPX1NUQUtFX1BFUl9QT09MLAogICAgLy8gICAgIG1heEFsZ29QZXJQb29sOiB0aGlzLm1heEFsZ29BbGxvd2VkUGVyUG9vbCgpLAogICAgLy8gICAgIG1heEFsZ29QZXJWYWxpZGF0b3I6IHRoaXMubWF4QWxsb3dlZFN0YWtlKCksCiAgICAvLyAgICAgYW10Q29uc2lkZXJlZFNhdHVyYXRlZDogdGhpcy5hbGdvU2F0dXJhdGlvbkxldmVsKCksCiAgICAvLyAgICAgbWF4Tm9kZXM6IE1BWF9OT0RFUywKICAgIC8vICAgICBtYXhQb29sc1Blck5vZGU6IE1BWF9QT09MU19QRVJfTk9ERSwKICAgIC8vICAgICBtYXhTdGFrZXJzUGVyUG9vbDogTUFYX1NUQUtFUlNfUEVSX1BPT0wsCiAgICAvLyB9CiAgICBpdG9iCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE5OQogICAgLy8gbWF4U3Rha2Vyc1BlclBvb2w6IE1BWF9TVEFLRVJTX1BFUl9QT09MLAogICAgaW50YyA2IC8vIDIwMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTg4LTIwMAogICAgLy8gcmV0dXJuIHsKICAgIC8vICAgICBlcG9jaFBheW91dFJvdW5kc01pbjogTUlOX0VQT0NIX0xFTkdUSCwKICAgIC8vICAgICBlcG9jaFBheW91dFJvdW5kc01heDogTUFYX0VQT0NIX0xFTkdUSCwKICAgIC8vICAgICBtaW5QY3RUb1ZhbGlkYXRvcldGb3VyRGVjaW1hbHM6IE1JTl9QQ1RfVE9fVkFMSURBVE9SLAogICAgLy8gICAgIG1heFBjdFRvVmFsaWRhdG9yV0ZvdXJEZWNpbWFsczogTUFYX1BDVF9UT19WQUxJREFUT1IsCiAgICAvLyAgICAgbWluRW50cnlTdGFrZTogTUlOX0FMR09fU1RBS0VfUEVSX1BPT0wsCiAgICAvLyAgICAgbWF4QWxnb1BlclBvb2w6IHRoaXMubWF4QWxnb0FsbG93ZWRQZXJQb29sKCksCiAgICAvLyAgICAgbWF4QWxnb1BlclZhbGlkYXRvcjogdGhpcy5tYXhBbGxvd2VkU3Rha2UoKSwKICAgIC8vICAgICBhbXRDb25zaWRlcmVkU2F0dXJhdGVkOiB0aGlzLmFsZ29TYXR1cmF0aW9uTGV2ZWwoKSwKICAgIC8vICAgICBtYXhOb2RlczogTUFYX05PREVTLAogICAgLy8gICAgIG1heFBvb2xzUGVyTm9kZTogTUFYX1BPT0xTX1BFUl9OT0RFLAogICAgLy8gICAgIG1heFN0YWtlcnNQZXJQb29sOiBNQVhfU1RBS0VSU19QRVJfUE9PTCwKICAgIC8vIH0KICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTg2LTE4NwogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXRQcm90b2NvbENvbnN0cmFpbnRzKCk6IENvbnN0cmFpbnRzIHsKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0TnVtVmFsaWRhdG9yc1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldE51bVZhbGlkYXRvcnM6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMDgKICAgIC8vIHJldHVybiB0aGlzLm51bVZhbGlkYXRvcnMudmFsdWUKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5OAogICAgLy8gbnVtVmFsaWRhdG9ycyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdudW1WJyB9KQogICAgYnl0ZWMgOCAvLyAibnVtViIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwOAogICAgLy8gcmV0dXJuIHRoaXMubnVtVmFsaWRhdG9ycy52YWx1ZQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwNi0yMDcKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0TnVtVmFsaWRhdG9ycygpOiB1aW50NjQgewogICAgaXRvYgogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRWYWxpZGF0b3JDb25maWdbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRWYWxpZGF0b3JDb25maWc6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTEtMjEyCiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGdldFZhbGlkYXRvckNvbmZpZyh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogVmFsaWRhdG9yQ29uZmlnIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIxMwogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTMKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMCAyNDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIxMS0yMTIKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0VmFsaWRhdG9yQ29uZmlnKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBWYWxpZGF0b3JDb25maWcgewogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRWYWxpZGF0b3JTdGF0ZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldFZhbGlkYXRvclN0YXRlOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjE2LTIxNwogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXRWYWxpZGF0b3JTdGF0ZSh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogVmFsaWRhdG9yQ3VyU3RhdGUgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjE4CiAgICAvLyByZXR1cm4gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5zdGF0ZQogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjE4CiAgICAvLyByZXR1cm4gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5zdGF0ZQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMjQyIDI2CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTYtMjE3CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGdldFZhbGlkYXRvclN0YXRlKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBWYWxpZGF0b3JDdXJTdGF0ZSB7CiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmdldFZhbGlkYXRvck93bmVyQW5kTWFuYWdlcltyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldFZhbGlkYXRvck93bmVyQW5kTWFuYWdlcjoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIyMS0yMjIKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0VmFsaWRhdG9yT3duZXJBbmRNYW5hZ2VyKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBbQWNjb3VudCwgQWNjb3VudF0gewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjI0CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lciwKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIyNAogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIsCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDI0MgogICAgZHVwCiAgICBleHRyYWN0IDggMzIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIyNQogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWFuYWdlciwKICAgIHN3YXAKICAgIGV4dHJhY3QgNDAgMzIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIyMy0yMjYKICAgIC8vIHJldHVybiBbCiAgICAvLyAgICAgdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIsCiAgICAvLyAgICAgdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWFuYWdlciwKICAgIC8vIF0KICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjIxLTIyMgogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXRWYWxpZGF0b3JPd25lckFuZE1hbmFnZXIodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IFtBY2NvdW50LCBBY2NvdW50XSB7CiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmdldFBvb2xzW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0UG9vbHM6CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjM1LTIzNgogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXRQb29scyh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogUG9vbEluZm9bXSB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMzcKICAgIC8vIGNvbnN0IHJldERhdGE6IFBvb2xJbmZvW10gPSBbXQogICAgYnl0ZWMgMTIgLy8gMHgwMDAwCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMzgKICAgIC8vIGNvbnN0IHBvb2xTZXQgPSBjbG9uZSh0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzKQogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjM4CiAgICAvLyBjb25zdCBwb29sU2V0ID0gY2xvbmUodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29scykKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMzkKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBwb29sU2V0Lmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAoKZ2V0UG9vbHNfd2hpbGVfdG9wQDI6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMzkKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBwb29sU2V0Lmxlbmd0aDsgaSArPSAxKSB7CiAgICBkdXAKICAgIGludGNfMyAvLyAyNAogICAgPAogICAgYnogZ2V0UG9vbHNfYmxvY2tANwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjQwCiAgICAvLyBpZiAocG9vbFNldFtpXS5wb29sQXBwSWQgPT09IDApIHsKICAgIGRpZyAxCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgZGlnIDEKICAgIHB1c2hpbnQgMTggLy8gMTgKICAgICoKICAgIHB1c2hpbnQgMTggLy8gMTgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICBidXJ5IDUKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgYnogZ2V0UG9vbHNfYmxvY2tANwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjQ0CiAgICAvLyByZXREYXRhLnB1c2gocG9vbFNldFtpXSkKICAgIGRpZyAyCiAgICBkdXAKICAgIGRpZyA1CiAgICBjb25jYXQgLy8gb24gZXJyb3I6IG1heCBhcnJheSBsZW5ndGggZXhjZWVkZWQKICAgIHN3YXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICByZXBsYWNlMiAwCiAgICBidXJ5IDMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIzOQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHBvb2xTZXQubGVuZ3RoOyBpICs9IDEpIHsKICAgIGR1cAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMQogICAgYiBnZXRQb29sc193aGlsZV90b3BAMgoKZ2V0UG9vbHNfYmxvY2tANzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIzNS0yMzYKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0UG9vbHModmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IFBvb2xJbmZvW10gewogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBkaWcgMwogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0UG9vbEFwcElkW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0UG9vbEFwcElkOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjU0LTI1NQogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXRQb29sQXBwSWQodmFsaWRhdG9ySWQ6IHVpbnQ2NCwgcG9vbElkOiB1aW50NjQpOiB1aW50NjQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgZHVwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyNTcKICAgIC8vIHBvb2xJZCAhPT0gMCAmJiBwb29sSWQgPD0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29scy5sZW5ndGgsCiAgICBieiBnZXRQb29sQXBwSWRfYm9vbF9mYWxzZUA0CiAgICBkaWcgMQogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjU3CiAgICAvLyBwb29sSWQgIT09IDAgJiYgcG9vbElkIDw9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHMubGVuZ3RoLAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZHVwCiAgICBpbnRjXzMgLy8gMjQKICAgIDw9CiAgICBieiBnZXRQb29sQXBwSWRfYm9vbF9mYWxzZUA0CiAgICBpbnRjXzEgLy8gMQoKZ2V0UG9vbEFwcElkX2Jvb2xfbWVyZ2VANToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI1Ni0yNTkKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBwb29sSWQgIT09IDAgJiYgcG9vbElkIDw9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHMubGVuZ3RoLAogICAgLy8gICAgICdwb29sIGlkIG11c3QgYmUgYmV0d2VlbiAxIGFuZCBudW1iZXIgb2YgcG9vbHMgZm9yIHRoaXMgdmFsaWRhdG9yJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBwb29sIGlkIG11c3QgYmUgYmV0d2VlbiAxIGFuZCBudW1iZXIgb2YgcG9vbHMgZm9yIHRoaXMgdmFsaWRhdG9yCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyNjAKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzW3Bvb2xJZCAtIDFdLnBvb2xBcHBJZAogICAgZGlnIDEKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI2MAogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHNbcG9vbElkIC0gMV0ucG9vbEFwcElkCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZGlnIDEKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBzd2FwCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgc3dhcAogICAgcHVzaGludCAxOCAvLyAxOAogICAgKgogICAgcHVzaGludCAxOCAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBleHRyYWN0IDAgOAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjU0LTI1NQogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXRQb29sQXBwSWQodmFsaWRhdG9ySWQ6IHVpbnQ2NCwgcG9vbElkOiB1aW50NjQpOiB1aW50NjQgewogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKZ2V0UG9vbEFwcElkX2Jvb2xfZmFsc2VANDoKICAgIGludGNfMCAvLyAwCiAgICBiIGdldFBvb2xBcHBJZF9ib29sX21lcmdlQDUKCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0UG9vbEluZm9bcm91dGluZ10oKSAtPiB2b2lkOgpnZXRQb29sSW5mbzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI2My0yNjQKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0UG9vbEluZm8ocG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSk6IFBvb2xJbmZvIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMjQKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGNvbnRyYWN0cy92YWxpZGF0b3JDb25maWdzLmFsZ28udHM6OlZhbGlkYXRvclBvb2xLZXkKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI2NQogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdCiAgICBkdXAKICAgIGV4dHJhY3QgMCA4CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyNjUKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIHN3YXAKICAgIGludGNfMiAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIHN3YXAKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBzd2FwCiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICAqCiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI2My0yNjQKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0UG9vbEluZm8ocG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSk6IFBvb2xJbmZvIHsKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0Q3VyTWF4U3Rha2VQZXJQb29sW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0Q3VyTWF4U3Rha2VQZXJQb29sOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mjc1LTI3NgogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXRDdXJNYXhTdGFrZVBlclBvb2wodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IHVpbnQ2NCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBjYWxsc3ViIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRDdXJNYXhTdGFrZVBlclBvb2wKICAgIGl0b2IKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZG9lc1N0YWtlck5lZWRUb1BheU1CUltyb3V0aW5nXSgpIC0+IHZvaWQ6CmRvZXNTdGFrZXJOZWVkVG9QYXlNQlI6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyOTMtMjk0CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGRvZXNTdGFrZXJOZWVkVG9QYXlNQlIoc3Rha2VyOiBBY2NvdW50KTogYm9vbGVhbiB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTIKICAgIC8vIHN0YWtlclBvb2xTZXQgPSBCb3hNYXA8QWNjb3VudCwgRml4ZWRBcnJheTxWYWxpZGF0b3JQb29sS2V5LCB0eXBlb2YgTUFYX1BPT0xTX1BFUl9TVEFLRVI+Pih7IGtleVByZWZpeDogJ3NwcycgfSkKICAgIGJ5dGVjIDYgLy8gInNwcyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mjk1CiAgICAvLyByZXR1cm4gIXRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLmV4aXN0cwogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAhCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyOTMtMjk0CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGRvZXNTdGFrZXJOZWVkVG9QYXlNQlIoc3Rha2VyOiBBY2NvdW50KTogYm9vbGVhbiB7CiAgICBieXRlYyA3IC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRTdGFrZWRQb29sc0ZvckFjY291bnRbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRTdGFrZWRQb29sc0ZvckFjY291bnQ6CiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiAyCiAgICBieXRlY18yIC8vICIiCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMDQtMzA1CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGdldFN0YWtlZFBvb2xzRm9yQWNjb3VudChzdGFrZXI6IEFjY291bnQpOiBWYWxpZGF0b3JQb29sS2V5W10gewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuc3RhdGljX2FycmF5PGFyYzQudWludDgsIDMyPgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEyCiAgICAvLyBzdGFrZXJQb29sU2V0ID0gQm94TWFwPEFjY291bnQsIEZpeGVkQXJyYXk8VmFsaWRhdG9yUG9vbEtleSwgdHlwZW9mIE1BWF9QT09MU19QRVJfU1RBS0VSPj4oeyBrZXlQcmVmaXg6ICdzcHMnIH0pCiAgICBieXRlYyA2IC8vICJzcHMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzA2CiAgICAvLyBpZiAoIXRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBibnogZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50X2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzA3CiAgICAvLyByZXR1cm4gW10KICAgIGJ5dGVjIDEyIC8vIDB4MDAwMAoKZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50X2FmdGVyX2lubGluZWRfY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmdldFN0YWtlZFBvb2xzRm9yQWNjb3VudEA5OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzA0LTMwNQogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXRTdGFrZWRQb29sc0ZvckFjY291bnQoc3Rha2VyOiBBY2NvdW50KTogVmFsaWRhdG9yUG9vbEtleVtdIHsKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCmdldFN0YWtlZFBvb2xzRm9yQWNjb3VudF9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMDkKICAgIC8vIGNvbnN0IHJldERhdGE6IFZhbGlkYXRvclBvb2xLZXlbXSA9IFtdCiAgICBieXRlYyAxMiAvLyAweDAwMDAKICAgIGJ1cnkgMwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzEwCiAgICAvLyBjb25zdCBwb29sU2V0ID0gY2xvbmUodGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikudmFsdWUpCiAgICBkdXAKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGJ1cnkgNQogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMxMQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHBvb2xTZXQubGVuZ3RoOyBpICs9IDEpIHsKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDIKCmdldFN0YWtlZFBvb2xzRm9yQWNjb3VudF93aGlsZV90b3BANDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMxMQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHBvb2xTZXQubGVuZ3RoOyBpICs9IDEpIHsKICAgIGRpZyAxCiAgICBwdXNoaW50IDYgLy8gNgogICAgPAogICAgYnogZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50X2FmdGVyX3doaWxlQDgKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMxMgogICAgLy8gaWYgKHBvb2xTZXRbaV0uaWQgIT09IDApIHsKICAgIGRpZyAxCiAgICBpbnRjXzMgLy8gMjQKICAgICoKICAgIGRpZyA0CiAgICBzd2FwCiAgICBpbnRjXzMgLy8gMjQKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICBidXJ5IDYKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgYnogZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50X2FmdGVyX2lmX2Vsc2VANwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzEzCiAgICAvLyByZXREYXRhLnB1c2gocG9vbFNldFtpXSkKICAgIGRpZyAyCiAgICBkdXAKICAgIGRpZyA2CiAgICBjb25jYXQgLy8gb24gZXJyb3I6IG1heCBhcnJheSBsZW5ndGggZXhjZWVkZWQKICAgIHN3YXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICByZXBsYWNlMiAwCiAgICBidXJ5IDMKCmdldFN0YWtlZFBvb2xzRm9yQWNjb3VudF9hZnRlcl9pZl9lbHNlQDc6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMTEKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBwb29sU2V0Lmxlbmd0aDsgaSArPSAxKSB7CiAgICBkaWcgMQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMgogICAgYiBnZXRTdGFrZWRQb29sc0ZvckFjY291bnRfd2hpbGVfdG9wQDQKCmdldFN0YWtlZFBvb2xzRm9yQWNjb3VudF9hZnRlcl93aGlsZUA4OgogICAgZGlnIDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMwNC0zMDUKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50KHN0YWtlcjogQWNjb3VudCk6IFZhbGlkYXRvclBvb2xLZXlbXSB7CiAgICBiIGdldFN0YWtlZFBvb2xzRm9yQWNjb3VudF9hZnRlcl9pbmxpbmVkX2NvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRTdGFrZWRQb29sc0ZvckFjY291bnRAOQoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRUb2tlblBheW91dFJhdGlvW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0VG9rZW5QYXlvdXRSYXRpbzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMyNi0zMjcKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0VG9rZW5QYXlvdXRSYXRpbyh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogUG9vbFRva2VuUGF5b3V0UmF0aW8gewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzI4CiAgICAvLyByZXR1cm4gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS50b2tlblBheW91dFJhdGlvCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMjgKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnRva2VuUGF5b3V0UmF0aW8KICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBpbnRjIDcgLy8gNzAwCiAgICBpbnRjIDYgLy8gMjAwCiAgICBleHRyYWN0MwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzI2LTMyNwogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXRUb2tlblBheW91dFJhdGlvKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBQb29sVG9rZW5QYXlvdXRSYXRpbyB7CiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmdldE5vZGVQb29sQXNzaWdubWVudHNbcm91dGluZ10oKSAtPiB2b2lkOgpnZXROb2RlUG9vbEFzc2lnbm1lbnRzOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzMxLTMzMgogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXROb2RlUG9vbEFzc2lnbm1lbnRzKHZhbGlkYXRvcklkOiB1aW50NjQpOiBOb2RlUG9vbEFzc2lnbm1lbnRDb25maWcgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzMzCiAgICAvLyBhc3NlcnQodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS5leGlzdHMsICJ0aGUgc3BlY2lmaWVkIHZhbGlkYXRvciBpZCBkb2Vzbid0IGV4aXN0IikKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMzMwogICAgLy8gYXNzZXJ0KHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkuZXhpc3RzLCAidGhlIHNwZWNpZmllZCB2YWxpZGF0b3IgaWQgZG9lc24ndCBleGlzdCIpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIHRoZSBzcGVjaWZpZWQgdmFsaWRhdG9yIGlkIGRvZXNuJ3QgZXhpc3QKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMzNQogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUubm9kZVBvb2xBc3NpZ25tZW50cwogICAgYm94X2dldAogICAgcG9wCiAgICBpbnRjIDggLy8gOTAwCiAgICBpbnRjIDkgLy8gMTkyCiAgICBleHRyYWN0MwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzMxLTMzMgogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXROb2RlUG9vbEFzc2lnbm1lbnRzKHZhbGlkYXRvcklkOiB1aW50NjQpOiBOb2RlUG9vbEFzc2lnbm1lbnRDb25maWcgewogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRORkRSZWdpc3RyeUlEW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0TkZEUmVnaXN0cnlJRDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM0MAogICAgLy8gcmV0dXJuIG5mZFJlZ2lzdHJ5QXBwSWQKICAgIGludGMgMTYgLy8gVE1QTF9ORkRfUkVHSVNUUllfQVBQX0lECiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMzgtMzM5CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGdldE5GRFJlZ2lzdHJ5SUQoKTogdWludDY0IHsKICAgIGl0b2IKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuYWRkVmFsaWRhdG9yW3JvdXRpbmddKCkgLT4gdm9pZDoKYWRkVmFsaWRhdG9yOgogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzIgLy8gIiIKICAgIGR1cG4gNAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzUxCiAgICAvLyBhZGRWYWxpZGF0b3IobWJyUGF5bWVudDogZ3R4bi5QYXltZW50VHhuLCBuZmROYW1lOiBzdHJpbmcsIGNvbmZpZzogVmFsaWRhdG9yQ29uZmlnKTogdWludDY0IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18xIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgcHVzaGludCAyIC8vIDIKICAgICsKICAgIHN3YXAKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5keW5hbWljX2FycmF5PGFyYzQudWludDg+CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXBuIDIKICAgIGxlbgogICAgcHVzaGludCAyNDIgLy8gMjQyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBjb250cmFjdHMvdmFsaWRhdG9yQ29uZmlncy5hbGdvLnRzOjpWYWxpZGF0b3JDb25maWcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNDYKICAgIC8vIGFzc2VydChjb25maWcub3duZXIgIT09IEdsb2JhbC56ZXJvQWRkcmVzcykKICAgIGR1cAogICAgZXh0cmFjdCA4IDMyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGR1cAogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICAhPQogICAgYXNzZXJ0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDQ3CiAgICAvLyBhc3NlcnQoY29uZmlnLm1hbmFnZXIgIT09IEdsb2JhbC56ZXJvQWRkcmVzcykKICAgIGRpZyAxCiAgICBleHRyYWN0IDQwIDMyCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgIT0KICAgIGFzc2VydAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA0OAogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IGNvbmZpZy5vd25lciwgJ3NlbmRlciBtdXN0IGJlIG93bmVyIHRvIGFkZCBuZXcgdmFsaWRhdG9yJykKICAgIHR4biBTZW5kZXIKICAgID09CiAgICBhc3NlcnQgLy8gc2VuZGVyIG11c3QgYmUgb3duZXIgdG8gYWRkIG5ldyB2YWxpZGF0b3IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNTEKICAgIC8vIGNvbmZpZy5lbnRyeUdhdGluZ1R5cGUuYXNVaW50NjQoKSA+PSBHQVRJTkdfVFlQRV9OT05FICYmCiAgICBwdXNoaW50IDgwIC8vIDgwCiAgICBnZXRieXRlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDUyCiAgICAvLyBjb25maWcuZW50cnlHYXRpbmdUeXBlLmFzVWludDY0KCkgPD0gR0FUSU5HX1RZUEVfQ09OU1RfTUFYLAogICAgcHVzaGludCA0IC8vIDQKICAgIDw9CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDUxLTEwNTIKICAgIC8vIGNvbmZpZy5lbnRyeUdhdGluZ1R5cGUuYXNVaW50NjQoKSA+PSBHQVRJTkdfVFlQRV9OT05FICYmCiAgICAvLyAgICAgY29uZmlnLmVudHJ5R2F0aW5nVHlwZS5hc1VpbnQ2NCgpIDw9IEdBVElOR19UWVBFX0NPTlNUX01BWCwKICAgIGJ6IGFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDEzCiAgICBpbnRjXzEgLy8gMQoKYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMTQ6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDUwLTEwNTQKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBjb25maWcuZW50cnlHYXRpbmdUeXBlLmFzVWludDY0KCkgPj0gR0FUSU5HX1RZUEVfTk9ORSAmJgogICAgLy8gICAgICAgICBjb25maWcuZW50cnlHYXRpbmdUeXBlLmFzVWludDY0KCkgPD0gR0FUSU5HX1RZUEVfQ09OU1RfTUFYLAogICAgLy8gICAgICdnYXRpbmcgdHlwZSBub3QgdmFsaWQnLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIGdhdGluZyB0eXBlIG5vdCB2YWxpZAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA1NgogICAgLy8gY29uZmlnLmVwb2NoUm91bmRMZW5ndGguYXNVaW50NjQoKSA+PSBNSU5fRVBPQ0hfTEVOR1RIICYmCiAgICBkaWcgMgogICAgcHVzaGludCAxNjkgLy8gMTY5CiAgICBleHRyYWN0X3VpbnQzMgogICAgZHVwCiAgICBidXJ5IDkKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNTYtMTA1NwogICAgLy8gY29uZmlnLmVwb2NoUm91bmRMZW5ndGguYXNVaW50NjQoKSA+PSBNSU5fRVBPQ0hfTEVOR1RIICYmCiAgICAvLyAgICAgY29uZmlnLmVwb2NoUm91bmRMZW5ndGguYXNVaW50NjQoKSA8PSBNQVhfRVBPQ0hfTEVOR1RILAogICAgYnogYWRkVmFsaWRhdG9yX2Jvb2xfZmFsc2VAMTcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNTcKICAgIC8vIGNvbmZpZy5lcG9jaFJvdW5kTGVuZ3RoLmFzVWludDY0KCkgPD0gTUFYX0VQT0NIX0xFTkdUSCwKICAgIGRpZyA3CiAgICBpbnRjIDEwIC8vIDEwMDAwMDAKICAgIDw9CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDU2LTEwNTcKICAgIC8vIGNvbmZpZy5lcG9jaFJvdW5kTGVuZ3RoLmFzVWludDY0KCkgPj0gTUlOX0VQT0NIX0xFTkdUSCAmJgogICAgLy8gICAgIGNvbmZpZy5lcG9jaFJvdW5kTGVuZ3RoLmFzVWludDY0KCkgPD0gTUFYX0VQT0NIX0xFTkdUSCwKICAgIGJ6IGFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDE3CiAgICBpbnRjXzEgLy8gMQoKYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMTg6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDU1LTEwNTkKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBjb25maWcuZXBvY2hSb3VuZExlbmd0aC5hc1VpbnQ2NCgpID49IE1JTl9FUE9DSF9MRU5HVEggJiYKICAgIC8vICAgICAgICAgY29uZmlnLmVwb2NoUm91bmRMZW5ndGguYXNVaW50NjQoKSA8PSBNQVhfRVBPQ0hfTEVOR1RILAogICAgLy8gICAgICdlcG9jaCBsZW5ndGggbm90IGluIGFsbG93YWJsZSByYW5nZScsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gZXBvY2ggbGVuZ3RoIG5vdCBpbiBhbGxvd2FibGUgcmFuZ2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNjEKICAgIC8vIGNvbmZpZy5wZXJjZW50VG9WYWxpZGF0b3IuYXNVaW50NjQoKSA+PSBNSU5fUENUX1RPX1ZBTElEQVRPUiAmJgogICAgZGlnIDIKICAgIHB1c2hpbnQgMTczIC8vIDE3MwogICAgZXh0cmFjdF91aW50MzIKICAgIGR1cAogICAgYnVyeSA4CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDYyCiAgICAvLyBjb25maWcucGVyY2VudFRvVmFsaWRhdG9yLmFzVWludDY0KCkgPD0gTUFYX1BDVF9UT19WQUxJREFUT1IsCiAgICBpbnRjIDEwIC8vIDEwMDAwMDAKICAgIDw9CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDYxLTEwNjIKICAgIC8vIGNvbmZpZy5wZXJjZW50VG9WYWxpZGF0b3IuYXNVaW50NjQoKSA+PSBNSU5fUENUX1RPX1ZBTElEQVRPUiAmJgogICAgLy8gICAgIGNvbmZpZy5wZXJjZW50VG9WYWxpZGF0b3IuYXNVaW50NjQoKSA8PSBNQVhfUENUX1RPX1ZBTElEQVRPUiwKICAgIGJ6IGFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDIwCiAgICBpbnRjXzEgLy8gMQoKYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMjE6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDYwLTEwNjQKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBjb25maWcucGVyY2VudFRvVmFsaWRhdG9yLmFzVWludDY0KCkgPj0gTUlOX1BDVF9UT19WQUxJREFUT1IgJiYKICAgIC8vICAgICAgICAgY29uZmlnLnBlcmNlbnRUb1ZhbGlkYXRvci5hc1VpbnQ2NCgpIDw9IE1BWF9QQ1RfVE9fVkFMSURBVE9SLAogICAgLy8gICAgICdjb21taXNzaW9uIHBlcmNlbnRhZ2Ugbm90IHZhbGlkJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBjb21taXNzaW9uIHBlcmNlbnRhZ2Ugbm90IHZhbGlkCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDY1CiAgICAvLyBpZiAoY29uZmlnLnBlcmNlbnRUb1ZhbGlkYXRvci5hc1VpbnQ2NCgpICE9PSAwKSB7CiAgICBkaWcgNgogICAgYnogYWRkVmFsaWRhdG9yX2FmdGVyX2lmX2Vsc2VAMjMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNjcKICAgIC8vIGNvbmZpZy52YWxpZGF0b3JDb21taXNzaW9uQWRkcmVzcyAhPT0gR2xvYmFsLnplcm9BZGRyZXNzLAogICAgZGlnIDIKICAgIGV4dHJhY3QgMTc3IDMyCiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgICE9CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDY2LTEwNjkKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBjb25maWcudmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3MgIT09IEdsb2JhbC56ZXJvQWRkcmVzcywKICAgIC8vICAgICAndmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3MgbXVzdCBiZSBzZXQgaWYgcGVyY2VudCB0byB2YWxpZGF0b3IgaXMgbm90IDAnLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIHZhbGlkYXRvckNvbW1pc3Npb25BZGRyZXNzIG11c3QgYmUgc2V0IGlmIHBlcmNlbnQgdG8gdmFsaWRhdG9yIGlzIG5vdCAwCgphZGRWYWxpZGF0b3JfYWZ0ZXJfaWZfZWxzZUAyMzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNzEKICAgIC8vIGFzc2VydChjb25maWcubWluRW50cnlTdGFrZSA+PSBNSU5fQUxHT19TVEFLRV9QRVJfUE9PTCwgJ3N0YWtpbmcgcG9vbCBtdXN0IGhhdmUgbWluaW11bSBlbnRyeSBvZiAxIGFsZ28nKQogICAgZGlnIDIKICAgIGR1cAogICAgcHVzaGludCAyMDkgLy8gMjA5CiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50YyAxMCAvLyAxMDAwMDAwCiAgICA+PQogICAgYXNzZXJ0IC8vIHN0YWtpbmcgcG9vbCBtdXN0IGhhdmUgbWluaW11bSBlbnRyeSBvZiAxIGFsZ28KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNzQKICAgIC8vIGNvbmZpZy5wb29sc1Blck5vZGUuYXNVaW50NjQoKSA+IDAgJiYgY29uZmlnLnBvb2xzUGVyTm9kZS5hc1VpbnQ2NCgpIDw9IE1BWF9QT09MU19QRVJfTk9ERSwKICAgIHB1c2hpbnQgMjI1IC8vIDIyNQogICAgZ2V0Ynl0ZQogICAgZHVwCiAgICBidXJ5IDcKICAgIGJ6IGFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDI2CiAgICBkaWcgNQogICAgcHVzaGludCAzIC8vIDMKICAgIDw9CiAgICBieiBhZGRWYWxpZGF0b3JfYm9vbF9mYWxzZUAyNgogICAgaW50Y18xIC8vIDEKCmFkZFZhbGlkYXRvcl9ib29sX21lcmdlQDI3OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA3My0xMDc2CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgICAgY29uZmlnLnBvb2xzUGVyTm9kZS5hc1VpbnQ2NCgpID4gMCAmJiBjb25maWcucG9vbHNQZXJOb2RlLmFzVWludDY0KCkgPD0gTUFYX1BPT0xTX1BFUl9OT0RFLAogICAgLy8gICAgICdudW1iZXIgb2YgcG9vbHMgcGVyIG5vZGUgbXVzdCBiZSBiZSBiZXR3ZWVuIDEgYW5kIHRoZSBtYXhpbXVtIGFsbG93ZWQgbnVtYmVyJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBudW1iZXIgb2YgcG9vbHMgcGVyIG5vZGUgbXVzdCBiZSBiZSBiZXR3ZWVuIDEgYW5kIHRoZSBtYXhpbXVtIGFsbG93ZWQgbnVtYmVyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDc3CiAgICAvLyBpZiAoY29uZmlnLnN1bnNldHRpbmdPbiAhPT0gMCkgewogICAgZGlnIDIKICAgIGludGMgMTEgLy8gMjI2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBidXJ5IDYKICAgIGJ6IGFkZFZhbGlkYXRvcl9hZnRlcl9pZl9lbHNlQDI5CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDc4CiAgICAvLyBhc3NlcnQoY29uZmlnLnN1bnNldHRpbmdPbiA+IEdsb2JhbC5sYXRlc3RUaW1lc3RhbXAsICdzdW5zZXR0aW5nT24gbXVzdCBiZSBsYXRlciB0aGFuIG5vdyBpZiBzZXQnKQogICAgZGlnIDQKICAgIGdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKICAgID4KICAgIGFzc2VydCAvLyBzdW5zZXR0aW5nT24gbXVzdCBiZSBsYXRlciB0aGFuIG5vdyBpZiBzZXQKCmFkZFZhbGlkYXRvcl9hZnRlcl9pZl9lbHNlQDI5OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzU0LTM1NwogICAgLy8gYXNzZXJ0TWF0Y2gobWJyUGF5bWVudCwgewogICAgLy8gICAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhbW91bnQ6IHRoaXMuZ2V0TWJyQW1vdW50cygpLmFkZFZhbGlkYXRvck1iciwKICAgIC8vIH0pCiAgICBkaWcgMwogICAgZHVwCiAgICBndHhucyBSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzU1CiAgICAvLyByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzU0LTM1NwogICAgLy8gYXNzZXJ0TWF0Y2gobWJyUGF5bWVudCwgewogICAgLy8gICAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhbW91bnQ6IHRoaXMuZ2V0TWJyQW1vdW50cygpLmFkZFZhbGlkYXRvck1iciwKICAgIC8vIH0pCiAgICA9PQogICAgZGlnIDEKICAgIGd0eG5zIEFtb3VudAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzU2CiAgICAvLyBhbW91bnQ6IHRoaXMuZ2V0TWJyQW1vdW50cygpLmFkZFZhbGlkYXRvck1iciwKICAgIHB1c2hpbnQgNDQyOTAwIC8vIDQ0MjkwMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzU0LTM1NwogICAgLy8gYXNzZXJ0TWF0Y2gobWJyUGF5bWVudCwgewogICAgLy8gICAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhbW91bnQ6IHRoaXMuZ2V0TWJyQW1vdW50cygpLmFkZFZhbGlkYXRvck1iciwKICAgIC8vIH0pCiAgICA9PQogICAgJiYKICAgIGFzc2VydCAvLyBhc3NlcnQgdGFyZ2V0IGlzIG1hdGNoIGZvciBjb25kaXRpb25zCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNTkKICAgIC8vIGFzc2VydChtYnJQYXltZW50LmZlZSA+IDEwICogMTAwMDAwMCwgJ2ZlZSBtdXN0IGJlIDEwIEFMR08gb3IgbW9yZSB0byBwcmV2ZW50IHNwYW1taW5nIG9mIHZhbGlkYXRvcnMnKQogICAgZ3R4bnMgRmVlCiAgICBwdXNoaW50IDEwMDAwMDAwIC8vIDEwMDAwMDAwCiAgICA+CiAgICBhc3NlcnQgLy8gZmVlIG11c3QgYmUgMTAgQUxHTyBvciBtb3JlIHRvIHByZXZlbnQgc3BhbW1pbmcgb2YgdmFsaWRhdG9ycwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzYyCiAgICAvLyBjb25zdCB2YWxpZGF0b3JJZDogdWludDY0ID0gdGhpcy5udW1WYWxpZGF0b3JzLnZhbHVlICsgMQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk4CiAgICAvLyBudW1WYWxpZGF0b3JzID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ251bVYnIH0pCiAgICBieXRlYyA4IC8vICJudW1WIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzYyCiAgICAvLyBjb25zdCB2YWxpZGF0b3JJZDogdWludDY0ID0gdGhpcy5udW1WYWxpZGF0b3JzLnZhbHVlICsgMQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMSAvLyAxCiAgICArCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5OAogICAgLy8gbnVtVmFsaWRhdG9ycyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdudW1WJyB9KQogICAgYnl0ZWMgOCAvLyAibnVtViIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM2MwogICAgLy8gdGhpcy5udW1WYWxpZGF0b3JzLnZhbHVlID0gdmFsaWRhdG9ySWQKICAgIGRpZyAxCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzY1CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLmNyZWF0ZSgpCiAgICBpdG9iCiAgICBkdXAKICAgIGJ1cnkgMTEKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBkaWcgMQogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNjUKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkuY3JlYXRlKCkKICAgIGR1cAogICAgcHVzaGludCAxMDkyIC8vIDEwOTIKICAgIGJveF9jcmVhdGUKICAgIHBvcAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzY2CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZyA9IGNsb25lKGNvbmZpZykKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGRpZyA2CiAgICBkdXAKICAgIGNvdmVyIDQKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNjcKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLmlkID0gdmFsaWRhdG9ySWQKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDMKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNzAKICAgIC8vIGlmIChjb25maWcubmZkRm9ySW5mbyAhPT0gMCkgewogICAgcHVzaGludCA3MiAvLyA3MgogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSAxMAogICAgYnogYWRkVmFsaWRhdG9yX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mzc2CiAgICAvLyBUeG4uc2VuZGVyID09PSBBY2NvdW50KG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKGNvbmZpZy5uZmRGb3JJbmZvLCBCeXRlcygnaS5vd25lci5hJykpWzBdKSwKICAgIHR4biBTZW5kZXIKICAgIGRpZyA5CiAgICBieXRlYyA5IC8vICJpLm93bmVyLmEiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICA9PQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mzc1LTM3OAogICAgLy8gYXNzZXJ0KAogICAgLy8gICAgIFR4bi5zZW5kZXIgPT09IEFjY291bnQob3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoY29uZmlnLm5mZEZvckluZm8sIEJ5dGVzKCdpLm93bmVyLmEnKSlbMF0pLAogICAgLy8gICAgICdJZiBzcGVjaWZ5aW5nIE5GRCwgYWNjb3VudCBhZGRpbmcgdmFsaWRhdG9yIG11c3QgYmUgb3duZXInLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIElmIHNwZWNpZnlpbmcgTkZELCBhY2NvdW50IGFkZGluZyB2YWxpZGF0b3IgbXVzdCBiZSBvd25lcgoKYWRkVmFsaWRhdG9yX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM5MAogICAgLy8gZW1pdDxyZXRpT1BfYWRkZWRWYWxpZGF0b3I+KHsgaWQ6IHZhbGlkYXRvcklkLCBvd25lcjogY29uZmlnLm93bmVyLCBtYW5hZ2VyOiBjb25maWcubWFuYWdlciB9KQogICAgZGlnIDkKICAgIGR1cAogICAgZGlnIDMKICAgIGNvbmNhdAogICAgZGlnIDIKICAgIGNvbmNhdAogICAgcHVzaGJ5dGVzIDB4YThkZDIxY2IgLy8gbWV0aG9kICJyZXRpT1BfYWRkZWRWYWxpZGF0b3IodWludDY0LGFkZHJlc3MsYWRkcmVzcykiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzUxCiAgICAvLyBhZGRWYWxpZGF0b3IobWJyUGF5bWVudDogZ3R4bi5QYXltZW50VHhuLCBuZmROYW1lOiBzdHJpbmcsIGNvbmZpZzogVmFsaWRhdG9yQ29uZmlnKTogdWludDY0IHsKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCmFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDI2OgogICAgaW50Y18wIC8vIDAKICAgIGIgYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMjcKCmFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDIwOgogICAgaW50Y18wIC8vIDAKICAgIGIgYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMjEKCmFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDE3OgogICAgaW50Y18wIC8vIDAKICAgIGIgYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMTgKCmFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDEzOgogICAgaW50Y18wIC8vIDAKICAgIGIgYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMTQKCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuY2hhbmdlVmFsaWRhdG9yTWFuYWdlcltyb3V0aW5nXSgpIC0+IHZvaWQ6CmNoYW5nZVZhbGlkYXRvck1hbmFnZXI6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MDEKICAgIC8vIGNoYW5nZVZhbGlkYXRvck1hbmFnZXIodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgbWFuYWdlcjogQWNjb3VudCk6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuc3RhdGljX2FycmF5PGFyYzQudWludDgsIDMyPgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDAyCiAgICAvLyB0aGlzLmNhbGxlck11c3RCZU93bmVyKHZhbGlkYXRvcklkKQogICAgZGlnIDEKICAgIGNhbGxzdWIgY2FsbGVyTXVzdEJlT3duZXIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQwMwogICAgLy8gYXNzZXJ0KG1hbmFnZXIgIT09IEdsb2JhbC56ZXJvQWRkcmVzcywgJ25lZWRzIHRvIGF0IGxlYXN0IGJlIHZhbGlkIGFkZHJlc3MnKQogICAgZHVwCiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgICE9CiAgICBhc3NlcnQgLy8gbmVlZHMgdG8gYXQgbGVhc3QgYmUgdmFsaWQgYWRkcmVzcwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDA0CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5tYW5hZ2VyID0gbWFuYWdlcgogICAgc3dhcAogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDA0CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5tYW5hZ2VyID0gbWFuYWdlcgogICAgcHVzaGludCA0MCAvLyA0MAogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDAxCiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JNYW5hZ2VyKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIG1hbmFnZXI6IEFjY291bnQpOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuY2hhbmdlVmFsaWRhdG9yU3Vuc2V0SW5mb1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmNoYW5nZVZhbGlkYXRvclN1bnNldEluZm86CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MTUKICAgIC8vIGNoYW5nZVZhbGlkYXRvclN1bnNldEluZm8odmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgc3Vuc2V0dGluZ09uOiB1aW50NjQsIHN1bnNldHRpbmdUbzogVmFsaWRhdG9ySWRUeXBlKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MTYKICAgIC8vIHRoaXMuY2FsbGVyTXVzdEJlT3duZXIodmFsaWRhdG9ySWQpCiAgICBkaWcgMgogICAgY2FsbHN1YiBjYWxsZXJNdXN0QmVPd25lcgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDE3CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5zdW5zZXR0aW5nT24gPSBzdW5zZXR0aW5nT24KICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDE3CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5zdW5zZXR0aW5nT24gPSBzdW5zZXR0aW5nT24KICAgIGR1cAogICAgaW50YyAxMSAvLyAyMjYKICAgIHVuY292ZXIgNAogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQxOAogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcuc3Vuc2V0dGluZ1RvID0gc3Vuc2V0dGluZ1RvCiAgICBwdXNoaW50IDIzNCAvLyAyMzQKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQxNQogICAgLy8gY2hhbmdlVmFsaWRhdG9yU3Vuc2V0SW5mbyh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLCBzdW5zZXR0aW5nT246IHVpbnQ2NCwgc3Vuc2V0dGluZ1RvOiBWYWxpZGF0b3JJZFR5cGUpOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuY2hhbmdlVmFsaWRhdG9yTkZEW3JvdXRpbmddKCkgLT4gdm9pZDoKY2hhbmdlVmFsaWRhdG9yTkZEOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDMwCiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JORkQodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgbmZkQXBwSUQ6IHVpbnQ2NCwgbmZkTmFtZTogc3RyaW5nKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBkdXAKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIHB1c2hpbnQgMiAvLyAyCiAgICArCiAgICBzd2FwCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnVpbnQ4PgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDMxCiAgICAvLyB0aGlzLmNhbGxlck11c3RCZU93bmVyKHZhbGlkYXRvcklkKQogICAgZGlnIDIKICAgIGNhbGxzdWIgY2FsbGVyTXVzdEJlT3duZXIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQzNgogICAgLy8gVHhuLnNlbmRlciA9PT0gQWNjb3VudChvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhuZmRBcHBJRCwgQnl0ZXMoJ2kub3duZXIuYScpKVswXSksCiAgICB0eG4gU2VuZGVyCiAgICBzd2FwCiAgICBieXRlYyA5IC8vICJpLm93bmVyLmEiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICA9PQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDM1LTQzOAogICAgLy8gYXNzZXJ0KAogICAgLy8gICAgIFR4bi5zZW5kZXIgPT09IEFjY291bnQob3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMobmZkQXBwSUQsIEJ5dGVzKCdpLm93bmVyLmEnKSlbMF0pLAogICAgLy8gICAgICdJZiBzcGVjaWZ5aW5nIE5GRCwgYWNjb3VudCBhZGRpbmcgdmFsaWRhdG9yIG11c3QgYmUgb3duZXInLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIElmIHNwZWNpZnlpbmcgTkZELCBhY2NvdW50IGFkZGluZyB2YWxpZGF0b3IgbXVzdCBiZSBvd25lcgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDM5CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5uZmRGb3JJbmZvID0gbmZkQXBwSUQKICAgIHN3YXAKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQzOQogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubmZkRm9ySW5mbyA9IG5mZEFwcElECiAgICBwdXNoaW50IDcyIC8vIDcyCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MzAKICAgIC8vIGNoYW5nZVZhbGlkYXRvck5GRCh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLCBuZmRBcHBJRDogdWludDY0LCBuZmROYW1lOiBzdHJpbmcpOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuY2hhbmdlVmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3Nbcm91dGluZ10oKSAtPiB2b2lkOgpjaGFuZ2VWYWxpZGF0b3JDb21taXNzaW9uQWRkcmVzczoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ0NgogICAgLy8gY2hhbmdlVmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3ModmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgY29tbWlzc2lvbkFkZHJlc3M6IEFjY291bnQpOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ0NwogICAgLy8gdGhpcy5jYWxsZXJNdXN0QmVPd25lcih2YWxpZGF0b3JJZCkKICAgIGRpZyAxCiAgICBjYWxsc3ViIGNhbGxlck11c3RCZU93bmVyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NDgKICAgIC8vIGFzc2VydChjb21taXNzaW9uQWRkcmVzcyAhPT0gR2xvYmFsLnplcm9BZGRyZXNzKQogICAgZHVwCiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgICE9CiAgICBhc3NlcnQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ0OQogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcudmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3MgPSBjb21taXNzaW9uQWRkcmVzcwogICAgc3dhcAogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDQ5CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy52YWxpZGF0b3JDb21taXNzaW9uQWRkcmVzcyA9IGNvbW1pc3Npb25BZGRyZXNzCiAgICBwdXNoaW50IDE3NyAvLyAxNzcKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ0NgogICAgLy8gY2hhbmdlVmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3ModmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgY29tbWlzc2lvbkFkZHJlc3M6IEFjY291bnQpOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mb1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmNoYW5nZVZhbGlkYXRvclJld2FyZEluZm86CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NTYtNDYzCiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JSZXdhcmRJbmZvKAogICAgLy8gICAgIHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsCiAgICAvLyAgICAgRW50cnlHYXRpbmdUeXBlOiBVaW50OCwKICAgIC8vICAgICBFbnRyeUdhdGluZ0FkZHJlc3M6IEFjY291bnQsCiAgICAvLyAgICAgRW50cnlHYXRpbmdBc3NldHM6IEZpeGVkQXJyYXk8dWludDY0LCA0PiwKICAgIC8vICAgICBHYXRpbmdBc3NldE1pbkJhbGFuY2U6IHVpbnQ2NCwKICAgIC8vICAgICBSZXdhcmRQZXJQYXlvdXQ6IHVpbnQ2NCwKICAgIC8vICk6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgZHVwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50OAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgZHVwCiAgICBjb3ZlciAzCiAgICBsZW4KICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuc3RhdGljX2FycmF5PGFyYzQudWludDgsIDMyPgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAogICAgZHVwCiAgICBjb3ZlciAzCiAgICBsZW4KICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuc3RhdGljX2FycmF5PHVpbnQ2NCwgND4KICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDUKICAgIGR1cAogICAgY292ZXIgMwogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDYKICAgIGR1cAogICAgY292ZXIgMwogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ2NAogICAgLy8gdGhpcy5jYWxsZXJNdXN0QmVPd25lcih2YWxpZGF0b3JJZCkKICAgIHN3YXAKICAgIGNhbGxzdWIgY2FsbGVyTXVzdEJlT3duZXIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ2NwogICAgLy8gRW50cnlHYXRpbmdUeXBlLmFzVWludDY0KCkgPj0gR0FUSU5HX1RZUEVfTk9ORSAmJiBFbnRyeUdhdGluZ1R5cGUuYXNVaW50NjQoKSA8IEdBVElOR19UWVBFX0NPTlNUX01BWCwKICAgIGJ0b2kKICAgIGR1cAogICAgcHVzaGludCA0IC8vIDQKICAgIDwKICAgIGJ6IGNoYW5nZVZhbGlkYXRvclJld2FyZEluZm9fYm9vbF9mYWxzZUA0CiAgICBpbnRjXzEgLy8gMQoKY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mb19ib29sX21lcmdlQDU6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NjYtNDY5CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgICAgRW50cnlHYXRpbmdUeXBlLmFzVWludDY0KCkgPj0gR0FUSU5HX1RZUEVfTk9ORSAmJiBFbnRyeUdhdGluZ1R5cGUuYXNVaW50NjQoKSA8IEdBVElOR19UWVBFX0NPTlNUX01BWCwKICAgIC8vICAgICAnaW52YWxpZCBFbnRyeSBnYXRpbmcgdHlwZScsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gaW52YWxpZCBFbnRyeSBnYXRpbmcgdHlwZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDcwCiAgICAvLyBpZiAoRW50cnlHYXRpbmdUeXBlLmFzVWludDY0KCkgPT09IEdBVElOR19UWVBFX0FTU0VUU19DUkVBVEVEX0JZKSB7CiAgICBkdXAKICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYnogY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mb19hZnRlcl9pZl9lbHNlQDcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ3MQogICAgLy8gYXNzZXJ0KEVudHJ5R2F0aW5nQWRkcmVzcyAhPT0gR2xvYmFsLnplcm9BZGRyZXNzKQogICAgZGlnIDQKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgIT0KICAgIGFzc2VydAoKY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mb19hZnRlcl9pZl9lbHNlQDc6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NzkKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLmVudHJ5R2F0aW5nVHlwZSA9IEVudHJ5R2F0aW5nVHlwZQogICAgZGlnIDYKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ3OQogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcuZW50cnlHYXRpbmdUeXBlID0gRW50cnlHYXRpbmdUeXBlCiAgICBkdXAKICAgIHB1c2hpbnQgODAgLy8gODAKICAgIGRpZyA4CiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDgwCiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5lbnRyeUdhdGluZ0FkZHJlc3MgPSBFbnRyeUdhdGluZ0FkZHJlc3MKICAgIGR1cAogICAgcHVzaGludCA4MSAvLyA4MQogICAgZGlnIDcKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0ODEKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLmVudHJ5R2F0aW5nQXNzZXRzID0gY2xvbmUoRW50cnlHYXRpbmdBc3NldHMpCiAgICBkdXAKICAgIHB1c2hpbnQgMTEzIC8vIDExMwogICAgZGlnIDYKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0ODIKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLmdhdGluZ0Fzc2V0TWluQmFsYW5jZSA9IEdhdGluZ0Fzc2V0TWluQmFsYW5jZQogICAgZHVwCiAgICBwdXNoaW50IDE0NSAvLyAxNDUKICAgIGRpZyA1CiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDgzCiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5yZXdhcmRQZXJQYXlvdXQgPSBSZXdhcmRQZXJQYXlvdXQKICAgIHB1c2hpbnQgMTYxIC8vIDE2MQogICAgZGlnIDMKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NTYtNDYzCiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JSZXdhcmRJbmZvKAogICAgLy8gICAgIHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsCiAgICAvLyAgICAgRW50cnlHYXRpbmdUeXBlOiBVaW50OCwKICAgIC8vICAgICBFbnRyeUdhdGluZ0FkZHJlc3M6IEFjY291bnQsCiAgICAvLyAgICAgRW50cnlHYXRpbmdBc3NldHM6IEZpeGVkQXJyYXk8dWludDY0LCA0PiwKICAgIC8vICAgICBHYXRpbmdBc3NldE1pbkJhbGFuY2U6IHVpbnQ2NCwKICAgIC8vICAgICBSZXdhcmRQZXJQYXlvdXQ6IHVpbnQ2NCwKICAgIC8vICk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mb19ib29sX2ZhbHNlQDQ6CiAgICBpbnRjXzAgLy8gMAogICAgYiBjaGFuZ2VWYWxpZGF0b3JSZXdhcmRJbmZvX2Jvb2xfbWVyZ2VANQoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5hZGRQb29sW3JvdXRpbmddKCkgLT4gdm9pZDoKYWRkUG9vbDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ5NwogICAgLy8gYWRkUG9vbChtYnJQYXltZW50OiBndHhuLlBheW1lbnRUeG4sIHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIG5vZGVOdW06IHVpbnQ2NCk6IFZhbGlkYXRvclBvb2xLZXkgewogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0OTkKICAgIC8vIHRoaXMuY2FsbGVyTXVzdEJlT3duZXJPck1hbmFnZXIodmFsaWRhdG9ySWQpCiAgICBkaWcgMQogICAgY2FsbHN1YiBjYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTAyCiAgICAvLyBhc3NlcnRNYXRjaChtYnJQYXltZW50LCB7IHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywgYW1vdW50OiB0aGlzLmdldE1ickFtb3VudHMoKS5hZGRQb29sTWJyIH0pCiAgICBkaWcgMgogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICA9PQogICAgdW5jb3ZlciAzCiAgICBndHhucyBBbW91bnQKICAgIHB1c2hpbnQgOTYzNTAwIC8vIDk2MzUwMAogICAgPT0KICAgICYmCiAgICBhc3NlcnQgLy8gYXNzZXJ0IHRhcmdldCBpcyBtYXRjaCBmb3IgY29uZGl0aW9ucwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTA0CiAgICAvLyBhc3NlcnQodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS5leGlzdHMsICJzcGVjaWZpZWQgdmFsaWRhdG9yIGlkIGlzbid0IHZhbGlkIikKICAgIGRpZyAxCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTA0CiAgICAvLyBhc3NlcnQodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS5leGlzdHMsICJzcGVjaWZpZWQgdmFsaWRhdG9yIGlkIGlzbid0IHZhbGlkIikKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gc3BlY2lmaWVkIHZhbGlkYXRvciBpZCBpc24ndCB2YWxpZAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTA2CiAgICAvLyBsZXQgbnVtUG9vbHM6IHVpbnQ2NCA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuc3RhdGUubnVtUG9vbHMuYXNVaW50NjQoKQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIGR1cAogICAgZXh0cmFjdCAyNDIgMjYKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTA3CiAgICAvLyBpZiAoKG51bVBvb2xzIGFzIHVpbnQ2NCkgPj0gTUFYX1BPT0xTKSB7CiAgICBkdXAKICAgIGludGNfMyAvLyAyNAogICAgPj0KICAgICEKICAgIGFzc2VydCAvLyBhbHJlYWR5IGF0IG1heCBwb29sIHNpemUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUxMAogICAgLy8gbnVtUG9vbHMgKz0gMQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUxMy01MzEKICAgIC8vIGl0eG4uYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBvbkNvbXBsZXRpb246IE9uQ29tcGxldGVBY3Rpb24uTm9PcCwKICAgIC8vICAgICBhcHByb3ZhbFByb2dyYW06IFsKICAgIC8vICAgICAgICAgdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5leHRyYWN0KDAsIDQwOTYpLAogICAgLy8gICAgICAgICB0aGlzLnN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtLmV4dHJhY3QoNDA5NiwgdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5sZW5ndGggLSA0MDk2KSwKICAgIC8vICAgICBdLAogICAgLy8gICAgIGNsZWFyU3RhdGVQcm9ncmFtOiBzdGFraW5nUG9vbC5jbGVhclN0YXRlUHJvZ3JhbSwKICAgIC8vICAgICBnbG9iYWxOdW1VaW50OiBzdGFraW5nUG9vbC5nbG9iYWxVaW50cywKICAgIC8vICAgICBnbG9iYWxOdW1CeXRlczogc3Rha2luZ1Bvb2wuZ2xvYmFsQnl0ZXMsCiAgICAvLyAgICAgZXh0cmFQcm9ncmFtUGFnZXM6IDMsCiAgICAvLyAgICAgYXBwQXJnczogWwogICAgLy8gICAgICAgICAvLyBjcmVhdGluZ0NvbnRyYWN0SUQsIHZhbGlkYXRvcklkLCBwb29sSWQsIG1pbkVudHJ5U3Rha2UKICAgIC8vICAgICAgICAgbWV0aG9kU2VsZWN0b3IoJ2NyZWF0ZUFwcGxpY2F0aW9uKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCl2b2lkJyksCiAgICAvLyAgICAgICAgIG9wLml0b2IoR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkKSwKICAgIC8vICAgICAgICAgb3AuaXRvYih2YWxpZGF0b3JJZCksCiAgICAvLyAgICAgICAgIG9wLml0b2IobnVtUG9vbHMgYXMgdWludDY0KSwKICAgIC8vICAgICAgICAgb3AuaXRvYih0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5taW5FbnRyeVN0YWtlKSwKICAgIC8vICAgICBdLAogICAgLy8gfSkuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk0CiAgICAvLyBzdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbSA9IEJveDxieXRlcz4oeyBrZXk6ICdwb29sVGVtcGxhdGVBcHByb3ZhbEJ5dGVzJyB9KQogICAgYnl0ZWMgNSAvLyAicG9vbFRlbXBsYXRlQXBwcm92YWxCeXRlcyIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUxNgogICAgLy8gdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5leHRyYWN0KDAsIDQwOTYpLAogICAgaW50Y18wIC8vIDAKICAgIGludGMgMTIgLy8gNDA5NgogICAgYm94X2V4dHJhY3QKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk0CiAgICAvLyBzdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbSA9IEJveDxieXRlcz4oeyBrZXk6ICdwb29sVGVtcGxhdGVBcHByb3ZhbEJ5dGVzJyB9KQogICAgYnl0ZWMgNSAvLyAicG9vbFRlbXBsYXRlQXBwcm92YWxCeXRlcyIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUxNwogICAgLy8gdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5leHRyYWN0KDQwOTYsIHRoaXMuc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0ubGVuZ3RoIC0gNDA5NiksCiAgICBib3hfbGVuCiAgICBwb3AKICAgIGludGMgMTIgLy8gNDA5NgogICAgLQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTQKICAgIC8vIHN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtID0gQm94PGJ5dGVzPih7IGtleTogJ3Bvb2xUZW1wbGF0ZUFwcHJvdmFsQnl0ZXMnIH0pCiAgICBieXRlYyA1IC8vICJwb29sVGVtcGxhdGVBcHByb3ZhbEJ5dGVzIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTE3CiAgICAvLyB0aGlzLnN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtLmV4dHJhY3QoNDA5NiwgdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5sZW5ndGggLSA0MDk2KSwKICAgIGludGMgMTIgLy8gNDA5NgogICAgdW5jb3ZlciAyCiAgICBib3hfZXh0cmFjdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTI2CiAgICAvLyBvcC5pdG9iKEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCksCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uSUQKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUyOAogICAgLy8gb3AuaXRvYihudW1Qb29scyBhcyB1aW50NjQpLAogICAgZGlnIDMKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUyOQogICAgLy8gb3AuaXRvYih0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5taW5FbnRyeVN0YWtlKSwKICAgIHVuY292ZXIgNQogICAgZXh0cmFjdCAwIDI0MgogICAgZXh0cmFjdCAyMDkgOAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTI1CiAgICAvLyBtZXRob2RTZWxlY3RvcignY3JlYXRlQXBwbGljYXRpb24odWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0KXZvaWQnKSwKICAgIHB1c2hieXRlcyAweDU5ZTkwYWE2IC8vIG1ldGhvZCAiY3JlYXRlQXBwbGljYXRpb24odWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0KXZvaWQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgdW5jb3ZlciAyCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZGlnIDYKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBkaWcgMQogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MjIKICAgIC8vIGV4dHJhUHJvZ3JhbVBhZ2VzOiAzLAogICAgcHVzaGludCAzIC8vIDMKICAgIGl0eG5fZmllbGQgRXh0cmFQcm9ncmFtUGFnZXMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ5OAogICAgLy8gY29uc3Qgc3Rha2luZ1Bvb2wgPSBjb21waWxlQXJjNChTdGFraW5nUG9vbCkKICAgIHB1c2hpbnQgMyAvLyAzCiAgICBpdHhuX2ZpZWxkIEdsb2JhbE51bUJ5dGVTbGljZQogICAgcHVzaGludCAxMSAvLyAxMQogICAgaXR4bl9maWVsZCBHbG9iYWxOdW1VaW50CiAgICBwdXNoYnl0ZXMgYmFzZTY0KEM0RUJRdz09KQogICAgaXR4bl9maWVsZCBDbGVhclN0YXRlUHJvZ3JhbVBhZ2VzCiAgICB1bmNvdmVyIDIKICAgIGl0eG5fZmllbGQgQXBwcm92YWxQcm9ncmFtUGFnZXMKICAgIHN3YXAKICAgIGl0eG5fZmllbGQgQXBwcm92YWxQcm9ncmFtUGFnZXMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUxNAogICAgLy8gb25Db21wbGV0aW9uOiBPbkNvbXBsZXRlQWN0aW9uLk5vT3AsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBPbkNvbXBsZXRpb24KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUxMy01MzEKICAgIC8vIGl0eG4uYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBvbkNvbXBsZXRpb246IE9uQ29tcGxldGVBY3Rpb24uTm9PcCwKICAgIC8vICAgICBhcHByb3ZhbFByb2dyYW06IFsKICAgIC8vICAgICAgICAgdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5leHRyYWN0KDAsIDQwOTYpLAogICAgLy8gICAgICAgICB0aGlzLnN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtLmV4dHJhY3QoNDA5NiwgdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5sZW5ndGggLSA0MDk2KSwKICAgIC8vICAgICBdLAogICAgLy8gICAgIGNsZWFyU3RhdGVQcm9ncmFtOiBzdGFraW5nUG9vbC5jbGVhclN0YXRlUHJvZ3JhbSwKICAgIC8vICAgICBnbG9iYWxOdW1VaW50OiBzdGFraW5nUG9vbC5nbG9iYWxVaW50cywKICAgIC8vICAgICBnbG9iYWxOdW1CeXRlczogc3Rha2luZ1Bvb2wuZ2xvYmFsQnl0ZXMsCiAgICAvLyAgICAgZXh0cmFQcm9ncmFtUGFnZXM6IDMsCiAgICAvLyAgICAgYXBwQXJnczogWwogICAgLy8gICAgICAgICAvLyBjcmVhdGluZ0NvbnRyYWN0SUQsIHZhbGlkYXRvcklkLCBwb29sSWQsIG1pbkVudHJ5U3Rha2UKICAgIC8vICAgICAgICAgbWV0aG9kU2VsZWN0b3IoJ2NyZWF0ZUFwcGxpY2F0aW9uKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCl2b2lkJyksCiAgICAvLyAgICAgICAgIG9wLml0b2IoR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkKSwKICAgIC8vICAgICAgICAgb3AuaXRvYih2YWxpZGF0b3JJZCksCiAgICAvLyAgICAgICAgIG9wLml0b2IobnVtUG9vbHMgYXMgdWludDY0KSwKICAgIC8vICAgICAgICAgb3AuaXRvYih0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5taW5FbnRyeVN0YWtlKSwKICAgIC8vICAgICBdLAogICAgLy8gfSkuc3VibWl0KCkKICAgIHB1c2hpbnQgNiAvLyA2CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MzMKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuc3RhdGUubnVtUG9vbHMgPSBuZXcgVWludDE2KG51bVBvb2xzKQogICAgZHVwCiAgICBiaXRsZW4KICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGR1cAogICAgZXh0cmFjdCA2IDIKICAgIGRpZyAzCiAgICBwdXNoaW50IDI0MiAvLyAyNDIKICAgIGRpZyAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTM2CiAgICAvLyBjb25zdCBwb29sQXBwSWQgPSBJVHhuLmNyZWF0ZWRBcHBsaWNhdGlvbklkLmlkCiAgICBpdHhuIENyZWF0ZWRBcHBsaWNhdGlvbklECiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MzcKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHNbbnVtUG9vbHMgLSAxXS5wb29sQXBwSWQgPSBwb29sQXBwSWQKICAgIHVuY292ZXIgMwogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGRpZyAxCiAgICBpdG9iCiAgICBkaWcgMQogICAgaW50Y18zIC8vIDI0CiAgICA8CiAgICBhc3NlcnQgLy8gaW5kZXggb3V0IG9mIGJvdW5kcwogICAgc3dhcAogICAgcHVzaGludCAxOCAvLyAxOAogICAgKgogICAgaW50YyA0IC8vIDI2OAogICAgKwogICAgdW5jb3ZlciA1CiAgICBzd2FwCiAgICBkaWcgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUzOAogICAgLy8gdGhpcy5hZGRQb29sVG9Ob2RlKHZhbGlkYXRvcklkLCBwb29sQXBwSWQsIG5vZGVOdW0pCiAgICB1bmNvdmVyIDYKICAgIHVuY292ZXIgMgogICAgdW5jb3ZlciA2CiAgICBjYWxsc3ViIGFkZFBvb2xUb05vZGUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU0MC01NDQKICAgIC8vIGVtaXQ8cmV0aU9QX3ZhbGlkYXRvckFkZGVkUG9vbD4oewogICAgLy8gICAgIGlkOiB2YWxpZGF0b3JJZCwKICAgIC8vICAgICBudW06IG5ldyBVaW50MTYobnVtUG9vbHMpLAogICAgLy8gICAgIHBvb2xBcHBJZDogcG9vbEFwcElkLAogICAgLy8gfSkKICAgIGRpZyAzCiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICBwdXNoYnl0ZXMgMHhmYmNjMGY2YiAvLyBtZXRob2QgInJldGlPUF92YWxpZGF0b3JBZGRlZFBvb2wodWludDY0LHVpbnQxNix1aW50NjQpIgogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU0NgogICAgLy8gcmV0dXJuIHsgaWQ6IHZhbGlkYXRvcklkLCBwb29sSWQ6IG51bVBvb2xzIGFzIHVpbnQ2NCwgcG9vbEFwcElkOiBvcC5JVHhuLmNyZWF0ZWRBcHBsaWNhdGlvbklkLmlkIH0KICAgIGl0eG4gQ3JlYXRlZEFwcGxpY2F0aW9uSUQKICAgIGNvdmVyIDIKICAgIGNvbmNhdAogICAgc3dhcAogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0OTcKICAgIC8vIGFkZFBvb2wobWJyUGF5bWVudDogZ3R4bi5QYXltZW50VHhuLCB2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLCBub2RlTnVtOiB1aW50NjQpOiBWYWxpZGF0b3JQb29sS2V5IHsKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuYWRkU3Rha2Vbcm91dGluZ10oKSAtPiB2b2lkOgphZGRTdGFrZToKICAgIGludGNfMCAvLyAwCiAgICBkdXBuIDcKICAgIGJ5dGVjXzIgLy8gIiIKICAgIGR1cG4gMTQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU1OC01NjIKICAgIC8vIGFkZFN0YWtlKAogICAgLy8gICAgIHN0YWtlZEFtb3VudFBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwKICAgIC8vICAgICB2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLAogICAgLy8gICAgIHZhbHVlVG9WZXJpZnk6IHVpbnQ2NCwKICAgIC8vICk6IFZhbGlkYXRvclBvb2xLZXkgewogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU2MwogICAgLy8gYXNzZXJ0KHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkuZXhpc3RzLCAic3BlY2lmaWVkIHZhbGlkYXRvciBpZCBpc24ndCB2YWxpZCIpCiAgICBpdG9iCiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cG4gMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTYzCiAgICAvLyBhc3NlcnQodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS5leGlzdHMsICJzcGVjaWZpZWQgdmFsaWRhdG9yIGlkIGlzbid0IHZhbGlkIikKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIHNwZWNpZmllZCB2YWxpZGF0b3IgaWQgaXNuJ3QgdmFsaWQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU2NgogICAgLy8gaWYgKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLnN1bnNldHRpbmdPbiA+IDApIHsKICAgIGJveF9nZXQKICAgIHBvcAogICAgZXh0cmFjdCAwIDI0MgogICAgaW50YyAxMSAvLyAyMjYKICAgIGV4dHJhY3RfdWludDY0CiAgICBieiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU2OQogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcuc3Vuc2V0dGluZ09uID4gR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCwKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMCAyNDIKICAgIGludGMgMTEgLy8gMjI2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZ2xvYmFsIExhdGVzdFRpbWVzdGFtcAogICAgPgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTY4LTU3MQogICAgLy8gYXNzZXJ0KAogICAgLy8gICAgIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLnN1bnNldHRpbmdPbiA+IEdsb2JhbC5sYXRlc3RUaW1lc3RhbXAsCiAgICAvLyAgICAgImNhbid0IHN0YWtlIHdpdGggYSB2YWxpZGF0b3IgdGhhdCBpcyBwYXN0IGl0cyBzdW5zZXR0aW5nIHRpbWUiLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIGNhbid0IHN0YWtlIHdpdGggYSB2YWxpZGF0b3IgdGhhdCBpcyBwYXN0IGl0cyBzdW5zZXR0aW5nIHRpbWUKCmFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU3NAogICAgLy8gY29uc3Qgc3Rha2VyID0gVHhuLnNlbmRlcgogICAgdHhuIFNlbmRlcgogICAgZHVwCiAgICBidXJ5IDI0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NzgtNTgxCiAgICAvLyBhc3NlcnRNYXRjaChzdGFrZWRBbW91bnRQYXltZW50LCB7CiAgICAvLyAgICAgc2VuZGVyOiBzdGFrZXIsCiAgICAvLyAgICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gfSkKICAgIGRpZyA1CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGd0eG5zIFNlbmRlcgogICAgZHVwCiAgICBidXJ5IDI0CiAgICA9PQogICAgc3dhcAogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU4MAogICAgLy8gcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU3OC01ODEKICAgIC8vIGFzc2VydE1hdGNoKHN0YWtlZEFtb3VudFBheW1lbnQsIHsKICAgIC8vICAgICBzZW5kZXI6IHN0YWtlciwKICAgIC8vICAgICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyB9KQogICAgPT0KICAgICYmCiAgICBhc3NlcnQgLy8gYXNzZXJ0IHRhcmdldCBpcyBtYXRjaCBmb3IgY29uZGl0aW9ucwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIyOAogICAgLy8gY29uc3QgdHlwZSA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLmVudHJ5R2F0aW5nVHlwZQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDI0MgogICAgcHVzaGludCA4MCAvLyA4MAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIyOQogICAgLy8gaWYgKHR5cGUuYXNVaW50NjQoKSA9PT0gR0FUSU5HX1RZUEVfTk9ORSkgewogICAgZ2V0Ynl0ZQogICAgZHVwCiAgICBidXJ5IDEwCiAgICBieiBhZGRTdGFrZV9hZnRlcl9pbmxpbmVkX2NvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5kb2VzU3Rha2VyTWVldEdhdGluZ0A1MQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIzMgogICAgLy8gY29uc3Qgc3Rha2VyID0gVHhuLnNlbmRlcgogICAgdHhuIFNlbmRlcgogICAgYnVyeSAyMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIzMwogICAgLy8gY29uc3QgY29uZmlnID0gY2xvbmUodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcpCiAgICBkdXAKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGJ1cnkgMjkKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjM3CiAgICAvLyB0eXBlLmFzVWludDY0KCkgPT09IEdBVElOR19UWVBFX0FTU0VUU19DUkVBVEVEX0JZIHx8CiAgICBkaWcgOAogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBkdXAKICAgIGJ1cnkgOQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIzNy0xMjM4CiAgICAvLyB0eXBlLmFzVWludDY0KCkgPT09IEdBVElOR19UWVBFX0FTU0VUU19DUkVBVEVEX0JZIHx8CiAgICAvLyB0eXBlLmFzVWludDY0KCkgPT09IEdBVElOR19UWVBFX0FTU0VUX0lEIHx8CiAgICBibnogYWRkU3Rha2VfaWZfYm9keUAyOQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIzOAogICAgLy8gdHlwZS5hc1VpbnQ2NCgpID09PSBHQVRJTkdfVFlQRV9BU1NFVF9JRCB8fAogICAgZGlnIDgKICAgIHB1c2hpbnQgMiAvLyAyCiAgICA9PQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIzNy0xMjM4CiAgICAvLyB0eXBlLmFzVWludDY0KCkgPT09IEdBVElOR19UWVBFX0FTU0VUU19DUkVBVEVEX0JZIHx8CiAgICAvLyB0eXBlLmFzVWludDY0KCkgPT09IEdBVElOR19UWVBFX0FTU0VUX0lEIHx8CiAgICBibnogYWRkU3Rha2VfaWZfYm9keUAyOQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIzOQogICAgLy8gdHlwZS5hc1VpbnQ2NCgpID09PSBHQVRJTkdfVFlQRV9DUkVBVEVEX0JZX05GRF9BRERSRVNTRVMKICAgIGRpZyA4CiAgICBwdXNoaW50IDMgLy8gMwogICAgPT0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMzctMTIzOQogICAgLy8gdHlwZS5hc1VpbnQ2NCgpID09PSBHQVRJTkdfVFlQRV9BU1NFVFNfQ1JFQVRFRF9CWSB8fAogICAgLy8gdHlwZS5hc1VpbnQ2NCgpID09PSBHQVRJTkdfVFlQRV9BU1NFVF9JRCB8fAogICAgLy8gdHlwZS5hc1VpbnQ2NCgpID09PSBHQVRJTkdfVFlQRV9DUkVBVEVEX0JZX05GRF9BRERSRVNTRVMKICAgIGJ6IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMzIKCmFkZFN0YWtlX2lmX2JvZHlAMjk6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjQxCiAgICAvLyBhc3NlcnQodmFsdWVUb1ZlcmlmeSAhPT0gMCkKICAgIGRpZyAyCiAgICBhc3NlcnQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNDIKICAgIC8vIGxldCBiYWxSZXF1aXJlZCA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLmdhdGluZ0Fzc2V0TWluQmFsYW5jZQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDI0MgogICAgcHVzaGludCAxNDUgLy8gMTQ1CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBidXJ5IDIxCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjQzCiAgICAvLyBpZiAoYmFsUmVxdWlyZWQgPT09IDApIHsKICAgIGJueiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDMxCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjQ0CiAgICAvLyBiYWxSZXF1aXJlZCA9IDEKICAgIGludGNfMSAvLyAxCiAgICBidXJ5IDIwCgphZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDMxOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI0NwogICAgLy8gb3AuQXNzZXRIb2xkaW5nLmFzc2V0QmFsYW5jZShzdGFrZXIsIHZhbHVlVG9WZXJpZnkpWzBdID49IGJhbFJlcXVpcmVkLAogICAgZGlnIDIxCiAgICBkaWcgMwogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBwb3AKICAgIGRpZyAyMAogICAgPj0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNDYtMTI0OQogICAgLy8gYXNzZXJ0KAogICAgLy8gICAgIG9wLkFzc2V0SG9sZGluZy5hc3NldEJhbGFuY2Uoc3Rha2VyLCB2YWx1ZVRvVmVyaWZ5KVswXSA+PSBiYWxSZXF1aXJlZCwKICAgIC8vICAgICAnbXVzdCBoYXZlIHJlcXVpcmVkIG1pbmltdW0gYmFsYW5jZSBvZiB2YWxpZGF0b3IgZGVmaW5lZCB0b2tlbiB0byBhZGQgc3Rha2UnLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIG11c3QgaGF2ZSByZXF1aXJlZCBtaW5pbXVtIGJhbGFuY2Ugb2YgdmFsaWRhdG9yIGRlZmluZWQgdG9rZW4gdG8gYWRkIHN0YWtlCgphZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDMyOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI1MQogICAgLy8gaWYgKHR5cGUuYXNVaW50NjQoKSA9PT0gR0FUSU5HX1RZUEVfQVNTRVRTX0NSRUFURURfQlkpIHsKICAgIGRpZyA3CiAgICBieiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDM0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjUzCiAgICAvLyBBc3NldCh2YWx1ZVRvVmVyaWZ5KS5jcmVhdG9yID09PSBjb25maWcuZW50cnlHYXRpbmdBZGRyZXNzLAogICAgZGlnIDIKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRDcmVhdG9yCiAgICBhc3NlcnQgLy8gYXNzZXQgZXhpc3RzCiAgICBkaWcgMjgKICAgIGV4dHJhY3QgMCAyNDIKICAgIGV4dHJhY3QgODEgMzIKICAgID09CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjUyLTEyNTUKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBBc3NldCh2YWx1ZVRvVmVyaWZ5KS5jcmVhdG9yID09PSBjb25maWcuZW50cnlHYXRpbmdBZGRyZXNzLAogICAgLy8gICAgICdzcGVjaWZpZWQgYXNzZXQgbXVzdCBiZSBjcmVhdGVkIGJ5IGNyZWF0b3IgdGhhdCB0aGUgdmFsaWRhdG9yIGRlZmluZWQgYXMgYSByZXF1aXJlbWVudCB0byBzdGFrZScsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gc3BlY2lmaWVkIGFzc2V0IG11c3QgYmUgY3JlYXRlZCBieSBjcmVhdG9yIHRoYXQgdGhlIHZhbGlkYXRvciBkZWZpbmVkIGFzIGEgcmVxdWlyZW1lbnQgdG8gc3Rha2UKCmFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMzQ6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjU3CiAgICAvLyBpZiAodHlwZS5hc1VpbnQ2NCgpID09PSBHQVRJTkdfVFlQRV9BU1NFVF9JRCkgewogICAgZGlnIDgKICAgIHB1c2hpbnQgMiAvLyAyCiAgICA9PQogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUA0MgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI1OAogICAgLy8gbGV0IGZvdW5kID0gZmFsc2UKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDE4CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxMwoKYWRkU3Rha2VfZm9yX2hlYWRlckAzNjoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNTkKICAgIC8vIGZvciAoY29uc3QgYXNzZXRJZCBvZiBjb25maWcuZW50cnlHYXRpbmdBc3NldHMpIHsKICAgIGRpZyAxMgogICAgcHVzaGludCA0IC8vIDQKICAgIDwKICAgIGJ6IGFkZFN0YWtlX2Jsb2NrQDQxCiAgICBkaWcgMjcKICAgIGV4dHJhY3QgMCAyNDIKICAgIGV4dHJhY3QgMTEzIDMyCiAgICBkaWcgMTMKICAgIGludGNfMiAvLyA4CiAgICAqCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI2MAogICAgLy8gaWYgKHZhbHVlVG9WZXJpZnkgPT09IGFzc2V0SWQpIHsKICAgIGRpZyAzCiAgICA9PQogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAzOQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI2MQogICAgLy8gZm91bmQgPSB0cnVlCiAgICBpbnRjXzEgLy8gMQogICAgYnVyeSAxOAoKYWRkU3Rha2VfYmxvY2tANDE6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjY1CiAgICAvLyBhc3NlcnQoZm91bmQsICdzcGVjaWZpZWQgYXNzZXQgbXVzdCBiZSBpZGVudGljYWwgdG8gdGhlIGFzc2V0IGlkIGRlZmluZWQgYXMgYSByZXF1aXJlbWVudCB0byBzdGFrZScpCiAgICBkaWcgMTcKICAgIGFzc2VydCAvLyBzcGVjaWZpZWQgYXNzZXQgbXVzdCBiZSBpZGVudGljYWwgdG8gdGhlIGFzc2V0IGlkIGRlZmluZWQgYXMgYSByZXF1aXJlbWVudCB0byBzdGFrZQoKYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUA0MjoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNjcKICAgIC8vIGlmICh0eXBlLmFzVWludDY0KCkgPT09IEdBVElOR19UWVBFX0NSRUFURURfQllfTkZEX0FERFJFU1NFUykgewogICAgZGlnIDgKICAgIHB1c2hpbnQgMyAvLyAzCiAgICA9PQogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUA0NAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI3MQogICAgLy8gdGhpcy5pc0FkZHJlc3NJbk5GRENBQWxnb0xpc3QoY29uZmlnLmVudHJ5R2F0aW5nQXNzZXRzWzBdLCBBc3NldCh2YWx1ZVRvVmVyaWZ5KS5jcmVhdG9yKSwKICAgIGRpZyAyNwogICAgZXh0cmFjdCAwIDI0MgogICAgZXh0cmFjdCAxMTMgMzIKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDMKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRDcmVhdG9yCiAgICBhc3NlcnQgLy8gYXNzZXQgZXhpc3RzCiAgICBjYWxsc3ViIGlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI3MC0xMjczCiAgICAvLyBhc3NlcnQoCiAgICAvLyAgICAgdGhpcy5pc0FkZHJlc3NJbk5GRENBQWxnb0xpc3QoY29uZmlnLmVudHJ5R2F0aW5nQXNzZXRzWzBdLCBBc3NldCh2YWx1ZVRvVmVyaWZ5KS5jcmVhdG9yKSwKICAgIC8vICAgICAnc3BlY2lmaWVkIGFzc2V0IG11c3QgYmUgY3JlYXRlZCBieSBjcmVhdG9yIHRoYXQgaXMgb25lIG9mIHRoZSBsaW5rZWQgYWRkcmVzc2VzIGluIGFuIG5mZCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gc3BlY2lmaWVkIGFzc2V0IG11c3QgYmUgY3JlYXRlZCBieSBjcmVhdG9yIHRoYXQgaXMgb25lIG9mIHRoZSBsaW5rZWQgYWRkcmVzc2VzIGluIGFuIG5mZAoKYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUA0NDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNzUKICAgIC8vIGlmICh0eXBlLmFzVWludDY0KCkgPT09IEdBVElOR19UWVBFX1NFR01FTlRfT0ZfTkZEKSB7CiAgICBkaWcgOAogICAgcHVzaGludCA0IC8vIDQKICAgID09CiAgICBieiBhZGRTdGFrZV9hZnRlcl9pbmxpbmVkX2NvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5kb2VzU3Rha2VyTWVldEdhdGluZ0A1MQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI4MgogICAgLy8gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXModXNlck9mZmVyZWRORkRBcHBJRCwgQnl0ZXMoJ2kub3duZXIuYScpKVswXSA9PT0gZW5jb2RlQXJjNChzdGFrZXIpIHx8CiAgICBkaWcgMgogICAgYnl0ZWMgOSAvLyAiaS5vd25lci5hIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgZGlnIDIyCiAgICA9PQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI4Mi0xMjgzCiAgICAvLyBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyh1c2VyT2ZmZXJlZE5GREFwcElELCBCeXRlcygnaS5vd25lci5hJykpWzBdID09PSBlbmNvZGVBcmM0KHN0YWtlcikgfHwKICAgIC8vICAgICB0aGlzLmlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdCh1c2VyT2ZmZXJlZE5GREFwcElELCBzdGFrZXIpLAogICAgYm56IGFkZFN0YWtlX2Jvb2xfdHJ1ZUA0NwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI4MwogICAgLy8gdGhpcy5pc0FkZHJlc3NJbk5GRENBQWxnb0xpc3QodXNlck9mZmVyZWRORkRBcHBJRCwgc3Rha2VyKSwKICAgIGRpZyAyCiAgICBkaWcgMjIKICAgIGNhbGxzdWIgaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjgyLTEyODMKICAgIC8vIG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKHVzZXJPZmZlcmVkTkZEQXBwSUQsIEJ5dGVzKCdpLm93bmVyLmEnKSlbMF0gPT09IGVuY29kZUFyYzQoc3Rha2VyKSB8fAogICAgLy8gICAgIHRoaXMuaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0KHVzZXJPZmZlcmVkTkZEQXBwSUQsIHN0YWtlciksCiAgICBieiBhZGRTdGFrZV9ib29sX2ZhbHNlQDQ4CgphZGRTdGFrZV9ib29sX3RydWVANDc6CiAgICBpbnRjXzEgLy8gMQoKYWRkU3Rha2VfYm9vbF9tZXJnZUA0OToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyODEtMTI4NQogICAgLy8gYXNzZXJ0KAogICAgLy8gICAgIG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKHVzZXJPZmZlcmVkTkZEQXBwSUQsIEJ5dGVzKCdpLm93bmVyLmEnKSlbMF0gPT09IGVuY29kZUFyYzQoc3Rha2VyKSB8fAogICAgLy8gICAgICAgICB0aGlzLmlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdCh1c2VyT2ZmZXJlZE5GREFwcElELCBzdGFrZXIpLAogICAgLy8gICAgICJwcm92aWRlZCBuZmQgZm9yIGVudHJ5IGlzbid0IG93bmVkIG9yIGxpbmtlZCB0byB0aGUgc3Rha2VyIiwKICAgIC8vICkKICAgIGFzc2VydCAvLyBwcm92aWRlZCBuZmQgZm9yIGVudHJ5IGlzbid0IG93bmVkIG9yIGxpbmtlZCB0byB0aGUgc3Rha2VyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjg5CiAgICAvLyBvcC5idG9pKG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKHVzZXJPZmZlcmVkTkZEQXBwSUQsIEJ5dGVzKCdpLnBhcmVudEFwcElEJykpWzBdKSA9PT0KICAgIGRpZyAyCiAgICBwdXNoYnl0ZXMgImkucGFyZW50QXBwSUQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICBidG9pCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjkwCiAgICAvLyBjb25maWcuZW50cnlHYXRpbmdBc3NldHNbMF0sCiAgICBkaWcgMjgKICAgIGV4dHJhY3QgMCAyNDIKICAgIGV4dHJhY3QgMTEzIDMyCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyODktMTI5MAogICAgLy8gb3AuYnRvaShvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyh1c2VyT2ZmZXJlZE5GREFwcElELCBCeXRlcygnaS5wYXJlbnRBcHBJRCcpKVswXSkgPT09CiAgICAvLyAgICAgY29uZmlnLmVudHJ5R2F0aW5nQXNzZXRzWzBdLAogICAgPT0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyODgtMTI5MgogICAgLy8gYXNzZXJ0KAogICAgLy8gICAgIG9wLmJ0b2kob3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXModXNlck9mZmVyZWRORkRBcHBJRCwgQnl0ZXMoJ2kucGFyZW50QXBwSUQnKSlbMF0pID09PQogICAgLy8gICAgICAgICBjb25maWcuZW50cnlHYXRpbmdBc3NldHNbMF0sCiAgICAvLyAgICAgJ3NwZWNpZmllZCBuZmQgbXVzdCBiZSBhIHNlZ21lbnQgb2YgdGhlIG5mZCB0aGUgdmFsaWRhdG9yIHNwZWNpZmllZCBhcyBhIHJlcXVpcmVtZW50JywKICAgIC8vICkKICAgIGFzc2VydCAvLyBzcGVjaWZpZWQgbmZkIG11c3QgYmUgYSBzZWdtZW50IG9mIHRoZSBuZmQgdGhlIHZhbGlkYXRvciBzcGVjaWZpZWQgYXMgYSByZXF1aXJlbWVudAoKYWRkU3Rha2VfYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZG9lc1N0YWtlck1lZXRHYXRpbmdANTE6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1ODgKICAgIC8vIGxldCByZWFsQW1vdW50ID0gc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQKICAgIGRpZyA0CiAgICBndHhucyBBbW91bnQKICAgIGJ1cnkgMTEKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU4OQogICAgLy8gbGV0IG1ickFtdExlZnRCZWhpbmQ6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDEyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTIKICAgIC8vIHN0YWtlclBvb2xTZXQgPSBCb3hNYXA8QWNjb3VudCwgRml4ZWRBcnJheTxWYWxpZGF0b3JQb29sS2V5LCB0eXBlb2YgTUFYX1BPT0xTX1BFUl9TVEFLRVI+Pih7IGtleVByZWZpeDogJ3NwcycgfSkKICAgIGJ5dGVjIDYgLy8gInNwcyIKICAgIGRpZyAyMwogICAgY29uY2F0CiAgICBkdXAKICAgIGJ1cnkgMjcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI5NQogICAgLy8gcmV0dXJuICF0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS5leGlzdHMKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTkxCiAgICAvLyBpZiAodGhpcy5kb2VzU3Rha2VyTmVlZFRvUGF5TUJSKHN0YWtlcikpIHsKICAgIGJ6IGFkZFN0YWtlX2lmX2JvZHlANAogICAgZGlnIDEwCiAgICBidXJ5IDEwCgphZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MDEKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuc3RhdGUudG90YWxBbGdvU3Rha2VkICsgcmVhbEFtb3VudCA8IHRoaXMubWF4QWxsb3dlZFN0YWtlKCksCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDI0MiAyNgogICAgcHVzaGludCAxMCAvLyAxMAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAxMAogICAgZHVwCiAgICBjb3ZlciAyCiAgICArCiAgICBjYWxsc3ViIG1heEFsbG93ZWRTdGFrZQogICAgPAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjAwLTYwMwogICAgLy8gYXNzZXJ0KAogICAgLy8gICAgIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuc3RhdGUudG90YWxBbGdvU3Rha2VkICsgcmVhbEFtb3VudCA8IHRoaXMubWF4QWxsb3dlZFN0YWtlKCksCiAgICAvLyAgICAgJ3RvdGFsIHN0YWtlZCBmb3IgYWxsIG9mIGEgdmFsaWRhdG9ycyBwb29scyBtYXkgbm90IGV4Y2VlZCBoYXJkIGNhcCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gdG90YWwgc3Rha2VkIGZvciBhbGwgb2YgYSB2YWxpZGF0b3JzIHBvb2xzIG1heSBub3QgZXhjZWVkIGhhcmQgY2FwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MDcKICAgIC8vIGNvbnN0IGZpbmRSZXQgPSB0aGlzLmZpbmRQb29sRm9yU3Rha2VyKHZhbGlkYXRvcklkLCBzdGFrZXIsIHJlYWxBbW91bnQpCiAgICBkaWcgNAogICAgZGlnIDI0CiAgICB1bmNvdmVyIDIKICAgIGNhbGxzdWIgY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MDgKICAgIC8vIGNvbnN0IHBvb2xLZXkgPSBjbG9uZShmaW5kUmV0WzBdKQogICAgZHVwCiAgICBleHRyYWN0IDAgMjQKICAgIGR1cAogICAgY292ZXIgMgogICAgYnVyeSAyNwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjA5CiAgICAvLyBjb25zdCBpc05ld1N0YWtlclRvVmFsaWRhdG9yID0gZmluZFJldFsxXQogICAgZHVwCiAgICBpbnRjIDkgLy8gMTkyCiAgICBnZXRiaXQKICAgIGJ1cnkgMTYKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjYxMAogICAgLy8gY29uc3QgaXNOZXdTdGFrZXJUb1Byb3RvY29sID0gZmluZFJldFsyXQogICAgcHVzaGludCAxOTMgLy8gMTkzCiAgICBnZXRiaXQKICAgIGJ1cnkgMTYKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjYxMQogICAgLy8gaWYgKHBvb2xLZXkucG9vbElkID09PSAwKSB7CiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSA3CiAgICAhCiAgICAhCiAgICBhc3NlcnQgLy8gTm8gcG9vbCBhdmFpbGFibGUgd2l0aCBmcmVlIHN0YWtlLiAgVmFsaWRhdG9yIG5lZWRzIHRvIGFkZCBhbm90aGVyIHBvb2wKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNDAKICAgIC8vIGFzc2VydCh0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS5leGlzdHMpCiAgICBkaWcgMjUKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNDIKICAgIC8vIGNvbnN0IHBvb2xTZXQgPSBjbG9uZSh0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZSkKICAgIGJveF9nZXQKICAgIHBvcAogICAgYnVyeSAyNAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE0MwogICAgLy8gbGV0IGZpcnN0RW1wdHk6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDE5CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTQ0CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDE3CgphZGRTdGFrZV93aGlsZV90b3BANzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNDQKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgZGlnIDI1CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBkaWcgMTYKICAgIHB1c2hpbnQgNiAvLyA2CiAgICA8CiAgICBieiBhZGRTdGFrZV9hZnRlcl93aGlsZUAxNgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE0NgogICAgLy8gcG9vbFNldFtpXS5pZCA9PT0gcG9vbEtleS5pZCAmJgogICAgZGlnIDE2CiAgICBpbnRjXzMgLy8gMjQKICAgICoKICAgIGRpZyAyNAogICAgc3dhcAogICAgaW50Y18zIC8vIDI0CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgYnVyeSAyOAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGJ1cnkgOAogICAgZGlnIDI1CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgID09CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTQ2LTExNDcKICAgIC8vIHBvb2xTZXRbaV0uaWQgPT09IHBvb2xLZXkuaWQgJiYKICAgIC8vIHBvb2xTZXRbaV0ucG9vbElkID09PSBwb29sS2V5LnBvb2xJZCAmJgogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAxMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE0NwogICAgLy8gcG9vbFNldFtpXS5wb29sSWQgPT09IHBvb2xLZXkucG9vbElkICYmCiAgICBkaWcgMjYKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNDYtMTE0NwogICAgLy8gcG9vbFNldFtpXS5pZCA9PT0gcG9vbEtleS5pZCAmJgogICAgLy8gcG9vbFNldFtpXS5wb29sSWQgPT09IHBvb2xLZXkucG9vbElkICYmCiAgICBpbnRjXzIgLy8gOAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE0NwogICAgLy8gcG9vbFNldFtpXS5wb29sSWQgPT09IHBvb2xLZXkucG9vbElkICYmCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDYKICAgID09CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTQ2LTExNDcKICAgIC8vIHBvb2xTZXRbaV0uaWQgPT09IHBvb2xLZXkuaWQgJiYKICAgIC8vIHBvb2xTZXRbaV0ucG9vbElkID09PSBwb29sS2V5LnBvb2xJZCAmJgogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAxMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE0OAogICAgLy8gcG9vbFNldFtpXS5wb29sQXBwSWQgPT09IHBvb2xLZXkucG9vbEFwcElkCiAgICBkaWcgMjYKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMjUKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICA9PQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE0Ni0xMTQ4CiAgICAvLyBwb29sU2V0W2ldLmlkID09PSBwb29sS2V5LmlkICYmCiAgICAvLyBwb29sU2V0W2ldLnBvb2xJZCA9PT0gcG9vbEtleS5wb29sSWQgJiYKICAgIC8vIHBvb2xTZXRbaV0ucG9vbEFwcElkID09PSBwb29sS2V5LnBvb2xBcHBJZAogICAgYm56IGFkZFN0YWtlX2FmdGVyX2lubGluZWRfY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnVwZGF0ZVN0YWtlclBvb2xTZXRAMTcKCmFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMTI6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTUzCiAgICAvLyBpZiAoZmlyc3RFbXB0eSA9PT0gMCAmJiBwb29sU2V0W2ldLmlkID09PSAwKSB7CiAgICBkaWcgMTgKICAgIGJueiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDE1CiAgICBkaWcgNgogICAgYm56IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMTUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNTQKICAgIC8vIGZpcnN0RW1wdHkgPSBpICsgMQogICAgZGlnIDE2CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxOQoKYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAxNToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNDQKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgZGlnIDE2CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxNwogICAgYiBhZGRTdGFrZV93aGlsZV90b3BANwoKYWRkU3Rha2VfYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkudXBkYXRlU3Rha2VyUG9vbFNldEAxNzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMDAKICAgIC8vIGNvbnN0IHBvb2xBcHBJZCA9IHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnBvb2xBcHBJZAogICAgZGlnIDI0CiAgICBleHRyYWN0IDAgOAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBidXJ5IDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMDAKICAgIC8vIGNvbnN0IHBvb2xBcHBJZCA9IHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnBvb2xBcHBJZAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZGlnIDcKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBzd2FwCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgZGlnIDEKICAgIHB1c2hpbnQgMTggLy8gMTgKICAgICoKICAgIHN3YXAKICAgIGRpZyAxCiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEwNC0xMTE2CiAgICAvLyBhYmlDYWxsPHR5cGVvZiBTdGFraW5nUG9vbC5wcm90b3R5cGUuYWRkU3Rha2U+KHsKICAgIC8vICAgICBhcHBJZDogQXBwbGljYXRpb24ocG9vbEFwcElkKSwKICAgIC8vICAgICBhcmdzOiBbCiAgICAvLyAgICAgICAgIC8vID09PT09PT0KICAgIC8vICAgICAgICAgLy8gVEhJUyBJUyBBIFNFTkQgb2YgdGhlIGFtb3VudCByZWNlaXZlZCByaWdodCBiYWNrIG91dCBhbmQgaW50byB0aGUgc3Rha2luZyBwb29sIGNvbnRyYWN0IGFjY291bnQuCiAgICAvLyAgICAgICAgIGl0eG4ucGF5bWVudCh7CiAgICAvLyAgICAgICAgICAgICBhbW91bnQ6IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50IC0gbWJyQW10UGFpZCwKICAgIC8vICAgICAgICAgICAgIHJlY2VpdmVyOiBBcHBsaWNhdGlvbihwb29sQXBwSWQpLmFkZHJlc3MsCiAgICAvLyAgICAgICAgIH0pLAogICAgLy8gICAgICAgICAvLyA9PT09PT09CiAgICAvLyAgICAgICAgIHN0YWtlZEFtb3VudFBheW1lbnQuc2VuZGVyLAogICAgLy8gICAgIF0sCiAgICAvLyB9KQogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTExMAogICAgLy8gYW1vdW50OiBzdGFrZWRBbW91bnRQYXltZW50LmFtb3VudCAtIG1ickFtdFBhaWQsCiAgICBkaWcgMTQKICAgIGRpZyAxNgogICAgLQogICAgZHVwCiAgICBjb3ZlciAyCiAgICBidXJ5IDIxCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTExCiAgICAvLyByZWNlaXZlcjogQXBwbGljYXRpb24ocG9vbEFwcElkKS5hZGRyZXNzLAogICAgZHVwCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEwOS0xMTEyCiAgICAvLyBpdHhuLnBheW1lbnQoewogICAgLy8gICAgIGFtb3VudDogc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQgLSBtYnJBbXRQYWlkLAogICAgLy8gICAgIHJlY2VpdmVyOiBBcHBsaWNhdGlvbihwb29sQXBwSWQpLmFkZHJlc3MsCiAgICAvLyB9KSwKICAgIGludGNfMSAvLyAxCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMDQtMTExNgogICAgLy8gYWJpQ2FsbDx0eXBlb2YgU3Rha2luZ1Bvb2wucHJvdG90eXBlLmFkZFN0YWtlPih7CiAgICAvLyAgICAgYXBwSWQ6IEFwcGxpY2F0aW9uKHBvb2xBcHBJZCksCiAgICAvLyAgICAgYXJnczogWwogICAgLy8gICAgICAgICAvLyA9PT09PT09CiAgICAvLyAgICAgICAgIC8vIFRISVMgSVMgQSBTRU5EIG9mIHRoZSBhbW91bnQgcmVjZWl2ZWQgcmlnaHQgYmFjayBvdXQgYW5kIGludG8gdGhlIHN0YWtpbmcgcG9vbCBjb250cmFjdCBhY2NvdW50LgogICAgLy8gICAgICAgICBpdHhuLnBheW1lbnQoewogICAgLy8gICAgICAgICAgICAgYW1vdW50OiBzdGFrZWRBbW91bnRQYXltZW50LmFtb3VudCAtIG1ickFtdFBhaWQsCiAgICAvLyAgICAgICAgICAgICByZWNlaXZlcjogQXBwbGljYXRpb24ocG9vbEFwcElkKS5hZGRyZXNzLAogICAgLy8gICAgICAgICB9KSwKICAgIC8vICAgICAgICAgLy8gPT09PT09PQogICAgLy8gICAgICAgICBzdGFrZWRBbW91bnRQYXltZW50LnNlbmRlciwKICAgIC8vICAgICBdLAogICAgLy8gfSkKICAgIGl0eG5fbmV4dAogICAgcHVzaGJ5dGVzIDB4ZjljNzBjYmQgLy8gbWV0aG9kICJhZGRTdGFrZShwYXksYWRkcmVzcyl1aW50NjQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZGlnIDI0CiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZHVwCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBnaXR4biAxIExhc3RMb2cKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTExNwogICAgLy8gZW5zdXJlQnVkZ2V0KDUwMCkKICAgIHB1c2hpbnQgNTAwIC8vIDUwMAogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgZW5zdXJlX2J1ZGdldAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEyMAogICAgLy8gY29uc3QgW3Bvb2xOdW1TdGFrZXJzLCBudW1TdGFrZXJzRGVmaW5lZF0gPSBvcC5BcHBHbG9iYWwuZ2V0RXhVaW50NjQocG9vbEFwcElkLCBCeXRlcygnbnVtU3Rha2VycycpKQogICAgZHVwCiAgICBieXRlYyA0IC8vICJudW1TdGFrZXJzIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMjEKICAgIC8vIGNvbnN0IFtwb29sQWxnb1N0YWtlZCwgc3Rha2VkRGVmaW5lZF0gPSBvcC5BcHBHbG9iYWwuZ2V0RXhVaW50NjQocG9vbEFwcElkLCBCeXRlcygnc3Rha2VkJykpCiAgICB1bmNvdmVyIDIKICAgIGJ5dGVjXzMgLy8gInN0YWtlZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTIyCiAgICAvLyBhc3NlcnQobnVtU3Rha2Vyc0RlZmluZWQpCiAgICB1bmNvdmVyIDIKICAgIGFzc2VydAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEyMwogICAgLy8gYXNzZXJ0KHN0YWtlZERlZmluZWQpCiAgICBhc3NlcnQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMjUKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnRvdGFsU3Rha2VycyA9IG5ldyBVaW50MTYocG9vbE51bVN0YWtlcnMpCiAgICBzd2FwCiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgcHVzaGludCAxNiAvLyAxNgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZXh0cmFjdCA2IDIKICAgIHVuY292ZXIgMwogICAgaW50Y18zIC8vIDI0CiAgICA8CiAgICBhc3NlcnQgLy8gaW5kZXggb3V0IG9mIGJvdW5kcwogICAgZGlnIDIKICAgIHB1c2hpbnQgMjc2IC8vIDI3NgogICAgKwogICAgZGlnIDQKICAgIHN3YXAKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMjYKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnRvdGFsQWxnb1N0YWtlZCA9IHBvb2xBbGdvU3Rha2VkCiAgICBpdG9iCiAgICBzd2FwCiAgICBpbnRjIDEzIC8vIDI3OAogICAgKwogICAgc3dhcAogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMjkKICAgIC8vIGlmIChpc05ld1N0YWtlclRvVmFsaWRhdG9yKSB7CiAgICBkaWcgMTMKICAgIGJ6IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMjAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMzAKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5zdGF0ZS50b3RhbFN0YWtlcnMgKz0gMQogICAgZHVwbiAyCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAyNDIgMjYKICAgIHB1c2hpbnQgMiAvLyAyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGl0b2IKICAgIHB1c2hpbnQgMjQ0IC8vIDI0NAogICAgc3dhcAogICAgYm94X3JlcGxhY2UKCmFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMjA6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTMyCiAgICAvLyBpZiAoaXNOZXdTdGFrZXJUb1Byb3RvY29sKSB7CiAgICBkaWcgMTQKICAgIGJ6IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMjIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMzMKICAgIC8vIHRoaXMubnVtU3Rha2Vycy52YWx1ZSArPSAxCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAxCiAgICAvLyBudW1TdGFrZXJzID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ251bVN0YWtlcnMnIH0pCiAgICBieXRlYyA0IC8vICJudW1TdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEzMwogICAgLy8gdGhpcy5udW1TdGFrZXJzLnZhbHVlICs9IDEKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAxCiAgICAvLyBudW1TdGFrZXJzID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ251bVN0YWtlcnMnIH0pCiAgICBieXRlYyA0IC8vICJudW1TdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEzMwogICAgLy8gdGhpcy5udW1TdGFrZXJzLnZhbHVlICs9IDEKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CgphZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDIyOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEzNQogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnN0YXRlLnRvdGFsQWxnb1N0YWtlZCArPSBzdGFrZWRBbW91bnRQYXltZW50LmFtb3VudCAtIG1ickFtdFBhaWQKICAgIGR1cG4gMgogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDE3CiAgICBkdXAKICAgIGNvdmVyIDIKICAgICsKICAgIGl0b2IKICAgIHVuY292ZXIgMgogICAgaW50YyAxNCAvLyAyNTIKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMzYKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlICs9IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50IC0gbWJyQW10UGFpZAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNAogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjXzMgLy8gInN0YWtlZCIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMzYKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlICs9IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50IC0gbWJyQW10UGFpZAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgICsKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNAogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjXzMgLy8gInN0YWtlZCIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMzYKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlICs9IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50IC0gbWJyQW10UGFpZAogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjYyOAogICAgLy8gcG9vbE51bTogbmV3IFVpbnQxNihwb29sS2V5LnBvb2xJZCksCiAgICBkaWcgNQogICAgaXRvYgogICAgZHVwCiAgICBiaXRsZW4KICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNiAyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MjkKICAgIC8vIHBvb2xBcHBJZDogcG9vbEtleS5wb29sQXBwSWQsCiAgICBkaWcgMjUKICAgIGR1cAogICAgY292ZXIgMgogICAgZXh0cmFjdCAxNiA4CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MjYtNjMyCiAgICAvLyBlbWl0PHJldGlPUF9zdGFrZUFkZGVkPih7CiAgICAvLyAgICAgaWQ6IHZhbGlkYXRvcklkLAogICAgLy8gICAgIHBvb2xOdW06IG5ldyBVaW50MTYocG9vbEtleS5wb29sSWQpLAogICAgLy8gICAgIHBvb2xBcHBJZDogcG9vbEtleS5wb29sQXBwSWQsCiAgICAvLyAgICAgYW1vdW50U3Rha2VkOiByZWFsQW1vdW50LAogICAgLy8gICAgIHN0YWtlcjogc3Rha2VyLAogICAgLy8gfSkKICAgIGRpZyA0CiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICBkaWcgMjQKICAgIGNvbmNhdAogICAgZGlnIDExCiAgICBpdG9iCiAgICBjb25jYXQKICAgIHB1c2hieXRlcyAweDk2MmI0MTQzIC8vIG1ldGhvZCAicmV0aU9QX3N0YWtlQWRkZWQodWludDY0LHVpbnQxNix1aW50NjQsYWRkcmVzcyx1aW50NjQpIgogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU1OC01NjIKICAgIC8vIGFkZFN0YWtlKAogICAgLy8gICAgIHN0YWtlZEFtb3VudFBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwKICAgIC8vICAgICB2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLAogICAgLy8gICAgIHZhbHVlVG9WZXJpZnk6IHVpbnQ2NCwKICAgIC8vICk6IFZhbGlkYXRvclBvb2xLZXkgewogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKYWRkU3Rha2VfYWZ0ZXJfd2hpbGVAMTY6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTU3CiAgICAvLyBpZiAoZmlyc3RFbXB0eSA9PT0gMCkgewogICAgZGlnIDE4CiAgICBkdXAKICAgICEKICAgICEKICAgIGFzc2VydCAvLyBObyBlbXB0eSBzbG90IGF2YWlsYWJsZSBpbiB0aGUgc3Rha2VyIHBvb2wgc2V0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTYwCiAgICAvLyB0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZVtmaXJzdEVtcHR5IC0gMV0gPSBjbG9uZShwb29sS2V5KQogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGludGNfMyAvLyAyNAogICAgKgogICAgZGlnIDI2CiAgICBzd2FwCiAgICBkaWcgMjYKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MTYKICAgIC8vIHRoaXMudXBkYXRlU3Rha2VyUG9vbFNldChzdGFrZXIsIHBvb2xLZXkpCiAgICBiIGFkZFN0YWtlX2FmdGVyX2lubGluZWRfY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnVwZGF0ZVN0YWtlclBvb2xTZXRAMTcKCmFkZFN0YWtlX2lmX2JvZHlANDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU5NAogICAgLy8gbWJyQW10TGVmdEJlaGluZCA9IHRoaXMuZ2V0TWJyQW1vdW50cygpLmFkZFN0YWtlck1icgogICAgaW50YyAxNSAvLyA3NDEwMAogICAgYnVyeSAxMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTk1CiAgICAvLyByZWFsQW1vdW50IC09IG1ickFtdExlZnRCZWhpbmQKICAgIGRpZyAxMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTk0CiAgICAvLyBtYnJBbXRMZWZ0QmVoaW5kID0gdGhpcy5nZXRNYnJBbW91bnRzKCkuYWRkU3Rha2VyTWJyCiAgICBpbnRjIDE1IC8vIDc0MTAwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1OTUKICAgIC8vIHJlYWxBbW91bnQgLT0gbWJyQW10TGVmdEJlaGluZAogICAgLQogICAgYnVyeSAxMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTk2CiAgICAvLyB0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS5jcmVhdGUoKQogICAgZGlnIDI1CiAgICBwdXNoaW50IDE0NCAvLyAxNDQKICAgIGJveF9jcmVhdGUKICAgIHBvcAogICAgYiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDUKCmFkZFN0YWtlX2Jvb2xfZmFsc2VANDg6CiAgICBpbnRjXzAgLy8gMAogICAgYiBhZGRTdGFrZV9ib29sX21lcmdlQDQ5CgphZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDM5OgogICAgZGlnIDEyCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxMwogICAgYiBhZGRTdGFrZV9mb3JfaGVhZGVyQDM2CgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnNldFRva2VuUGF5b3V0UmF0aW9bcm91dGluZ10oKSAtPiB2b2lkOgpzZXRUb2tlblBheW91dFJhdGlvOgogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzIgLy8gIiIKICAgIGR1cG4gMwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjUyCiAgICAvLyBzZXRUb2tlblBheW91dFJhdGlvKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBQb29sVG9rZW5QYXlvdXRSYXRpbyB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NTQKICAgIC8vIGNvbnN0IHBvb2wxQXBwSUQgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzWzBdLnBvb2xBcHBJZAogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NTQKICAgIC8vIGNvbnN0IHBvb2wxQXBwSUQgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzWzBdLnBvb2xBcHBJZAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBleHRyYWN0IDAgMTggLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cG4gMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjU1CiAgICAvLyBhc3NlcnQocG9vbDFBcHBJRCAhPT0gMCkKICAgIGFzc2VydAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjU3CiAgICAvLyBpZiAoVHhuLnNlbmRlciAhPT0gQXBwbGljYXRpb24ocG9vbDFBcHBJRCkuYWRkcmVzcykgewogICAgdHhuIFNlbmRlcgogICAgc3dhcAogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgIT0KICAgIGJ6IHNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NTgKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnRva2VuUGF5b3V0UmF0aW8KICAgIGRpZyAxCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50YyA3IC8vIDcwMAogICAgaW50YyA2IC8vIDIwMAogICAgZXh0cmFjdDMKCnNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuc2V0VG9rZW5QYXlvdXRSYXRpb0AxMzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY1MgogICAgLy8gc2V0VG9rZW5QYXlvdXRSYXRpbyh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogUG9vbFRva2VuUGF5b3V0UmF0aW8gewogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NjQKICAgIC8vIGNvbnN0IGN1clJvdW5kID0gR2xvYmFsLnJvdW5kCiAgICBnbG9iYWwgUm91bmQKICAgIGJ1cnkgNQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjY1CiAgICAvLyBjb25zdCBsYXN0UGF5b3V0VXBkYXRlID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS50b2tlblBheW91dFJhdGlvLnVwZGF0ZWRGb3JQYXlvdXQKICAgIGRpZyAxCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50YyA3IC8vIDcwMAogICAgaW50YyA2IC8vIDIwMAogICAgZXh0cmFjdDMKICAgIGludGMgOSAvLyAxOTIKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGJ1cnkgNAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjY2CiAgICAvLyBpZiAobGFzdFBheW91dFVwZGF0ZSAhPT0gMCkgewogICAgYnogc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl9pZl9lbHNlQDkKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY2OAogICAgLy8gaWYgKG9wLkFwcEdsb2JhbC5nZXRFeFVpbnQ2NChwb29sMUFwcElELCBCeXRlcygnbGFzdFBheW91dCcpKVswXSA9PT0gbGFzdFBheW91dFVwZGF0ZSkgewogICAgZHVwCiAgICBwdXNoYnl0ZXMgImxhc3RQYXlvdXQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICBkaWcgMwogICAgPT0KICAgIGJ6IHNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfaWZfZWxzZUA2CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NjkKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnRva2VuUGF5b3V0UmF0aW8KICAgIGRpZyAxCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50YyA3IC8vIDcwMAogICAgaW50YyA2IC8vIDIwMAogICAgZXh0cmFjdDMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY1MgogICAgLy8gc2V0VG9rZW5QYXlvdXRSYXRpbyh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogUG9vbFRva2VuUGF5b3V0UmF0aW8gewogICAgYiBzZXRUb2tlblBheW91dFJhdGlvX2FmdGVyX2lubGluZWRfY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnNldFRva2VuUGF5b3V0UmF0aW9AMTMKCnNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfaWZfZWxzZUA2OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjcxCiAgICAvLyBjb25zdCBlcG9jaFJvdW5kTGVuZ3RoID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcuZXBvY2hSb3VuZExlbmd0aC5hc1VpbnQ2NCgpCiAgICBkaWcgMQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMCAyNDIKICAgIHB1c2hpbnQgMTY5IC8vIDE2OQogICAgZXh0cmFjdF91aW50MzIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY3MgogICAgLy8gY29uc3QgdGhpc0Vwb2NoQmVnaW46IHVpbnQ2NCA9IGN1clJvdW5kIC0gKGN1clJvdW5kICUgZXBvY2hSb3VuZExlbmd0aCkKICAgIGRpZyA1CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGRpZyAxCiAgICAlCiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgIC0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY3NAogICAgLy8gaWYgKGxhc3RQYXlvdXRVcGRhdGUgLSAobGFzdFBheW91dFVwZGF0ZSAlIGVwb2NoUm91bmRMZW5ndGgpID09PSB0aGlzRXBvY2hCZWdpbikgewogICAgZGlnIDQKICAgIGR1cAogICAgdW5jb3ZlciAzCiAgICAlCiAgICAtCiAgICA9PQogICAgYnogc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl9pZl9lbHNlQDkKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY3NQogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUudG9rZW5QYXlvdXRSYXRpbwogICAgZGlnIDEKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBpbnRjIDcgLy8gNzAwCiAgICBpbnRjIDYgLy8gMjAwCiAgICBleHRyYWN0MwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjUyCiAgICAvLyBzZXRUb2tlblBheW91dFJhdGlvKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBQb29sVG9rZW5QYXlvdXRSYXRpbyB7CiAgICBiIHNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuc2V0VG9rZW5QYXlvdXRSYXRpb0AxMwoKc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl9pZl9lbHNlQDk6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NzgKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUudG9rZW5QYXlvdXRSYXRpby51cGRhdGVkRm9yUGF5b3V0ID0gY3VyUm91bmQKICAgIGRpZyA0CiAgICBpdG9iCiAgICBkaWcgMgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBwdXNoaW50IDg5MiAvLyA4OTIKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY4MAogICAgLy8gY29uc3QgY3VyTnVtUG9vbHMgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnN0YXRlLm51bVBvb2xzLmFzVWludDY0KCkKICAgIGJveF9nZXQKICAgIHBvcAogICAgZXh0cmFjdCAyNDIgMjYKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBidXJ5IDcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY4MQogICAgLy8gY29uc3QgdG90YWxTdGFrZUZvclZhbGlkYXRvciA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuc3RhdGUudG90YWxBbGdvU3Rha2VkCiAgICBleHRyYWN0IDEwIDgKICAgIGJ1cnkgNwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjgyCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgY3VyTnVtUG9vbHM7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgNAoKc2V0VG9rZW5QYXlvdXRSYXRpb193aGlsZV90b3BAMTA6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2ODIKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBjdXJOdW1Qb29sczsgaSArPSAxKSB7CiAgICBkaWcgMwogICAgZGlnIDYKICAgIDwKICAgIGJ6IHNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfd2hpbGVAMTIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY4OAogICAgLy8gW3RoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHNbaV0udG90YWxBbGdvU3Rha2VkLCAxXzAwMF8wMDBdLAogICAgZGlnIDEKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBkaWcgNQogICAgZHVwCiAgICBjb3ZlciAyCiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICAqCiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGV4dHJhY3QgMTAgOAogICAgYnl0ZWMgMTEgLy8gMHgwMDAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGludGMgMTAgLy8gMTAwMDAwMAogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2ODkKICAgIC8vIFt0b3RhbFN0YWtlRm9yVmFsaWRhdG9yXSwKICAgIHB1c2hieXRlcyAweDAwMDEKICAgIGRpZyAxMAogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2ODctNjkwCiAgICAvLyBjb25zdCBvdXJQb29sUGN0T2ZXaG9sZSA9IHdpZGVSYXRpbygKICAgIC8vICAgICBbdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29sc1tpXS50b3RhbEFsZ29TdGFrZWQsIDFfMDAwXzAwMF0sCiAgICAvLyAgICAgW3RvdGFsU3Rha2VGb3JWYWxpZGF0b3JdLAogICAgLy8gKQogICAgY2FsbHN1YiB3aWRlUmF0aW8KICAgIHBvcG4gMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjkxCiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnRva2VuUGF5b3V0UmF0aW8ucG9vbFBjdE9mV2hvbGVbaV0gPSBvdXJQb29sUGN0T2ZXaG9sZQogICAgaXRvYgogICAgZGlnIDEKICAgIGludGNfMyAvLyAyNAogICAgPAogICAgYXNzZXJ0IC8vIGluZGV4IG91dCBvZiBib3VuZHMKICAgIGRpZyAxCiAgICBpbnRjXzIgLy8gOAogICAgKgogICAgaW50YyA3IC8vIDcwMAogICAgKwogICAgdW5jb3ZlciAzCiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2ODIKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBjdXJOdW1Qb29sczsgaSArPSAxKSB7CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSA0CiAgICBiIHNldFRva2VuUGF5b3V0UmF0aW9fd2hpbGVfdG9wQDEwCgpzZXRUb2tlblBheW91dFJhdGlvX2FmdGVyX3doaWxlQDEyOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjkzCiAgICAvLyByZXR1cm4gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS50b2tlblBheW91dFJhdGlvCiAgICBkaWcgMQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGMgNyAvLyA3MDAKICAgIGludGMgNiAvLyAyMDAKICAgIGV4dHJhY3QzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NTIKICAgIC8vIHNldFRva2VuUGF5b3V0UmF0aW8odmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IFBvb2xUb2tlblBheW91dFJhdGlvIHsKICAgIGIgc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl9pbmxpbmVkX2NvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5zZXRUb2tlblBheW91dFJhdGlvQDEzCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnN0YWtlVXBkYXRlZFZpYVJld2FyZHNbcm91dGluZ10oKSAtPiB2b2lkOgpzdGFrZVVwZGF0ZWRWaWFSZXdhcmRzOgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjcwNy03MTMKICAgIC8vIHN0YWtlVXBkYXRlZFZpYVJld2FyZHMoCiAgICAvLyAgICAgcG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSwKICAgIC8vICAgICBhbGdvVG9BZGQ6IHVpbnQ2NCwKICAgIC8vICAgICByZXdhcmRUb2tlbkFtb3VudFJlc2VydmVkOiB1aW50NjQsCiAgICAvLyAgICAgdmFsaWRhdG9yQ29tbWlzc2lvbjogdWludDY0LAogICAgLy8gICAgIHNhdHVyYXRlZEJ1cm5Ub0ZlZVNpbms6IHVpbnQ2NCwKICAgIC8vICk6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyAyNAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgY29udHJhY3RzL3ZhbGlkYXRvckNvbmZpZ3MuYWxnby50czo6VmFsaWRhdG9yUG9vbEtleQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIGR1cAogICAgY292ZXIgMwogICAgY292ZXIgMwogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgY292ZXIgMwogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgY292ZXIgMwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzE0CiAgICAvLyB0aGlzLnZlcmlmeVBvb2xLZXlDYWxsZXIocG9vbEtleSkKICAgIGNhbGxzdWIgdmVyaWZ5UG9vbEtleUNhbGxlcgogICAgZHVwCiAgICBjb3ZlciAzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MTcKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnRvdGFsQWxnb1N0YWtlZCArPSBhbGdvVG9BZGQKICAgIGR1cAogICAgZXh0cmFjdCAwIDgKICAgIGR1cAogICAgY292ZXIgNAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBjb3ZlciA0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MTcKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnRvdGFsQWxnb1N0YWtlZCArPSBhbGdvVG9BZGQKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIHVuY292ZXIgMgogICAgaW50Y18yIC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGNvdmVyIDUKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBzd2FwCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgZGlnIDEKICAgIHB1c2hpbnQgMTggLy8gMTgKICAgICoKICAgIHN3YXAKICAgIGRpZyAxCiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgNAogICAgKwogICAgaXRvYgogICAgdW5jb3ZlciAyCiAgICBpbnRjXzMgLy8gMjQKICAgIDwKICAgIGFzc2VydCAvLyBpbmRleCBvdXQgb2YgYm91bmRzCiAgICBzd2FwCiAgICBpbnRjIDEzIC8vIDI3OAogICAgKwogICAgZGlnIDIKICAgIHN3YXAKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjcxOAogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnN0YXRlLnRvdGFsQWxnb1N0YWtlZCArPSBhbGdvVG9BZGQKICAgIGR1cAogICAgYm94X2dldAogICAgcG9wCiAgICBleHRyYWN0IDI0MiAyNgogICAgcHVzaGludCAxMCAvLyAxMAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAyCiAgICArCiAgICBpdG9iCiAgICBkaWcgMQogICAgaW50YyAxNCAvLyAyNTIKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjcxOQogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnN0YXRlLnJld2FyZFRva2VuSGVsZEJhY2sgKz0gcmV3YXJkVG9rZW5BbW91bnRSZXNlcnZlZAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgdW5jb3ZlciAzCiAgICArCiAgICBpdG9iCiAgICBkaWcgMQogICAgcHVzaGludCAyNjAgLy8gMjYwCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MjEKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlICs9IGFsZ29Ub0FkZAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNAogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjXzMgLy8gInN0YWtlZCIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjcyMQogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgKz0gYWxnb1RvQWRkCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgdW5jb3ZlciAyCiAgICArCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDQKICAgIC8vIHRvdGFsQWxnb1N0YWtlZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdzdGFrZWQnIH0pCiAgICBieXRlY18zIC8vICJzdGFrZWQiCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MjEKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlICs9IGFsZ29Ub0FkZAogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMjkKICAgIC8vIGNvbnN0IHZhbGlkYXRvckNvbmZpZyA9IGNsb25lKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnKQogICAgYm94X2dldAogICAgcG9wCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDI5LTEwMzAKICAgIC8vIGNvbnN0IHZhbGlkYXRvckNvbmZpZyA9IGNsb25lKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnKQogICAgLy8gaWYgKHZhbGlkYXRvckNvbmZpZy5uZmRGb3JJbmZvICE9PSAwKSB7CiAgICBleHRyYWN0IDAgMjQyCiAgICBkdXAKICAgIHB1c2hpbnQgNzIgLy8gNzIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMzAKICAgIC8vIGlmICh2YWxpZGF0b3JDb25maWcubmZkRm9ySW5mbyAhPT0gMCkgewogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnogc3Rha2VVcGRhdGVkVmlhUmV3YXJkc19hZnRlcl9pZl9lbHNlQDUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMzQKICAgIC8vIGNvbnN0IG5mZE93bmVyID0gQWNjb3VudChvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyh2YWxpZGF0b3JDb25maWcubmZkRm9ySW5mbywgQnl0ZXMoJ2kub3duZXIuYScpKVswXSkKICAgIGR1cAogICAgYnl0ZWMgOSAvLyAiaS5vd25lci5hIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgZHVwCiAgICBidXJ5IDEyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDM3CiAgICAvLyBpZiAodmFsaWRhdG9yQ29uZmlnLm93bmVyICE9PSBuZmRPd25lciAmJiB2YWxpZGF0b3JDb25maWcubWFuYWdlciAhPT0gbmZkT3duZXIpIHsKICAgIGRpZyAyCiAgICBleHRyYWN0IDggMzIKICAgICE9CiAgICBieiBzdGFrZVVwZGF0ZWRWaWFSZXdhcmRzX2FmdGVyX2lmX2Vsc2VANQogICAgZGlnIDEKICAgIGV4dHJhY3QgNDAgMzIKICAgIGRpZyAxMQogICAgIT0KICAgIGJ6IHN0YWtlVXBkYXRlZFZpYVJld2FyZHNfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDM5CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5uZmRGb3JJbmZvID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0b2IKICAgIGRpZyA0CiAgICBwdXNoaW50IDcyIC8vIDcyCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCgpzdGFrZVVwZGF0ZWRWaWFSZXdhcmRzX2FmdGVyX2lmX2Vsc2VANToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjcyOAogICAgLy8gcG9vbE51bTogbmV3IFVpbnQxNihwb29sS2V5LnBvb2xJZCksCiAgICBkaWcgMgogICAgaXRvYgogICAgZHVwCiAgICBiaXRsZW4KICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNiAyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MjkKICAgIC8vIHBvb2xBcHBJZDogcG9vbEtleS5wb29sQXBwSWQsCiAgICBkaWcgNgogICAgZXh0cmFjdCAxNiA4CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MjYtNzM0CiAgICAvLyBlbWl0PHJldGlPUF9lcG9jaFJld2FyZFVwZGF0ZT4oewogICAgLy8gICAgIGlkOiBwb29sS2V5LmlkLAogICAgLy8gICAgIHBvb2xOdW06IG5ldyBVaW50MTYocG9vbEtleS5wb29sSWQpLAogICAgLy8gICAgIHBvb2xBcHBJZDogcG9vbEtleS5wb29sQXBwSWQsCiAgICAvLyAgICAgYWxnb0FkZGVkOiBhbGdvVG9BZGQsCiAgICAvLyAgICAgcmV3YXJkVG9rZW5IZWxkQmFjazogcmV3YXJkVG9rZW5BbW91bnRSZXNlcnZlZCwKICAgIC8vICAgICBzYXR1cmF0ZWRCdXJuVG9GZWVTaW5rOiBzYXR1cmF0ZWRCdXJuVG9GZWVTaW5rLAogICAgLy8gICAgIHZhbGlkYXRvckNvbW1pc3Npb246IHZhbGlkYXRvckNvbW1pc3Npb24sCiAgICAvLyB9KQogICAgZGlnIDYKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGRpZyA4CiAgICBpdG9iCiAgICBjb25jYXQKICAgIGRpZyA3CiAgICBpdG9iCiAgICBjb25jYXQKICAgIGRpZyAxMAogICAgaXRvYgogICAgY29uY2F0CiAgICBkaWcgOQogICAgaXRvYgogICAgY29uY2F0CiAgICBwdXNoYnl0ZXMgMHhiM2U0N2MzZCAvLyBtZXRob2QgInJldGlPUF9lcG9jaFJld2FyZFVwZGF0ZSh1aW50NjQsdWludDE2LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpIgogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjcwNy03MTMKICAgIC8vIHN0YWtlVXBkYXRlZFZpYVJld2FyZHMoCiAgICAvLyAgICAgcG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSwKICAgIC8vICAgICBhbGdvVG9BZGQ6IHVpbnQ2NCwKICAgIC8vICAgICByZXdhcmRUb2tlbkFtb3VudFJlc2VydmVkOiB1aW50NjQsCiAgICAvLyAgICAgdmFsaWRhdG9yQ29tbWlzc2lvbjogdWludDY0LAogICAgLy8gICAgIHNhdHVyYXRlZEJ1cm5Ub0ZlZVNpbms6IHVpbnQ2NCwKICAgIC8vICk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5zdGFrZVJlbW92ZWRbcm91dGluZ10oKSAtPiB2b2lkOgpzdGFrZVJlbW92ZWQ6CiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiA1CiAgICBieXRlY18yIC8vICIiCiAgICBkdXBuIDEwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3NDktNzU1CiAgICAvLyBzdGFrZVJlbW92ZWQoCiAgICAvLyAgICAgcG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSwKICAgIC8vICAgICBzdGFrZXI6IEFjY291bnQsCiAgICAvLyAgICAgYW1vdW50UmVtb3ZlZDogdWludDY0LAogICAgLy8gICAgIHJld2FyZFJlbW92ZWQ6IHVpbnQ2NCwKICAgIC8vICAgICBzdGFrZXJSZW1vdmVkOiBib29sZWFuLAogICAgLy8gKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDI0CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBjb250cmFjdHMvdmFsaWRhdG9yQ29uZmlncy5hbGdvLnRzOjpWYWxpZGF0b3JQb29sS2V5CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGR1cAogICAgY292ZXIgMwogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgY292ZXIgMgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmJvb2wKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIGNvdmVyIDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc1NgogICAgLy8gZW5zdXJlQnVkZ2V0KDMwMCkKICAgIHB1c2hpbnQgMzAwIC8vIDMwMAogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgZW5zdXJlX2J1ZGdldAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzU3CiAgICAvLyB0aGlzLnZlcmlmeVBvb2xLZXlDYWxsZXIocG9vbEtleSkKICAgIHN3YXAKICAgIGNhbGxzdWIgdmVyaWZ5UG9vbEtleUNhbGxlcgogICAgc3dhcAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzYxCiAgICAvLyBhc3NlcnQoYW1vdW50UmVtb3ZlZCA+IDAgfHwgcmV3YXJkUmVtb3ZlZCA+IDAsICdzaG91bGQgb25seSBiZSBjYWxsZWQgaWYgYWxnbyBvciByZXdhcmQgd2FzIHJlbW92ZWQnKQogICAgYm56IHN0YWtlUmVtb3ZlZF9ib29sX3RydWVAMwogICAgZGlnIDIKICAgIGJ6IHN0YWtlUmVtb3ZlZF9ib29sX2ZhbHNlQDQKCnN0YWtlUmVtb3ZlZF9ib29sX3RydWVAMzoKICAgIGludGNfMSAvLyAxCgpzdGFrZVJlbW92ZWRfYm9vbF9tZXJnZUA1OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzYxCiAgICAvLyBhc3NlcnQoYW1vdW50UmVtb3ZlZCA+IDAgfHwgcmV3YXJkUmVtb3ZlZCA+IDAsICdzaG91bGQgb25seSBiZSBjYWxsZWQgaWYgYWxnbyBvciByZXdhcmQgd2FzIHJlbW92ZWQnKQogICAgYXNzZXJ0IC8vIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBpZiBhbGdvIG9yIHJld2FyZCB3YXMgcmVtb3ZlZAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzY0CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXS50b3RhbEFsZ29TdGFrZWQgLT0gYW1vdW50UmVtb3ZlZAogICAgZHVwbiAyCiAgICBleHRyYWN0IDAgOAogICAgZHVwCiAgICBidXJ5IDIxCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIGJ1cnkgMjMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc2NAogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnBvb2xzW3Bvb2xLZXkucG9vbElkIC0gMV0udG90YWxBbGdvU3Rha2VkIC09IGFtb3VudFJlbW92ZWQKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIHVuY292ZXIgMgogICAgaW50Y18yIC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGJ1cnkgMTAKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBzd2FwCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgZGlnIDEKICAgIHB1c2hpbnQgMTggLy8gMTgKICAgICoKICAgIGR1cAogICAgYnVyeSAyMQogICAgc3dhcAogICAgZGlnIDEKICAgIHB1c2hpbnQgMTggLy8gMTgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgcHVzaGludCAxMCAvLyAxMAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyA4CiAgICBkdXAKICAgIGNvdmVyIDQKICAgIC0KICAgIGl0b2IKICAgIHVuY292ZXIgMgogICAgaW50Y18zIC8vIDI0CiAgICA8CiAgICBhc3NlcnQgLy8gaW5kZXggb3V0IG9mIGJvdW5kcwogICAgc3dhcAogICAgaW50YyAxMyAvLyAyNzgKICAgICsKICAgIGRpZyAzCiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3NjUKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5zdGF0ZS50b3RhbEFsZ29TdGFrZWQgLT0gYW1vdW50UmVtb3ZlZAogICAgZGlnIDEKICAgIGJveF9nZXQKICAgIHBvcAogICAgZXh0cmFjdCAyNDIgMjYKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgLQogICAgaXRvYgogICAgdW5jb3ZlciAyCiAgICBpbnRjIDE0IC8vIDI1MgogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzY2CiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSAtPSBhbW91bnRSZW1vdmVkCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA0CiAgICAvLyB0b3RhbEFsZ29TdGFrZWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnc3Rha2VkJyB9KQogICAgYnl0ZWNfMyAvLyAic3Rha2VkIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzY2CiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSAtPSBhbW91bnRSZW1vdmVkCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgc3dhcAogICAgLQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA0CiAgICAvLyB0b3RhbEFsZ29TdGFrZWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnc3Rha2VkJyB9KQogICAgYnl0ZWNfMyAvLyAic3Rha2VkIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzY2CiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSAtPSBhbW91bnRSZW1vdmVkCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzY4CiAgICAvLyBpZiAocmV3YXJkUmVtb3ZlZCA+IDApIHsKICAgIGRpZyAyCiAgICBieiBzdGFrZVJlbW92ZWRfZWxzZV9ib2R5QDEwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3NjkKICAgIC8vIGNvbnN0IHJld2FyZFRva2VuSUQgPSB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUuY29uZmlnLnJld2FyZFRva2VuSWQKICAgIGRpZyAyMAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZHVwCiAgICBleHRyYWN0IDAgMjQyCiAgICBkdXAKICAgIGV4dHJhY3QgMTUzIDgKICAgIGJ1cnkgMjUKICAgIHB1c2hpbnQgMTUzIC8vIDE1MwogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSAxNAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzcwCiAgICAvLyBhc3NlcnQocmV3YXJkVG9rZW5JRCAhPT0gMCwgInJld2FyZFJlbW92ZWQgY2FuJ3QgYmUgc2V0IGlmIHZhbGlkYXRvciBkb2Vzbid0IGhhdmUgcmV3YXJkIHRva2VuISIpCiAgICBhc3NlcnQgLy8gcmV3YXJkUmVtb3ZlZCBjYW4ndCBiZSBzZXQgaWYgdmFsaWRhdG9yIGRvZXNuJ3QgaGF2ZSByZXdhcmQgdG9rZW4hCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3NzIKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5zdGF0ZS5yZXdhcmRUb2tlbkhlbGRCYWNrID49IHJld2FyZFJlbW92ZWQsCiAgICBleHRyYWN0IDI0MiAyNgogICAgcHVzaGludCAxOCAvLyAxOAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZGlnIDUKICAgIGR1cAogICAgY292ZXIgMwogICAgPj0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc3MS03NzQKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUuc3RhdGUucmV3YXJkVG9rZW5IZWxkQmFjayA+PSByZXdhcmRSZW1vdmVkLAogICAgLy8gICAgICdyZXdhcmQgYmVpbmcgcmVtb3ZlZCBtdXN0IGJlIGNvdmVyZWQgYnkgaG9sZCBiYWNrIGFtb3VudCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gcmV3YXJkIGJlaW5nIHJlbW92ZWQgbXVzdCBiZSBjb3ZlcmVkIGJ5IGhvbGQgYmFjayBhbW91bnQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc3NwogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnN0YXRlLnJld2FyZFRva2VuSGVsZEJhY2sgLT0gcmV3YXJkUmVtb3ZlZAogICAgc3dhcAogICAgLQogICAgaXRvYgogICAgcHVzaGludCAyNjAgLy8gMjYwCiAgICBzd2FwCiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzgyCiAgICAvLyBpZiAocG9vbEtleS5wb29sSWQgIT09IDEpIHsKICAgIGRpZyA2CiAgICBpbnRjXzEgLy8gMQogICAgIT0KICAgIGJ6IHN0YWtlUmVtb3ZlZF9hZnRlcl9pZl9lbHNlQDkKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc4My03ODYKICAgIC8vIGFiaUNhbGw8dHlwZW9mIFN0YWtpbmdQb29sLnByb3RvdHlwZS5wYXlUb2tlblJld2FyZD4oewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbMF0ucG9vbEFwcElkKSwKICAgIC8vICAgICBhcmdzOiBbc3Rha2VyLCByZXdhcmRUb2tlbklELCByZXdhcmRSZW1vdmVkXSwKICAgIC8vIH0pCiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3ODQKICAgIC8vIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbMF0ucG9vbEFwcElkKSwKICAgIGRpZyAyMAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBleHRyYWN0IDAgMTggLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc4My03ODYKICAgIC8vIGFiaUNhbGw8dHlwZW9mIFN0YWtpbmdQb29sLnByb3RvdHlwZS5wYXlUb2tlblJld2FyZD4oewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbMF0ucG9vbEFwcElkKSwKICAgIC8vICAgICBhcmdzOiBbc3Rha2VyLCByZXdhcmRUb2tlbklELCByZXdhcmRSZW1vdmVkXSwKICAgIC8vIH0pCiAgICBieXRlYyAxNiAvLyBtZXRob2QgInBheVRva2VuUmV3YXJkKGFkZHJlc3MsdWludDY0LHVpbnQ2NCl2b2lkIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGRpZyA2CiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZGlnIDIyCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZGlnIDQKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CgpzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUA5OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzkwCiAgICAvLyBwb29sTnVtOiBuZXcgVWludDE2KHBvb2xLZXkucG9vbElkKSwKICAgIGRpZyA2CiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgcHVzaGludCAxNiAvLyAxNgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZXh0cmFjdCA2IDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc5MQogICAgLy8gcG9vbEFwcElkOiBwb29sS2V5LnBvb2xBcHBJZCwKICAgIGRpZyAxCiAgICBleHRyYWN0IDE2IDgKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc4OC03OTYKICAgIC8vIGVtaXQ8cmV0aU9QX3N0YWtlUmVtb3ZlZD4oewogICAgLy8gICAgIGlkOiBwb29sS2V5LmlkLAogICAgLy8gICAgIHBvb2xOdW06IG5ldyBVaW50MTYocG9vbEtleS5wb29sSWQpLAogICAgLy8gICAgIHBvb2xBcHBJZDogcG9vbEtleS5wb29sQXBwSWQsCiAgICAvLyAgICAgc3Rha2VyOiBzdGFrZXIsCiAgICAvLyAgICAgYW1vdW50VW5zdGFrZWQ6IGFtb3VudFJlbW92ZWQsCiAgICAvLyAgICAgcmV3YXJkVG9rZW5Bc3NldElkOiByZXdhcmRUb2tlbklELAogICAgLy8gICAgIHJld2FyZFRva2Vuc1JlY2VpdmVkOiByZXdhcmRSZW1vdmVkLAogICAgLy8gfSkKICAgIGRpZyAyMAogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZGlnIDYKICAgIGNvbmNhdAogICAgZGlnIDUKICAgIGl0b2IKICAgIGNvbmNhdAogICAgZGlnIDMKICAgIGl0b2IKICAgIGNvbmNhdAogICAgZGlnIDExCiAgICBpdG9iCiAgICBjb25jYXQKICAgIGJ5dGVjIDE3IC8vIG1ldGhvZCAicmV0aU9QX3N0YWtlUmVtb3ZlZCh1aW50NjQsdWludDE2LHVpbnQ2NCxhZGRyZXNzLHVpbnQ2NCx1aW50NjQsdWludDY0KSIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCgpzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUAxMToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgxMAogICAgLy8gaWYgKHN0YWtlclJlbW92ZWQpIHsKICAgIGRpZyAxCiAgICBieiBzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUAxNwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODEyCiAgICAvLyBjb25zdCB0b3RhbFN0YWtlcnMgPSB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXS50b3RhbFN0YWtlcnMuYXNVaW50NjQoKQogICAgZGlnIDIwCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgZGlnIDE4CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIHB1c2hpbnQgMTggLy8gMTgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgaW50Y18yIC8vIDgKICAgIGV4dHJhY3RfdWludDE2CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MTMKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnRvdGFsU3Rha2VycyA9IG5ldyBVaW50MTYodG90YWxTdGFrZXJzIC0gMSkKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgcHVzaGludCAxNiAvLyAxNgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZXh0cmFjdCA2IDIKICAgIHN3YXAKICAgIHB1c2hpbnQgMjc2IC8vIDI3NgogICAgKwogICAgc3dhcAogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgxOAogICAgLy8gcG9vbEFwcElkOiBwb29sS2V5LnBvb2xBcHBJZCwKICAgIGR1cAogICAgZXh0cmFjdCAxNiA4CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MTUtODE5CiAgICAvLyBjb25zdCByZW1vdmVSZXQgPSB0aGlzLnJlbW92ZUZyb21TdGFrZXJQb29sU2V0KHN0YWtlciwgewogICAgLy8gICAgIGlkOiBwb29sS2V5LmlkLAogICAgLy8gICAgIHBvb2xJZDogcG9vbEtleS5wb29sSWQsCiAgICAvLyAgICAgcG9vbEFwcElkOiBwb29sS2V5LnBvb2xBcHBJZCwKICAgIC8vIH0pCiAgICBkaWcgNwogICAgaXRvYgogICAgZGlnIDIwCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgYnVyeSAxCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTczCiAgICAvLyBsZXQgaW5TYW1lVmFsaWRhdG9yUG9vbENvdW50OiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE3NAogICAgLy8gbGV0IGluQW55UG9vbENvdW50OiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxMwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE3NQogICAgLy8gbGV0IGZvdW5kID0gZmFsc2UKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDE1CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTIKICAgIC8vIHN0YWtlclBvb2xTZXQgPSBCb3hNYXA8QWNjb3VudCwgRml4ZWRBcnJheTxWYWxpZGF0b3JQb29sS2V5LCB0eXBlb2YgTUFYX1BPT0xTX1BFUl9TVEFLRVI+Pih7IGtleVByZWZpeDogJ3NwcycgfSkKICAgIGJ5dGVjIDYgLy8gInNwcyIKICAgIGRpZyA2CiAgICBjb25jYXQKICAgIGR1cAogICAgYnVyeSAyMQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE3NwogICAgLy8gY29uc3QgcG9vbFNldCA9IGNsb25lKHRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLnZhbHVlKQogICAgYm94X2dldAogICAgc3dhcAogICAgYnVyeSAxOQogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNzgKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMTQKCnN0YWtlUmVtb3ZlZF93aGlsZV90b3BAMTk6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTc4CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGRpZyAxOQogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZGlnIDEzCiAgICBwdXNoaW50IDYgLy8gNgogICAgPAogICAgYnogc3Rha2VSZW1vdmVkX2FmdGVyX3doaWxlQDMxCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTc5CiAgICAvLyBpZiAocG9vbFNldFtpXS5pZCA9PT0gMCkgewogICAgZGlnIDEzCiAgICBpbnRjXzMgLy8gMjQKICAgICoKICAgIGR1cAogICAgYnVyeSAxNwogICAgZGlnIDE4CiAgICBzd2FwCiAgICBpbnRjXzMgLy8gMjQKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICBidXJ5IDI0CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSA5CiAgICBieiBzdGFrZVJlbW92ZWRfYmxvY2tAMzAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExODIKICAgIC8vIGluQW55UG9vbENvdW50ICs9IDEKICAgIGRpZyAxMgogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMTMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExODMKICAgIC8vIGlmIChwb29sU2V0W2ldLmlkID09PSBwb29sS2V5LmlkKSB7CiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDgKICAgID09CiAgICBkdXAKICAgIGJ1cnkgMTAKICAgIGJ6IHN0YWtlUmVtb3ZlZF9ibG9ja0AzMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE4NS0xMTg2CiAgICAvLyBwb29sU2V0W2ldLmlkID09PSBwb29sS2V5LmlkICYmCiAgICAvLyBwb29sU2V0W2ldLnBvb2xJZCA9PT0gcG9vbEtleS5wb29sSWQgJiYKICAgIGRpZyA4CiAgICBieiBzdGFrZVJlbW92ZWRfZWxzZV9ib2R5QDI3CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTg2CiAgICAvLyBwb29sU2V0W2ldLnBvb2xJZCA9PT0gcG9vbEtleS5wb29sSWQgJiYKICAgIGRpZyAyMgogICAgaW50Y18yIC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgaW50Y18yIC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICA9PQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE4NS0xMTg2CiAgICAvLyBwb29sU2V0W2ldLmlkID09PSBwb29sS2V5LmlkICYmCiAgICAvLyBwb29sU2V0W2ldLnBvb2xJZCA9PT0gcG9vbEtleS5wb29sSWQgJiYKICAgIGJ6IHN0YWtlUmVtb3ZlZF9lbHNlX2JvZHlAMjcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExODcKICAgIC8vIHBvb2xTZXRbaV0ucG9vbEFwcElkID09PSBwb29sS2V5LnBvb2xBcHBJZAogICAgZGlnIDIyCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICA9PQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE4NS0xMTg3CiAgICAvLyBwb29sU2V0W2ldLmlkID09PSBwb29sS2V5LmlkICYmCiAgICAvLyBwb29sU2V0W2ldLnBvb2xJZCA9PT0gcG9vbEtleS5wb29sSWQgJiYKICAgIC8vIHBvb2xTZXRbaV0ucG9vbEFwcElkID09PSBwb29sS2V5LnBvb2xBcHBJZAogICAgYnogc3Rha2VSZW1vdmVkX2Vsc2VfYm9keUAyNwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE4OQogICAgLy8gZm91bmQgPSB0cnVlCiAgICBpbnRjXzEgLy8gMQogICAgYnVyeSAxNQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE5MQogICAgLy8gdGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikudmFsdWVbaV0gPSB7IGlkOiAwLCBwb29sSWQ6IDAsIHBvb2xBcHBJZDogMCB9CiAgICBkaWcgMTkKICAgIGRpZyAxNgogICAgcHVzaGJ5dGVzIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwCiAgICBib3hfcmVwbGFjZQoKc3Rha2VSZW1vdmVkX2Jsb2NrQDMwOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE3OAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBkaWcgMTMKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDE0CiAgICBiIHN0YWtlUmVtb3ZlZF93aGlsZV90b3BAMTkKCnN0YWtlUmVtb3ZlZF9lbHNlX2JvZHlAMjc6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTkzCiAgICAvLyBpblNhbWVWYWxpZGF0b3JQb29sQ291bnQgKz0gMQogICAgZGlnIDExCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxMgogICAgYiBzdGFrZVJlbW92ZWRfYmxvY2tAMzAKCnN0YWtlUmVtb3ZlZF9hZnRlcl93aGlsZUAzMToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExOTcKICAgIC8vIGlmICghZm91bmQpIHsKICAgIGRpZyAxNAogICAgYXNzZXJ0IC8vIE5vIG1hdGNoaW5nIHNsb3QgZm91bmQgd2hlbiB0b2xkIHRvIHJlbW92ZSBhIHBvb2wgZnJvbSB0aGUgc3Rha2VycyBzZXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMDEKICAgIC8vIHJldHVybiBbaW5TYW1lVmFsaWRhdG9yUG9vbENvdW50ID09PSAwLCBpbkFueVBvb2xDb3VudCA9PT0gMF0KICAgIGRpZyAxMQogICAgIQogICAgZGlnIDEzCiAgICAhCiAgICBieXRlYyA3IC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDMKICAgIHNldGJpdAogICAgaW50Y18xIC8vIDEKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MjAKICAgIC8vIGNvbnN0IHN0YWtlck91dE9mVGhpc1ZhbGlkYXRvciA9IHJlbW92ZVJldFswXQogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MjEKICAgIC8vIGNvbnN0IHN0YWtlck91dE9mUHJvdG9jb2wgPSByZW1vdmVSZXRbMV0KICAgIHN3YXAKICAgIGludGNfMSAvLyAxCiAgICBnZXRiaXQKICAgIGJ1cnkgMTEKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgyMwogICAgLy8gaWYgKHN0YWtlck91dE9mVGhpc1ZhbGlkYXRvcikgewogICAgYnogc3Rha2VSZW1vdmVkX2FmdGVyX2lmX2Vsc2VAMTQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgyNAogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnN0YXRlLnRvdGFsU3Rha2VycyAtPSAxCiAgICBkaWcgMjAKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBwdXNoaW50IDIgLy8gMgogICAgZXh0cmFjdF91aW50NjQKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBpdG9iCiAgICBwdXNoaW50IDI0NCAvLyAyNDQKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCgpzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUAxNDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgyNwogICAgLy8gaWYgKHN0YWtlck91dE9mUHJvdG9jb2wpIHsKICAgIGRpZyA5CiAgICBieiBzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUAxNwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODI4CiAgICAvLyB0aGlzLm51bVN0YWtlcnMudmFsdWUgLT0gMQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMQogICAgLy8gbnVtU3Rha2VycyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdudW1TdGFrZXJzJyB9KQogICAgYnl0ZWMgNCAvLyAibnVtU3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgyOAogICAgLy8gdGhpcy5udW1TdGFrZXJzLnZhbHVlIC09IDEKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAxCiAgICAvLyBudW1TdGFrZXJzID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ251bVN0YWtlcnMnIH0pCiAgICBieXRlYyA0IC8vICJudW1TdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODI4CiAgICAvLyB0aGlzLm51bVN0YWtlcnMudmFsdWUgLT0gMQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKCnN0YWtlUmVtb3ZlZF9hZnRlcl9pZl9lbHNlQDE3OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzQ5LTc1NQogICAgLy8gc3Rha2VSZW1vdmVkKAogICAgLy8gICAgIHBvb2xLZXk6IFZhbGlkYXRvclBvb2xLZXksCiAgICAvLyAgICAgc3Rha2VyOiBBY2NvdW50LAogICAgLy8gICAgIGFtb3VudFJlbW92ZWQ6IHVpbnQ2NCwKICAgIC8vICAgICByZXdhcmRSZW1vdmVkOiB1aW50NjQsCiAgICAvLyAgICAgc3Rha2VyUmVtb3ZlZDogYm9vbGVhbiwKICAgIC8vICk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKc3Rha2VSZW1vdmVkX2Vsc2VfYm9keUAxMDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgwMAogICAgLy8gcG9vbE51bTogbmV3IFVpbnQxNihwb29sS2V5LnBvb2xJZCksCiAgICBkaWcgNgogICAgaXRvYgogICAgZHVwCiAgICBiaXRsZW4KICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNiAyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MDEKICAgIC8vIHBvb2xBcHBJZDogcG9vbEtleS5wb29sQXBwSWQsCiAgICBkaWcgMQogICAgZXh0cmFjdCAxNiA4CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3OTgtODA3CiAgICAvLyBlbWl0PHJldGlPUF9zdGFrZVJlbW92ZWQ+KHsKICAgIC8vICAgICBpZDogcG9vbEtleS5pZCwKICAgIC8vICAgICBwb29sTnVtOiBuZXcgVWludDE2KHBvb2xLZXkucG9vbElkKSwKICAgIC8vICAgICBwb29sQXBwSWQ6IHBvb2xLZXkucG9vbEFwcElkLAogICAgLy8gICAgIHN0YWtlcjogc3Rha2VyLAogICAgLy8gICAgIGFtb3VudFVuc3Rha2VkOiBhbW91bnRSZW1vdmVkLAogICAgLy8gICAgIC8vIG5vIHRva2VucyByZXdhcmRlZC4uCiAgICAvLyAgICAgcmV3YXJkVG9rZW5Bc3NldElkOiAwLAogICAgLy8gICAgIHJld2FyZFRva2Vuc1JlY2VpdmVkOiAwLAogICAgLy8gfSkKICAgIGRpZyAyMAogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZGlnIDYKICAgIGNvbmNhdAogICAgZGlnIDUKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODA2CiAgICAvLyByZXdhcmRUb2tlbnNSZWNlaXZlZDogMCwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3OTgtODA3CiAgICAvLyBlbWl0PHJldGlPUF9zdGFrZVJlbW92ZWQ+KHsKICAgIC8vICAgICBpZDogcG9vbEtleS5pZCwKICAgIC8vICAgICBwb29sTnVtOiBuZXcgVWludDE2KHBvb2xLZXkucG9vbElkKSwKICAgIC8vICAgICBwb29sQXBwSWQ6IHBvb2xLZXkucG9vbEFwcElkLAogICAgLy8gICAgIHN0YWtlcjogc3Rha2VyLAogICAgLy8gICAgIGFtb3VudFVuc3Rha2VkOiBhbW91bnRSZW1vdmVkLAogICAgLy8gICAgIC8vIG5vIHRva2VucyByZXdhcmRlZC4uCiAgICAvLyAgICAgcmV3YXJkVG9rZW5Bc3NldElkOiAwLAogICAgLy8gICAgIHJld2FyZFRva2Vuc1JlY2VpdmVkOiAwLAogICAgLy8gfSkKICAgIGl0b2IKICAgIHN3YXAKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgYnl0ZWMgMTcgLy8gbWV0aG9kICJyZXRpT1Bfc3Rha2VSZW1vdmVkKHVpbnQ2NCx1aW50MTYsdWludDY0LGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50NjQpIgogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGIgc3Rha2VSZW1vdmVkX2FmdGVyX2lmX2Vsc2VAMTEKCnN0YWtlUmVtb3ZlZF9ib29sX2ZhbHNlQDQ6CiAgICBpbnRjXzAgLy8gMAogICAgYiBzdGFrZVJlbW92ZWRfYm9vbF9tZXJnZUA1CgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyW3JvdXRpbmddKCkgLT4gdm9pZDoKZmluZFBvb2xGb3JTdGFrZXI6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NDQtODQ5CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGZpbmRQb29sRm9yU3Rha2VyKAogICAgLy8gICAgIHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsCiAgICAvLyAgICAgc3Rha2VyOiBBY2NvdW50LAogICAgLy8gICAgIGFtb3VudFRvU3Rha2U6IHVpbnQ2NCwKICAgIC8vICk6IFtWYWxpZGF0b3JQb29sS2V5LCBib29sZWFuLCBib29sZWFuXSB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBjYWxsc3ViIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcgogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5tb3ZlUG9vbFRvTm9kZVtyb3V0aW5nXSgpIC0+IHZvaWQ6Cm1vdmVQb29sVG9Ob2RlOgogICAgYnl0ZWNfMiAvLyAiIgogICAgZHVwbiA0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MTgKICAgIC8vIG1vdmVQb29sVG9Ob2RlKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIHBvb2xBcHBJZDogdWludDY0LCBub2RlTnVtOiB1aW50NjQpOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIGR1cAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgc3dhcAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MTkKICAgIC8vIHRoaXMuY2FsbGVyTXVzdEJlT3duZXJPck1hbmFnZXIodmFsaWRhdG9ySWQpCiAgICBkaWcgMQogICAgY2FsbHN1YiBjYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTIxCiAgICAvLyBjb25zdCBub2RlUG9vbEFzc2lnbm1lbnRzID0gY2xvbmUodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5ub2RlUG9vbEFzc2lnbm1lbnRzKQogICAgc3dhcAogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MjEKICAgIC8vIGNvbnN0IG5vZGVQb29sQXNzaWdubWVudHMgPSBjbG9uZSh0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLm5vZGVQb29sQXNzaWdubWVudHMpCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBjb3ZlciAyCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTIyCiAgICAvLyBhc3NlcnQobm9kZU51bSA+PSAxICYmIG5vZGVOdW0gPD0gTUFYX05PREVTLCAnbm9kZSBudW1iZXIgb3V0IG9mIGFsbG93YWJsZSByYW5nZScpCiAgICBieiBtb3ZlUG9vbFRvTm9kZV9ib29sX2ZhbHNlQDQKICAgIGRpZyAyCiAgICBpbnRjXzIgLy8gOAogICAgPD0KICAgIGJ6IG1vdmVQb29sVG9Ob2RlX2Jvb2xfZmFsc2VANAogICAgaW50Y18xIC8vIDEKCm1vdmVQb29sVG9Ob2RlX2Jvb2xfbWVyZ2VANToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkyMgogICAgLy8gYXNzZXJ0KG5vZGVOdW0gPj0gMSAmJiBub2RlTnVtIDw9IE1BWF9OT0RFUywgJ25vZGUgbnVtYmVyIG91dCBvZiBhbGxvd2FibGUgcmFuZ2UnKQogICAgYXNzZXJ0IC8vIG5vZGUgbnVtYmVyIG91dCBvZiBhbGxvd2FibGUgcmFuZ2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkyNAogICAgLy8gZm9yIChsZXQgc3JjTm9kZUlkeDogdWludDY0ID0gMDsgc3JjTm9kZUlkeCA8IE1BWF9OT0RFUzsgc3JjTm9kZUlkeCArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA3Cgptb3ZlUG9vbFRvTm9kZV93aGlsZV90b3BANjoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkyNAogICAgLy8gZm9yIChsZXQgc3JjTm9kZUlkeDogdWludDY0ID0gMDsgc3JjTm9kZUlkeCA8IE1BWF9OT0RFUzsgc3JjTm9kZUlkeCArPSAxKSB7CiAgICBkaWcgNgogICAgaW50Y18yIC8vIDgKICAgIDwKICAgIGFzc2VydCAvLyBjb3VsZG4ndCBmaW5kIHBvb2wgYXBwIGlkIGluIG5vZGVzIHRvIG1vdmUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkyNQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IE1BWF9QT09MU19QRVJfTk9ERTsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA4Cgptb3ZlUG9vbFRvTm9kZV93aGlsZV90b3BAODoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkyNQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IE1BWF9QT09MU19QRVJfTk9ERTsgaSArPSAxKSB7CiAgICBkaWcgNwogICAgcHVzaGludCAzIC8vIDMKICAgIDwKICAgIGR1cAogICAgYnVyeSA3CiAgICBieiBtb3ZlUG9vbFRvTm9kZV9hZnRlcl93aGlsZUAxMwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTI2CiAgICAvLyBpZiAobm9kZVBvb2xBc3NpZ25tZW50cy5ub2Rlc1tzcmNOb2RlSWR4XS5wb29sQXBwSWRzW2ldID09PSBwb29sQXBwSWQpIHsKICAgIGR1cAogICAgaW50YyA4IC8vIDkwMAogICAgaW50YyA5IC8vIDE5MgogICAgZXh0cmFjdDMKICAgIGV4dHJhY3QgMCAxOTIKICAgIGRpZyA3CiAgICBpbnRjXzMgLy8gMjQKICAgICoKICAgIGR1cAogICAgYnVyeSAxMgogICAgaW50Y18zIC8vIDI0CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGV4dHJhY3QgMCAyNAogICAgZGlnIDgKICAgIGludGNfMiAvLyA4CiAgICAqCiAgICBkdXAKICAgIGJ1cnkgMTEKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgNAogICAgPT0KICAgIGJ6IG1vdmVQb29sVG9Ob2RlX2FmdGVyX2lmX2Vsc2VAMTIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkyNwogICAgLy8gYXNzZXJ0KG5vZGVOdW0gLSAxICE9PSBzcmNOb2RlSWR4LCAiY2FuJ3QgbW92ZSB0byBzYW1lIG5vZGUiKQogICAgZGlnIDIKICAgIGR1cAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGRpZyA4CiAgICAhPQogICAgYXNzZXJ0IC8vIGNhbid0IG1vdmUgdG8gc2FtZSBub2RlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MjkKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUubm9kZVBvb2xBc3NpZ25tZW50cy5ub2Rlc1tzcmNOb2RlSWR4XS5wb29sQXBwSWRzW2ldID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0b2IKICAgIGludGMgOCAvLyA5MDAKICAgIGRpZyAxMgogICAgKwogICAgZGlnIDgKICAgIGFzc2VydCAvLyBpbmRleCBvdXQgb2YgYm91bmRzCiAgICBkaWcgMTEKICAgICsKICAgIGRpZyA0CiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MzItOTM0CiAgICAvLyBhYmlDYWxsPHR5cGVvZiBTdGFraW5nUG9vbC5wcm90b3R5cGUuZ29PZmZsaW5lPih7CiAgICAvLyAgICAgYXBwSWQ6IEFwcGxpY2F0aW9uKHBvb2xBcHBJZCksCiAgICAvLyB9KQogICAgaXR4bl9iZWdpbgogICAgcHVzaGJ5dGVzIDB4NTFlZjNiMjEgLy8gbWV0aG9kICJnb09mZmxpbmUoKXZvaWQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZGlnIDQKICAgIGR1cAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTM3CiAgICAvLyB0aGlzLmFkZFBvb2xUb05vZGUodmFsaWRhdG9ySWQsIHBvb2xBcHBJZCwgbm9kZU51bSkKICAgIGRpZyA2CiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgIGNhbGxzdWIgYWRkUG9vbFRvTm9kZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTE4CiAgICAvLyBtb3ZlUG9vbFRvTm9kZSh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLCBwb29sQXBwSWQ6IHVpbnQ2NCwgbm9kZU51bTogdWludDY0KTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptb3ZlUG9vbFRvTm9kZV9hZnRlcl9pZl9lbHNlQDEyOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTI1CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgTUFYX1BPT0xTX1BFUl9OT0RFOyBpICs9IDEpIHsKICAgIGRpZyA3CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSA4CiAgICBiIG1vdmVQb29sVG9Ob2RlX3doaWxlX3RvcEA4Cgptb3ZlUG9vbFRvTm9kZV9hZnRlcl93aGlsZUAxMzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkyNAogICAgLy8gZm9yIChsZXQgc3JjTm9kZUlkeDogdWludDY0ID0gMDsgc3JjTm9kZUlkeCA8IE1BWF9OT0RFUzsgc3JjTm9kZUlkeCArPSAxKSB7CiAgICBkaWcgNgogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgNwogICAgYiBtb3ZlUG9vbFRvTm9kZV93aGlsZV90b3BANgoKbW92ZVBvb2xUb05vZGVfYm9vbF9mYWxzZUA0OgogICAgaW50Y18wIC8vIDAKICAgIGIgbW92ZVBvb2xUb05vZGVfYm9vbF9tZXJnZUA1CgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmVtcHR5VG9rZW5SZXdhcmRzW3JvdXRpbmddKCkgLT4gdm9pZDoKZW1wdHlUb2tlblJld2FyZHM6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NTYKICAgIC8vIGVtcHR5VG9rZW5SZXdhcmRzKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIHJlY2VpdmVyOiBBY2NvdW50KTogdWludDY0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk1NwogICAgLy8gdGhpcy5jYWxsZXJNdXN0QmVPd25lcih2YWxpZGF0b3JJZCkKICAgIGRpZyAxCiAgICBjYWxsc3ViIGNhbGxlck11c3RCZU93bmVyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NTgKICAgIC8vIGNvbnN0IHJld2FyZFRva2VuSWQgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5yZXdhcmRUb2tlbklkCiAgICBzd2FwCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NTgKICAgIC8vIGNvbnN0IHJld2FyZFRva2VuSWQgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5yZXdhcmRUb2tlbklkCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZHVwCiAgICBleHRyYWN0IDAgMjQyCiAgICBkdXAKICAgIGV4dHJhY3QgMTUzIDgKICAgIHN3YXAKICAgIHB1c2hpbnQgMTUzIC8vIDE1MwogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk1OQogICAgLy8gY29uc3QgcmV3YXJkVG9rZW5IZWxkQmFjayA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuc3RhdGUucmV3YXJkVG9rZW5IZWxkQmFjawogICAgZGlnIDIKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTYwCiAgICAvLyBhc3NlcnQocmV3YXJkVG9rZW5JZCAhPT0gMCwgInRoaXMgdmFsaWRhdG9yIGRvZXNuJ3QgaGF2ZSBhIHJld2FyZCB0b2tlbiBkZWZpbmVkIikKICAgIGRpZyAxCiAgICBhc3NlcnQgLy8gdGhpcyB2YWxpZGF0b3IgZG9lc24ndCBoYXZlIGEgcmV3YXJkIHRva2VuIGRlZmluZWQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk2MQogICAgLy8gY29uc3QgcG9vbE9uZUFwcElkID0gQXBwbGljYXRpb24odGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29sc1swXS5wb29sQXBwSWQpCiAgICB1bmNvdmVyIDMKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBleHRyYWN0IDAgMTggLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk2NAogICAgLy8gb3AuQXNzZXRIb2xkaW5nLmFzc2V0QmFsYW5jZShwb29sT25lQXBwSWQuYWRkcmVzcywgcmV3YXJkVG9rZW5JZClbMF0gLSByZXdhcmRUb2tlbkhlbGRCYWNrCiAgICBkdXAKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgIGRpZyAzCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIHBvcAogICAgZGlnIDIKICAgIC0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk2Ny05NzAKICAgIC8vIGFiaUNhbGw8dHlwZW9mIFN0YWtpbmdQb29sLnByb3RvdHlwZS5wYXlUb2tlblJld2FyZD4oewogICAgLy8gICAgIGFwcElkOiBwb29sT25lQXBwSWQsCiAgICAvLyAgICAgYXJnczogW3JlY2VpdmVyLCByZXdhcmRUb2tlbklkLCB0b2tlblJld2FyZEJhbF0sCiAgICAvLyB9KQogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTY5CiAgICAvLyBhcmdzOiBbcmVjZWl2ZXIsIHJld2FyZFRva2VuSWQsIHRva2VuUmV3YXJkQmFsXSwKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk2Ny05NzAKICAgIC8vIGFiaUNhbGw8dHlwZW9mIFN0YWtpbmdQb29sLnByb3RvdHlwZS5wYXlUb2tlblJld2FyZD4oewogICAgLy8gICAgIGFwcElkOiBwb29sT25lQXBwSWQsCiAgICAvLyAgICAgYXJnczogW3JlY2VpdmVyLCByZXdhcmRUb2tlbklkLCB0b2tlblJld2FyZEJhbF0sCiAgICAvLyB9KQogICAgYnl0ZWMgMTYgLy8gbWV0aG9kICJwYXlUb2tlblJld2FyZChhZGRyZXNzLHVpbnQ2NCx1aW50NjQpdm9pZCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICB1bmNvdmVyIDUKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICB1bmNvdmVyIDQKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBkdXAKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBkaWcgMQogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTcyCiAgICAvLyBvcC5Bc3NldEhvbGRpbmcuYXNzZXRCYWxhbmNlKHBvb2xPbmVBcHBJZC5hZGRyZXNzLCByZXdhcmRUb2tlbklkKVswXSA9PT0gcmV3YXJkVG9rZW5IZWxkQmFjaywKICAgIHN3YXAKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgIHVuY292ZXIgMwogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBwb3AKICAgIHVuY292ZXIgMgogICAgPT0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk3MS05NzQKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBvcC5Bc3NldEhvbGRpbmcuYXNzZXRCYWxhbmNlKHBvb2xPbmVBcHBJZC5hZGRyZXNzLCByZXdhcmRUb2tlbklkKVswXSA9PT0gcmV3YXJkVG9rZW5IZWxkQmFjaywKICAgIC8vICAgICAnYmFsYW5jZSBvZiByZW1haW5pbmcgcmV3YXJkIHRva2VucyBzaG91bGQgbWF0Y2ggdGhlIGhlbGQgYmFjayBhbW91bnQnLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIGJhbGFuY2Ugb2YgcmVtYWluaW5nIHJld2FyZCB0b2tlbnMgc2hvdWxkIG1hdGNoIHRoZSBoZWxkIGJhY2sgYW1vdW50CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NTYKICAgIC8vIGVtcHR5VG9rZW5SZXdhcmRzKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIHJlY2VpdmVyOiBBY2NvdW50KTogdWludDY0IHsKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0Q3VyTWF4U3Rha2VQZXJQb29sKHZhbGlkYXRvcklkOiB1aW50NjQpIC0+IHVpbnQ2NDoKY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmdldEN1ck1heFN0YWtlUGVyUG9vbDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI3NS0yNzYKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0Q3VyTWF4U3Rha2VQZXJQb29sKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiB1aW50NjQgewogICAgcHJvdG8gMSAxCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyNzcKICAgIC8vIGNvbnN0IG51bVBvb2xzID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5zdGF0ZS5udW1Qb29scy5hc1VpbnQ2NCgpCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI3NwogICAgLy8gY29uc3QgbnVtUG9vbHMgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnN0YXRlLm51bVBvb2xzLmFzVWludDY0KCkKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI3OAogICAgLy8gY29uc3QgaGFyZE1heERpdmlkZWRCZXR3ZWVuUG9vbHM6IHVpbnQ2NCA9IHRoaXMubWF4QWxsb3dlZFN0YWtlKCkgLyBudW1Qb29scwogICAgY2FsbHN1YiBtYXhBbGxvd2VkU3Rha2UKICAgIHN3YXAKICAgIC8KICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI3OQogICAgLy8gbGV0IG1heFBlclBvb2w6IHVpbnQ2NCA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm1heEFsZ29QZXJQb29sCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDI0MgogICAgcHVzaGludCAyMTcgLy8gMjE3CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyODAKICAgIC8vIGlmIChtYXhQZXJQb29sID09PSAwKSB7CiAgICBibnogY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmdldEN1ck1heFN0YWtlUGVyUG9vbF9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNjkKICAgIC8vIHJldHVybiBHbG9iYWwucGF5b3V0c01heEJhbGFuY2UKICAgIGdsb2JhbCBQYXlvdXRzTWF4QmFsYW5jZQogICAgZnJhbWVfYnVyeSAxCgpjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0Q3VyTWF4U3Rha2VQZXJQb29sX2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI4MwogICAgLy8gaWYgKGhhcmRNYXhEaXZpZGVkQmV0d2VlblBvb2xzIDwgbWF4UGVyUG9vbCkgewogICAgZnJhbWVfZGlnIDAKICAgIGZyYW1lX2RpZyAxCiAgICA8CiAgICBieiBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0Q3VyTWF4U3Rha2VQZXJQb29sX2FmdGVyX2lmX2Vsc2VANAogICAgZnJhbWVfZGlnIDAKICAgIGZyYW1lX2J1cnkgMQoKY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmdldEN1ck1heFN0YWtlUGVyUG9vbF9hZnRlcl9pZl9lbHNlQDQ6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyODYKICAgIC8vIHJldHVybiBtYXhQZXJQb29sCiAgICBmcmFtZV9kaWcgMQogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZmluZFBvb2xGb3JTdGFrZXIodmFsaWRhdG9ySWQ6IHVpbnQ2NCwgc3Rha2VyOiBieXRlcywgYW1vdW50VG9TdGFrZTogdWludDY0KSAtPiBieXRlczoKY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODQ0LTg0OQogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBmaW5kUG9vbEZvclN0YWtlcigKICAgIC8vICAgICB2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLAogICAgLy8gICAgIHN0YWtlcjogQWNjb3VudCwKICAgIC8vICAgICBhbW91bnRUb1N0YWtlOiB1aW50NjQsCiAgICAvLyApOiBbVmFsaWRhdG9yUG9vbEtleSwgYm9vbGVhbiwgYm9vbGVhbl0gewogICAgcHJvdG8gMyAxCiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiA0CiAgICBieXRlY18yIC8vICIiCiAgICBkdXBuIDMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg1MAogICAgLy8gbGV0IGlzTmV3U3Rha2VyVG9WYWxpZGF0b3IgPSB0cnVlCiAgICBpbnRjXzEgLy8gMQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODUxCiAgICAvLyBsZXQgaXNOZXdTdGFrZXJUb1Byb3RvY29sID0gdHJ1ZQogICAgZHVwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NTkKICAgIC8vIGNvbnN0IG1heFBlclBvb2wgPSB0aGlzLmdldEN1ck1heFN0YWtlUGVyUG9vbCh2YWxpZGF0b3JJZCkKICAgIGZyYW1lX2RpZyAtMwogICAgY2FsbHN1YiBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0Q3VyTWF4U3Rha2VQZXJQb29sCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTIKICAgIC8vIHN0YWtlclBvb2xTZXQgPSBCb3hNYXA8QWNjb3VudCwgRml4ZWRBcnJheTxWYWxpZGF0b3JQb29sS2V5LCB0eXBlb2YgTUFYX1BPT0xTX1BFUl9TVEFLRVI+Pih7IGtleVByZWZpeDogJ3NwcycgfSkKICAgIGJ5dGVjIDYgLy8gInNwcyIKICAgIGZyYW1lX2RpZyAtMgogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg2MgogICAgLy8gaWYgKHRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZmluZFBvb2xGb3JTdGFrZXJfYWZ0ZXJfaWZfZWxzZUAxMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODYzCiAgICAvLyBjb25zdCBwb29sU2V0ID0gY2xvbmUodGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikudmFsdWUpCiAgICBmcmFtZV9kaWcgMTIKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGZyYW1lX2J1cnkgNAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg2NAogICAgLy8gYXNzZXJ0KHZhbGlkYXRvcklkICE9PSAwKQogICAgZnJhbWVfZGlnIC0zCiAgICBhc3NlcnQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg2NQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHBvb2xTZXQubGVuZ3RoOyBpICs9IDEpIHsKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDYKCmNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcl93aGlsZV90b3BAMjoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg2NQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHBvb2xTZXQubGVuZ3RoOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyA2CiAgICBwdXNoaW50IDYgLy8gNgogICAgPAogICAgYnogY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyX2FmdGVyX2lmX2Vsc2VAMTIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg2NgogICAgLy8gZW5zdXJlQnVkZ2V0KDMwMCkKICAgIHB1c2hpbnQgMzAwIC8vIDMwMAogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgZW5zdXJlX2J1ZGdldAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODY3CiAgICAvLyBpZiAocG9vbFNldFtpXS5pZCA9PT0gMCkgewogICAgZnJhbWVfZGlnIDYKICAgIGludGNfMyAvLyAyNAogICAgKgogICAgZnJhbWVfZGlnIDQKICAgIHN3YXAKICAgIGludGNfMyAvLyAyNAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgOAogICAgYnogY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyX2Jsb2NrQDEwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NzAKICAgIC8vIGlzTmV3U3Rha2VyVG9Qcm90b2NvbCA9IGZhbHNlCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAxMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODcxCiAgICAvLyBpZiAocG9vbFNldFtpXS5pZCA9PT0gdmFsaWRhdG9ySWQpIHsKICAgIGZyYW1lX2RpZyA4CiAgICBmcmFtZV9kaWcgLTMKICAgID09CiAgICBieiBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZmluZFBvb2xGb3JTdGFrZXJfYmxvY2tAMTAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg3MwogICAgLy8gaXNOZXdTdGFrZXJUb1ZhbGlkYXRvciA9IGZhbHNlCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSA5CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NzUKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHNbcG9vbFNldFtpXS5wb29sSWQgLSAxXS50b3RhbEFsZ29TdGFrZWQgKwogICAgZnJhbWVfZGlnIC0zCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NzUKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHNbcG9vbFNldFtpXS5wb29sSWQgLSAxXS50b3RhbEFsZ29TdGFrZWQgKwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyAxCiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBzd2FwCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgc3dhcAogICAgcHVzaGludCAxOCAvLyAxOAogICAgKgogICAgcHVzaGludCAxOCAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODc1LTg3NgogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29sc1twb29sU2V0W2ldLnBvb2xJZCAtIDFdLnRvdGFsQWxnb1N0YWtlZCArCiAgICAvLyAgICAgYW1vdW50VG9TdGFrZSA8PQogICAgZnJhbWVfZGlnIC0xCiAgICArCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NzUtODc3CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzW3Bvb2xTZXRbaV0ucG9vbElkIC0gMV0udG90YWxBbGdvU3Rha2VkICsKICAgIC8vICAgICBhbW91bnRUb1N0YWtlIDw9CiAgICAvLyBtYXhQZXJQb29sCiAgICBmcmFtZV9kaWcgMTEKICAgIDw9CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NzQtODc4CiAgICAvLyBpZiAoCiAgICAvLyAgICAgdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29sc1twb29sU2V0W2ldLnBvb2xJZCAtIDFdLnRvdGFsQWxnb1N0YWtlZCArCiAgICAvLyAgICAgICAgIGFtb3VudFRvU3Rha2UgPD0KICAgIC8vICAgICBtYXhQZXJQb29sCiAgICAvLyApIHsKICAgIGJ6IGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcl9ibG9ja0AxMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODc5CiAgICAvLyByZXR1cm4gW3Bvb2xTZXRbaV0sIGlzTmV3U3Rha2VyVG9WYWxpZGF0b3IsIGlzTmV3U3Rha2VyVG9Qcm90b2NvbF0KICAgIGZyYW1lX2RpZyAxCiAgICBieXRlYyA3IC8vIDB4MDAKICAgIGNvbmNhdAogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCmNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcl9ibG9ja0AxMDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg2NQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHBvb2xTZXQubGVuZ3RoOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyA2CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSA2CiAgICBiIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcl93aGlsZV90b3BAMgoKY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyX2FmdGVyX2lmX2Vsc2VAMTI6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4ODcKICAgIC8vIGFtb3VudFRvU3Rha2UgPj0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWluRW50cnlTdGFrZSwKICAgIGZyYW1lX2RpZyAtMwogICAgaXRvYgogICAgZHVwCiAgICBmcmFtZV9idXJ5IDMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg4NwogICAgLy8gYW1vdW50VG9TdGFrZSA+PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5taW5FbnRyeVN0YWtlLAogICAgYm94X2dldAogICAgc3dhcAogICAgZHVwCiAgICBjb3ZlciAyCiAgICBmcmFtZV9idXJ5IDAKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBkdXAKICAgIGV4dHJhY3QgMCAyNDIKICAgIHB1c2hpbnQgMjA5IC8vIDIwOQogICAgZXh0cmFjdF91aW50NjQKICAgIGZyYW1lX2RpZyAtMQogICAgPD0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg4Ni04ODkKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBhbW91bnRUb1N0YWtlID49IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm1pbkVudHJ5U3Rha2UsCiAgICAvLyAgICAgJ211c3Qgc3Rha2UgYXQgbGVhc3QgdGhlIG1pbmltdW0gZm9yIHRoaXMgcG9vbCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gbXVzdCBzdGFrZSBhdCBsZWFzdCB0aGUgbWluaW11bSBmb3IgdGhpcyBwb29sCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4OTMKICAgIC8vIGNvbnN0IGN1ck51bVBvb2xzID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5zdGF0ZS5udW1Qb29scy5hc1VpbnQ2NCgpCiAgICBleHRyYWN0IDI0MiAyNgogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBmcmFtZV9idXJ5IDUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg5NAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGN1ck51bVBvb2xzOyBpICs9IDEpIHsKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDcKCmNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcl93aGlsZV90b3BAMTM6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4OTQKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBjdXJOdW1Qb29sczsgaSArPSAxKSB7CiAgICBmcmFtZV9kaWcgNwogICAgZnJhbWVfZGlnIDUKICAgIDwKICAgIGJ6IGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcl9hZnRlcl93aGlsZUAxNwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODk1CiAgICAvLyBpZiAocG9vbHNbaV0udG90YWxBbGdvU3Rha2VkICsgYW1vdW50VG9TdGFrZSA8PSBtYXhQZXJQb29sKSB7CiAgICBmcmFtZV9kaWcgMAogICAgaW50YyA0IC8vIDI2OAogICAgaW50YyA1IC8vIDQzMgogICAgZXh0cmFjdDMKICAgIGZyYW1lX2RpZyA3CiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICAqCiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgZnJhbWVfYnVyeSAyCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZnJhbWVfZGlnIC0xCiAgICArCiAgICBmcmFtZV9kaWcgMTEKICAgIDw9CiAgICBieiBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZmluZFBvb2xGb3JTdGFrZXJfYWZ0ZXJfaWZfZWxzZUAxNgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODk3CiAgICAvLyB7IGlkOiB2YWxpZGF0b3JJZCwgcG9vbElkOiBpICsgMSwgcG9vbEFwcElkOiBwb29sc1tpXS5wb29sQXBwSWQgfSwKICAgIGZyYW1lX2RpZyA3CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfZGlnIDIKICAgIGV4dHJhY3QgMCA4CiAgICBzd2FwCiAgICBpdG9iCiAgICBmcmFtZV9kaWcgMwogICAgc3dhcAogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg5Ni05MDAKICAgIC8vIHJldHVybiBbCiAgICAvLyAgICAgeyBpZDogdmFsaWRhdG9ySWQsIHBvb2xJZDogaSArIDEsIHBvb2xBcHBJZDogcG9vbHNbaV0ucG9vbEFwcElkIH0sCiAgICAvLyAgICAgaXNOZXdTdGFrZXJUb1ZhbGlkYXRvciwKICAgIC8vICAgICBpc05ld1N0YWtlclRvUHJvdG9jb2wsCiAgICAvLyBdCiAgICBieXRlYyA3IC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9kaWcgOQogICAgc2V0Yml0CiAgICBpbnRjXzEgLy8gMQogICAgZnJhbWVfZGlnIDEwCiAgICBzZXRiaXQKICAgIGNvbmNhdAogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCmNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcl9hZnRlcl9pZl9lbHNlQDE2OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODk0CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgY3VyTnVtUG9vbHM7IGkgKz0gMSkgewogICAgZnJhbWVfZGlnIDcKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDcKICAgIGIgY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyX3doaWxlX3RvcEAxMwoKY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyX2FmdGVyX3doaWxlQDE3OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTA0CiAgICAvLyByZXR1cm4gW3sgaWQ6IHZhbGlkYXRvcklkLCBwb29sSWQ6IDAsIHBvb2xBcHBJZDogMCB9LCBpc05ld1N0YWtlclRvVmFsaWRhdG9yLCBpc05ld1N0YWtlclRvUHJvdG9jb2xdCiAgICBpbnRjXzAgLy8gMAogICAgaXRvYgogICAgZnJhbWVfZGlnIDMKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgYnl0ZWMgNyAvLyAweDAwCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfZGlnIDkKICAgIHNldGJpdAogICAgaW50Y18xIC8vIDEKICAgIGZyYW1lX2RpZyAxMAogICAgc2V0Yml0CiAgICBjb25jYXQKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmNhbGxlck11c3RCZU93bmVyKHZhbGlkYXRvcklkOiB1aW50NjQpIC0+IHZvaWQ6CmNhbGxlck11c3RCZU93bmVyOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTgyCiAgICAvLyBwcml2YXRlIGNhbGxlck11c3RCZU93bmVyKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiB2b2lkIHsKICAgIHByb3RvIDEgMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTg0CiAgICAvLyBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lciwKICAgIHR4biBTZW5kZXIKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTg0CiAgICAvLyBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lciwKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDAgMjQyCiAgICBleHRyYWN0IDggMzIKICAgID09CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5ODMtOTg2CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgICAgVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIsCiAgICAvLyAgICAgJ2NhbiBvbmx5IGJlIGNhbGxlZCBieSB2YWxpZGF0b3Igb3duZXInLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGJlIGNhbGxlZCBieSB2YWxpZGF0b3Igb3duZXIKICAgIHJldHN1YgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5jYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcih2YWxpZGF0b3JJZDogdWludDY0KSAtPiB2b2lkOgpjYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcjoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk4OQogICAgLy8gcHJpdmF0ZSBjYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcih2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogdm9pZCB7CiAgICBwcm90byAxIDAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk5MQogICAgLy8gVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIgfHwKICAgIHR4biBTZW5kZXIKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5OTEKICAgIC8vIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm93bmVyIHx8CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDI0MgogICAgZXh0cmFjdCA4IDMyCiAgICA9PQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTkxLTk5MgogICAgLy8gVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIgfHwKICAgIC8vICAgICBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5tYW5hZ2VyLAogICAgYm56IGNhbGxlck11c3RCZU93bmVyT3JNYW5hZ2VyX2Jvb2xfdHJ1ZUAyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5OTIKICAgIC8vIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm1hbmFnZXIsCiAgICB0eG4gU2VuZGVyCiAgICBmcmFtZV9kaWcgMAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMCAyNDIKICAgIGV4dHJhY3QgNDAgMzIKICAgID09CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5OTEtOTkyCiAgICAvLyBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lciB8fAogICAgLy8gICAgIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm1hbmFnZXIsCiAgICBieiBjYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcl9ib29sX2ZhbHNlQDMKCmNhbGxlck11c3RCZU93bmVyT3JNYW5hZ2VyX2Jvb2xfdHJ1ZUAyOgogICAgaW50Y18xIC8vIDEKCmNhbGxlck11c3RCZU93bmVyT3JNYW5hZ2VyX2Jvb2xfbWVyZ2VANDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk5MC05OTQKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lciB8fAogICAgLy8gICAgICAgICBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5tYW5hZ2VyLAogICAgLy8gICAgICdjYW4gb25seSBiZSBjYWxsZWQgYnkgb3duZXIgb3IgbWFuYWdlciBvZiB2YWxpZGF0b3InLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGJlIGNhbGxlZCBieSBvd25lciBvciBtYW5hZ2VyIG9mIHZhbGlkYXRvcgogICAgcmV0c3ViCgpjYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcl9ib29sX2ZhbHNlQDM6CiAgICBpbnRjXzAgLy8gMAogICAgYiBjYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcl9ib29sX21lcmdlQDQKCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkudmVyaWZ5UG9vbEtleUNhbGxlcihwb29sS2V5OiBieXRlcykgLT4gYnl0ZXM6CnZlcmlmeVBvb2xLZXlDYWxsZXI6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDAyCiAgICAvLyBwcml2YXRlIHZlcmlmeVBvb2xLZXlDYWxsZXIocG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSk6IHZvaWQgewogICAgcHJvdG8gMSAxCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDAzCiAgICAvLyBhc3NlcnQodGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLmV4aXN0cywgInRoZSBzcGVjaWZpZWQgdmFsaWRhdG9yIGlkIGlzbid0IHZhbGlkIikKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAwMwogICAgLy8gYXNzZXJ0KHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS5leGlzdHMsICJ0aGUgc3BlY2lmaWVkIHZhbGlkYXRvciBpZCBpc24ndCB2YWxpZCIpCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyB0aGUgc3BlY2lmaWVkIHZhbGlkYXRvciBpZCBpc24ndCB2YWxpZAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAwNAogICAgLy8gYXNzZXJ0KHBvb2xLZXkucG9vbElkIDw9IE1BWF9QT09MUywgJ3Bvb2wgaWQgbm90IGluIHZhbGlkIHJhbmdlJykKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18yIC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXBuIDIKICAgIGludGNfMyAvLyAyNAogICAgPD0KICAgIGFzc2VydCAvLyBwb29sIGlkIG5vdCBpbiB2YWxpZCByYW5nZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAwNgogICAgLy8gcG9vbEtleS5wb29sSWQgPiAwICYmIHBvb2xLZXkucG9vbElkIDw9IHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5zdGF0ZS5udW1Qb29scy5hc1VpbnQ2NCgpLAogICAgYnogdmVyaWZ5UG9vbEtleUNhbGxlcl9ib29sX2ZhbHNlQDMKICAgIGZyYW1lX2RpZyAxCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAyNDIgMjYKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZnJhbWVfZGlnIDIKICAgID49CiAgICBieiB2ZXJpZnlQb29sS2V5Q2FsbGVyX2Jvb2xfZmFsc2VAMwogICAgaW50Y18xIC8vIDEKCnZlcmlmeVBvb2xLZXlDYWxsZXJfYm9vbF9tZXJnZUA0OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAwNS0xMDA4CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgICAgcG9vbEtleS5wb29sSWQgPiAwICYmIHBvb2xLZXkucG9vbElkIDw9IHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5zdGF0ZS5udW1Qb29scy5hc1VpbnQ2NCgpLAogICAgLy8gICAgICdwb29sIGlkIG91dHNpZGUgb2YgcmFuZ2Ugb2YgcG9vbHMgY3JlYXRlZCBmb3IgdGhpcyB2YWxpZGF0b3InLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIHBvb2wgaWQgb3V0c2lkZSBvZiByYW5nZSBvZiBwb29scyBjcmVhdGVkIGZvciB0aGlzIHZhbGlkYXRvcgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAxMgogICAgLy8gcG9vbEtleS5wb29sQXBwSWQgPT09IHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnBvb2xBcHBJZCwKICAgIGZyYW1lX2RpZyAtMQogICAgcHVzaGludCAxNiAvLyAxNgogICAgZXh0cmFjdF91aW50NjQKICAgIGZyYW1lX2RpZyAxCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZnJhbWVfZGlnIDIKICAgIGR1cAogICAgY292ZXIgMwogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIHN3YXAKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBzd2FwCiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICAqCiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgID09CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDExLTEwMTQKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBwb29sS2V5LnBvb2xBcHBJZCA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnBvb2xzW3Bvb2xLZXkucG9vbElkIC0gMV0ucG9vbEFwcElkLAogICAgLy8gICAgICJUaGUgcGFzc2VkIGluIGFwcCBpZCBkb2Vzbid0IG1hdGNoIHRoZSBwYXNzZWQgaW4gaWRzIiwKICAgIC8vICkKICAgIGFzc2VydCAvLyBUaGUgcGFzc2VkIGluIGFwcCBpZCBkb2Vzbid0IG1hdGNoIHRoZSBwYXNzZWQgaW4gaWRzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDE2CiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gQXBwbGljYXRpb24ocG9vbEtleS5wb29sQXBwSWQpLmFkZHJlc3MpCiAgICB0eG4gU2VuZGVyCiAgICBkaWcgMQogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgPT0KICAgIGFzc2VydAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAxOAogICAgLy8gYXNzZXJ0KHBvb2xLZXkuaWQgPT09IG9wLkFwcEdsb2JhbC5nZXRFeFVpbnQ2NChwb29sS2V5LnBvb2xBcHBJZCwgQnl0ZXMoJ3ZhbGlkYXRvcklkJykpWzBdKQogICAgZHVwCiAgICBwdXNoYnl0ZXMgInZhbGlkYXRvcklkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgZnJhbWVfZGlnIDAKICAgID09CiAgICBhc3NlcnQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMTkKICAgIC8vIGFzc2VydChwb29sS2V5LnBvb2xJZCA9PT0gb3AuQXBwR2xvYmFsLmdldEV4VWludDY0KHBvb2xLZXkucG9vbEFwcElkLCBCeXRlcygncG9vbElkJykpWzBdKQogICAgcHVzaGJ5dGVzICJwb29sSWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICA9PQogICAgYXNzZXJ0CiAgICBmcmFtZV9kaWcgLTEKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgp2ZXJpZnlQb29sS2V5Q2FsbGVyX2Jvb2xfZmFsc2VAMzoKICAgIGludGNfMCAvLyAwCiAgICBiIHZlcmlmeVBvb2xLZXlDYWxsZXJfYm9vbF9tZXJnZUA0CgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmFkZFBvb2xUb05vZGUodmFsaWRhdG9ySWQ6IHVpbnQ2NCwgcG9vbEFwcElkOiB1aW50NjQsIG5vZGVOdW06IHVpbnQ2NCkgLT4gdm9pZDoKYWRkUG9vbFRvTm9kZToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMDQKICAgIC8vIHByaXZhdGUgYWRkUG9vbFRvTm9kZSh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLCBwb29sQXBwSWQ6IHVpbnQ2NCwgbm9kZU51bTogdWludDY0KSB7CiAgICBwcm90byAzIDAKICAgIGJ5dGVjXzIgLy8gIiIKICAgIGR1cG4gMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIwNQogICAgLy8gY29uc3Qgbm9kZVBvb2xBc3NpZ25tZW50cyA9IGNsb25lKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUubm9kZVBvb2xBc3NpZ25tZW50cykKICAgIGZyYW1lX2RpZyAtMwogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjA1CiAgICAvLyBjb25zdCBub2RlUG9vbEFzc2lnbm1lbnRzID0gY2xvbmUodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5ub2RlUG9vbEFzc2lnbm1lbnRzKQogICAgYm94X2dldAogICAgc3dhcAogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjA2CiAgICAvLyBjb25zdCBtYXhQb29sc1Blck5vZGVGb3JUaGlzVmFsaWRhdG9yID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcucG9vbHNQZXJOb2RlCiAgICBleHRyYWN0IDAgMjQyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjA4CiAgICAvLyBhc3NlcnQobm9kZU51bSA+PSAxICYmIG5vZGVOdW0gPD0gTUFYX05PREVTLCAnbm9kZSBudW1iZXIgbm90IGluIHZhbGlkIHJhbmdlJykKICAgIGZyYW1lX2RpZyAtMQogICAgYnogYWRkUG9vbFRvTm9kZV9ib29sX2ZhbHNlQDMKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18yIC8vIDgKICAgIDw9CiAgICBieiBhZGRQb29sVG9Ob2RlX2Jvb2xfZmFsc2VAMwogICAgaW50Y18xIC8vIDEKCmFkZFBvb2xUb05vZGVfYm9vbF9tZXJnZUA0OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIwOAogICAgLy8gYXNzZXJ0KG5vZGVOdW0gPj0gMSAmJiBub2RlTnVtIDw9IE1BWF9OT0RFUywgJ25vZGUgbnVtYmVyIG5vdCBpbiB2YWxpZCByYW5nZScpCiAgICBhc3NlcnQgLy8gbm9kZSBudW1iZXIgbm90IGluIHZhbGlkIHJhbmdlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjEwCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgbWF4UG9vbHNQZXJOb2RlRm9yVGhpc1ZhbGlkYXRvci5hc1VpbnQ2NCgpOyBpICs9IDEpIHsKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDIKCmFkZFBvb2xUb05vZGVfd2hpbGVfdG9wQDU6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjEwCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgbWF4UG9vbHNQZXJOb2RlRm9yVGhpc1ZhbGlkYXRvci5hc1VpbnQ2NCgpOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyA1CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjA2CiAgICAvLyBjb25zdCBtYXhQb29sc1Blck5vZGVGb3JUaGlzVmFsaWRhdG9yID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcucG9vbHNQZXJOb2RlCiAgICBwdXNoaW50IDIyNSAvLyAyMjUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMTAKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBtYXhQb29sc1Blck5vZGVGb3JUaGlzVmFsaWRhdG9yLmFzVWludDY0KCk7IGkgKz0gMSkgewogICAgZ2V0Ynl0ZQogICAgZnJhbWVfZGlnIDIKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICA8CiAgICBhc3NlcnQgLy8gbm8gYXZhaWxhYmxlIHNwYWNlIGluIHNwZWNpZmllZCBub2RlIGZvciB0aGlzIHBvb2wKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMTEKICAgIC8vIGlmIChub2RlUG9vbEFzc2lnbm1lbnRzLm5vZGVzW25vZGVOdW0gLSAxXS5wb29sQXBwSWRzW2ldID09PSAwKSB7CiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBmcmFtZV9kaWcgNAogICAgaW50YyA4IC8vIDkwMAogICAgaW50YyA5IC8vIDE5MgogICAgZXh0cmFjdDMKICAgIGV4dHJhY3QgMCAxOTIKICAgIHN3YXAKICAgIGludGNfMyAvLyAyNAogICAgKgogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIGludGNfMyAvLyAyNAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBleHRyYWN0IDAgMjQKICAgIHN3YXAKICAgIGludGNfMiAvLyA4CiAgICAqCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMQogICAgZXh0cmFjdF91aW50NjQKICAgIGJueiBhZGRQb29sVG9Ob2RlX2FmdGVyX2lmX2Vsc2VAOAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIxMwogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5ub2RlUG9vbEFzc2lnbm1lbnRzLm5vZGVzW25vZGVOdW0gLSAxXS5wb29sQXBwSWRzW2ldID0gcG9vbEFwcElkCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIGludGMgOCAvLyA5MDAKICAgIGZyYW1lX2RpZyAwCiAgICArCiAgICBmcmFtZV9kaWcgMgogICAgcHVzaGludCAzIC8vIDMKICAgIDwKICAgIGFzc2VydCAvLyBpbmRleCBvdXQgb2YgYm91bmRzCiAgICBmcmFtZV9kaWcgMQogICAgKwogICAgZnJhbWVfZGlnIDMKICAgIHN3YXAKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMTQKICAgIC8vIHJldHVybgogICAgcmV0c3ViCgphZGRQb29sVG9Ob2RlX2FmdGVyX2lmX2Vsc2VAODoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMTAKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBtYXhQb29sc1Blck5vZGVGb3JUaGlzVmFsaWRhdG9yLmFzVWludDY0KCk7IGkgKz0gMSkgewogICAgZnJhbWVfZGlnIDIKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDIKICAgIGIgYWRkUG9vbFRvTm9kZV93aGlsZV90b3BANQoKYWRkUG9vbFRvTm9kZV9ib29sX2ZhbHNlQDM6CiAgICBpbnRjXzAgLy8gMAogICAgYiBhZGRQb29sVG9Ob2RlX2Jvb2xfbWVyZ2VANAoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5pc0FkZHJlc3NJbk5GRENBQWxnb0xpc3QobmZkQXBwSUQ6IHVpbnQ2NCwgYWRkclRvRmluZDogYnl0ZXMpIC0+IHVpbnQ2NDoKaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMyOQogICAgLy8gcHJpdmF0ZSBpc0FkZHJlc3NJbk5GRENBQWxnb0xpc3QobmZkQXBwSUQ6IHVpbnQ2NCwgYWRkclRvRmluZDogQWNjb3VudCk6IGJvb2xlYW4gewogICAgcHJvdG8gMiAxCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMzMC0xMzMzCiAgICAvLyBpdHhuLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IEFwcGxpY2F0aW9uKG5mZEFwcElEKSwKICAgIC8vICAgICBhcHBBcmdzOiBbQnl0ZXMoJ3JlYWRfcHJvcGVydHknKSwgQnl0ZXMoJ3YuY2FBbGdvLjAuYXMnKV0sCiAgICAvLyB9KS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMzMgogICAgLy8gYXBwQXJnczogW0J5dGVzKCdyZWFkX3Byb3BlcnR5JyksIEJ5dGVzKCd2LmNhQWxnby4wLmFzJyldLAogICAgcHVzaGJ5dGVzICJyZWFkX3Byb3BlcnR5IgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHB1c2hieXRlcyAidi5jYUFsZ28uMC5hcyIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMzMC0xMzMzCiAgICAvLyBpdHhuLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IEFwcGxpY2F0aW9uKG5mZEFwcElEKSwKICAgIC8vICAgICBhcHBBcmdzOiBbQnl0ZXMoJ3JlYWRfcHJvcGVydHknKSwgQnl0ZXMoJ3YuY2FBbGdvLjAuYXMnKV0sCiAgICAvLyB9KS5zdWJtaXQoKQogICAgcHVzaGludCA2IC8vIDYKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMzQKICAgIC8vIGNvbnN0IGNhQWxnb0RhdGEgPSBvcC5JVHhuLmxhc3RMb2cKICAgIGl0eG4gTGFzdExvZwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMzNQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGNhQWxnb0RhdGEubGVuZ3RoOyBpICs9IDMyKSB7CiAgICBpbnRjXzAgLy8gMAoKaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0X3doaWxlX3RvcEAyOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMzNQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGNhQWxnb0RhdGEubGVuZ3RoOyBpICs9IDMyKSB7CiAgICBmcmFtZV9kaWcgMQogICAgbGVuCiAgICBmcmFtZV9kaWcgMgogICAgPgogICAgYnogaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0X2FmdGVyX3doaWxlQDcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMzYKICAgIC8vIGNvbnN0IGFkZHIgPSBvcC5leHRyYWN0KGNhQWxnb0RhdGEsIGksIDMyKQogICAgZnJhbWVfZGlnIDEKICAgIGZyYW1lX2RpZyAyCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICBleHRyYWN0MwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMzcKICAgIC8vIGlmIChhZGRyICE9PSBlbmNvZGVBcmM0KEdsb2JhbC56ZXJvQWRkcmVzcykgJiYgYWRkciA9PT0gZW5jb2RlQXJjNChhZGRyVG9GaW5kKSkgewogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICAhPQogICAgYnogaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0X2FmdGVyX2lmX2Vsc2VANgogICAgZnJhbWVfZGlnIDAKICAgIGZyYW1lX2RpZyAtMQogICAgPT0KICAgIGJ6IGlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdF9hZnRlcl9pZl9lbHNlQDYKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMzgKICAgIC8vIHJldHVybiB0cnVlCiAgICBpbnRjXzEgLy8gMQogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCmlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdF9hZnRlcl9pZl9lbHNlQDY6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzM1CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgY2FBbGdvRGF0YS5sZW5ndGg7IGkgKz0gMzIpIHsKICAgIGZyYW1lX2RpZyAyCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICArCiAgICBmcmFtZV9idXJ5IDIKICAgIGIgaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0X3doaWxlX3RvcEAyCgppc0FkZHJlc3NJbk5GRENBQWxnb0xpc3RfYWZ0ZXJfd2hpbGVANzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNDEKICAgIC8vIHJldHVybiBmYWxzZQogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5Lm1heEFsbG93ZWRTdGFrZSgpIC0+IHVpbnQ2NDoKbWF4QWxsb3dlZFN0YWtlOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTM3MwogICAgLy8gcmV0dXJuIG9wLm9ubGluZVN0YWtlKCkKICAgIG9ubGluZV9zdGFrZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTM2MgogICAgLy8gcmV0dXJuIHdpZGVSYXRpbyhbb25saW5lLCBNQVhfVkFMSURBVE9SX0hBUkRfUENUX09GX09OTElORV8xREVDSU1BTF0sIFsxMDAwXSkKICAgIGl0b2IKICAgIGJ5dGVjIDExIC8vIDB4MDAwMgogICAgc3dhcAogICAgY29uY2F0CiAgICBwdXNoaW50IDE1MCAvLyAxNTAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgYnl0ZWMgMTUgLy8gMHgwMDAxMDAwMDAwMDAwMDAwMDNlOAogICAgY2FsbHN1YiB3aWRlUmF0aW8KICAgIHBvcG4gMgogICAgcmV0c3ViCg==",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "state": {
        "global": {
            "num_byte_slices": 0,
            "num_uints": 4
        },
        "local": {
            "num_byte_slices": 0,
            "num_uints": 0
        }
    },
    "schema": {
        "global": {
            "declared": {
                "numStakers": {
                    "type": "uint64",
                    "key": "numStakers"
                },
                "numValidators": {
                    "type": "uint64",
                    "key": "numV"
                },
                "stakingPoolInitialized": {
                    "type": "uint64",
                    "key": "init"
                },
                "totalAlgoStaked": {
                    "type": "uint64",
                    "key": "staked"
                }
            },
            "reserved": {}
        },
        "local": {
            "declared": {},
            "reserved": {}
        }
    },
    "contract": {
        "name": "ValidatorRegistry",
        "desc": "ValidatorRegistry is the 'master contract' for the reti pooling protocol.\nA single immutable instance of this is deployed.  All state for all validators including information about their\npools and nodes is stored via this contract in global state and box storage.  Data in the pools themselves is stored\nwithin the StakingPool contract instance, also in global state and box storage.\nSee the StakingPool contract comments for details on how this contract creates new instances of them.",
        "methods": [
            {
                "name": "createApplication",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "initStakingContract",
                "args": [
                    {
                        "type": "uint64",
                        "name": "approvalProgramSize"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "loadStakingContractData",
                "args": [
                    {
                        "type": "uint64",
                        "name": "offset"
                    },
                    {
                        "type": "byte[]",
                        "name": "data"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "finalizeStakingContract",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "gas",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "gas is a dummy no-op call that can be used to pool-up resource references and opcode cost"
            },
            {
                "name": "getMbrAmounts",
                "args": [],
                "readonly": true,
                "returns": {
                    "type": "(uint64,uint64,uint64,uint64)"
                },
                "desc": "Returns the MBR amounts needed for various actions:\n[\n addValidatorMbr: uint64 - mbr needed to add a new validator - paid to validator contract\n addPoolMbr: uint64 - mbr needed to add a new pool - paid to validator\n poolInitMbr: uint64 - mbr needed to initStorage() of pool - paid to pool itself\n addStakerMbr: uint64 - mbr staker needs to add to first staking payment (stays w/ validator)\n]"
            },
            {
                "name": "getProtocolConstraints",
                "args": [],
                "readonly": true,
                "returns": {
                    "type": "(uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64)"
                },
                "desc": "Returns the protocol constraints so that UIs can limit what users specify for validator configuration parameters."
            },
            {
                "name": "getNumValidators",
                "args": [],
                "readonly": true,
                "returns": {
                    "type": "uint64"
                },
                "desc": "Returns the current number of validators"
            },
            {
                "name": "getValidatorConfig",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "(uint64,address,address,uint64,uint8,address,uint64[4],uint64,uint64,uint64,uint32,uint32,address,uint64,uint64,uint8,uint64,uint64)"
                }
            },
            {
                "name": "getValidatorState",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "(uint16,uint64,uint64,uint64)"
                }
            },
            {
                "name": "getValidatorOwnerAndManager",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "(address,address)"
                }
            },
            {
                "name": "getPools",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": ""
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "(uint64,uint16,uint64)[]",
                    "desc": "- array of pools\nNot callable from other contracts because >1K return but can be called w/ simulate which bumps log returns"
                },
                "desc": "Return list of all pools for this validator."
            },
            {
                "name": "getPoolAppId",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId"
                    },
                    {
                        "type": "uint64",
                        "name": "poolId"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "uint64"
                },
                "desc": "getPoolAppId is useful for callers to determine app to call for removing stake if they don't have staking or\nwant to get staker list for an account.  The staking pool also uses it to get the app id of staking pool 1\n(which contains reward tokens if being used) so that the amount available can be determined."
            },
            {
                "name": "getPoolInfo",
                "args": [
                    {
                        "type": "(uint64,uint64,uint64)",
                        "name": "poolKey"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "(uint64,uint16,uint64)"
                }
            },
            {
                "name": "getCurMaxStakePerPool",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator."
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "uint64"
                },
                "desc": "Calculate the maximum stake per pool for a given validator.\nNormally this would be maxAlgoPerPool, but it should also never go above MaxAllowedStake / numPools so\nas pools are added the max allowed per pool can reduce."
            },
            {
                "name": "doesStakerNeedToPayMBR",
                "args": [
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": ""
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "bool"
                },
                "desc": "Helper callers can call w/ simulate to determine if 'AddStaker' MBR should be included w/ staking amount"
            },
            {
                "name": "getStakedPoolsForAccount",
                "args": [
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": "- The account to retrieve staked pools for."
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "(uint64,uint64,uint64)[]",
                    "desc": "- The array of staked pools for the account."
                },
                "desc": "Retrieves the staked pools for an account."
            },
            {
                "name": "getTokenPayoutRatio",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator."
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "(uint64[24],uint64)",
                    "desc": "- The token payout ratio for the validator."
                },
                "desc": "Retrieves the token payout ratio for a given validator - returning the pool ratios of whole so that token\npayouts across pools can be based on a stable snaphost of stake."
            },
            {
                "name": "getNodePoolAssignments",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "((uint64[3])[8])"
                }
            },
            {
                "name": "getNFDRegistryID",
                "args": [],
                "readonly": true,
                "returns": {
                    "type": "uint64"
                }
            },
            {
                "name": "addValidator",
                "args": [
                    {
                        "type": "pay",
                        "name": "mbrPayment",
                        "desc": "payment from caller which covers mbr increase of new validator storage"
                    },
                    {
                        "type": "string",
                        "name": "nfdName",
                        "desc": "(Optional) Name of nfd (used as double-check against id specified in config)"
                    },
                    {
                        "type": "(uint64,address,address,uint64,uint8,address,uint64[4],uint64,uint64,uint64,uint32,uint32,address,uint64,uint64,uint8,uint64,uint64)",
                        "name": "config",
                        "desc": "ValidatorConfig struct"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "uint64",
                    "desc": "validator id"
                },
                "desc": "Adds a new validator\nRequires at least 10 ALGO as the 'fee' for the transaction to help dissuade spammed validator adds."
            },
            {
                "name": "changeValidatorManager",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator to change the manager for."
                    },
                    {
                        "type": "address",
                        "name": "manager",
                        "desc": "- The new manager address."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Changes the Validator manager for a specific Validator id.\n[ ONLY OWNER CAN CHANGE ]"
            },
            {
                "name": "changeValidatorSunsetInfo",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator to update."
                    },
                    {
                        "type": "uint64",
                        "name": "sunsettingOn",
                        "desc": "- The new sunset timestamp."
                    },
                    {
                        "type": "uint64",
                        "name": "sunsettingTo",
                        "desc": "- The new sunset to validator id."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Updates the sunset information for a given validator.\n[ ONLY OWNER CAN CHANGE ]"
            },
            {
                "name": "changeValidatorNFD",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator to update."
                    },
                    {
                        "type": "uint64",
                        "name": "nfdAppID",
                        "desc": "- The application id of the NFD to assign to the validator."
                    },
                    {
                        "type": "string",
                        "name": "nfdName",
                        "desc": "- The name of the NFD (which must match)"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Changes the NFD for a validator in the validatorList contract.\n[ ONLY OWNER CAN CHANGE ]"
            },
            {
                "name": "changeValidatorCommissionAddress",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId"
                    },
                    {
                        "type": "address",
                        "name": "commissionAddress"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Change the commission address that validator rewards are sent to.\n[ ONLY OWNER CAN CHANGE ]"
            },
            {
                "name": "changeValidatorRewardInfo",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId"
                    },
                    {
                        "type": "uint8",
                        "name": "EntryGatingType"
                    },
                    {
                        "type": "address",
                        "name": "EntryGatingAddress"
                    },
                    {
                        "type": "uint64[4]",
                        "name": "EntryGatingAssets"
                    },
                    {
                        "type": "uint64",
                        "name": "GatingAssetMinBalance"
                    },
                    {
                        "type": "uint64",
                        "name": "RewardPerPayout"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Allow the additional rewards (gating entry, additional token rewards) information be changed at will.\n[ ONLY OWNER CAN CHANGE ]"
            },
            {
                "name": "addPool",
                "args": [
                    {
                        "type": "pay",
                        "name": "mbrPayment",
                        "desc": "payment from caller which covers mbr increase of adding a new pool"
                    },
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "is id of validator to pool to (must be owner or manager)"
                    },
                    {
                        "type": "uint64",
                        "name": "nodeNum",
                        "desc": "is node number to add to"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(uint64,uint64,uint64)",
                    "desc": "pool key to created pool"
                },
                "desc": "Adds a new pool to a validator's pool set, returning the 'key' to reference the pool in the future for staking, etc.\nThe caller must pay the cost of the validators MBR increase as well as the MBR that will be needed for the pool itself.\n\n[ ONLY OWNER OR MANAGER CAN call ]"
            },
            {
                "name": "addStake",
                "args": [
                    {
                        "type": "pay",
                        "name": "stakedAmountPayment",
                        "desc": "- payment coming from staker to place into a pool"
                    },
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator."
                    },
                    {
                        "type": "uint64",
                        "name": "valueToVerify",
                        "desc": "- only if validator has gating to enter - this is asset id or nfd id that corresponds to gating.\nTxn sender is factored in as well if that is part of gating.\n*"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(uint64,uint64,uint64)",
                    "desc": "- The key of the validator pool."
                },
                "desc": "Adds stake to a validator pool."
            },
            {
                "name": "setTokenPayoutRatio",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- validator id (and thus pool) calling us.  Verified so that sender MUST be pool 1 of this validator."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(uint64[24],uint64)",
                    "desc": "PoolTokenPayoutRatio - the finished ratio data"
                },
                "desc": "setTokenPayoutRatio is called by Staking Pool # 1 (ONLY) to ask the validator (us) to calculate the ratios\nof stake in the pools for subsequent token payouts (ie: 2 pools, '100' algo total staked, 60 in pool 1, and 40\nin pool 2)  This is done so we have a stable snapshot of stake - taken once per epoch - only triggered by\npool 1 doing payout.  pools other than 1 doing payout call pool 1 to ask it do it first.\nIt would be 60/40% in the poolPctOfWhole values.  The token reward payouts then use these values instead of\ntheir 'current' stake which changes as part of the payouts themselves (and people could be changing stake\nduring the epoch updates across pools)\n\nMultiple pools will call us via pool 1 (pool2->pool1->validator, etc.) so don't assert on pool1 calling multiple\ntimes in same epoch.  Just return."
            },
            {
                "name": "stakeUpdatedViaRewards",
                "args": [
                    {
                        "type": "(uint64,uint64,uint64)",
                        "name": "poolKey",
                        "desc": "- ValidatorPoolKey type"
                    },
                    {
                        "type": "uint64",
                        "name": "algoToAdd",
                        "desc": "- amount this validator's total stake increased via rewards"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardTokenAmountReserved",
                        "desc": "- amount this validator's total stake increased via rewards (that should be"
                    },
                    {
                        "type": "uint64",
                        "name": "validatorCommission",
                        "desc": "- the commission amount the validator was paid, if any"
                    },
                    {
                        "type": "uint64",
                        "name": "saturatedBurnToFeeSink",
                        "desc": "- if the pool was in saturated state, the amount sent back to the fee sink.\nseen as 'accounted for/pending spent')"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "stakeUpdatedViaRewards is called by Staking pools to inform the validator (us) that a particular amount of total\nstake has been added to the specified pool.  This is used to update the stats we have in our PoolInfo storage.\nThe calling App id is validated against our pool list as well."
            },
            {
                "name": "stakeRemoved",
                "args": [
                    {
                        "type": "(uint64,uint64,uint64)",
                        "name": "poolKey",
                        "desc": "calling us from which stake was removed"
                    },
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": ""
                    },
                    {
                        "type": "uint64",
                        "name": "amountRemoved",
                        "desc": "- algo amount removed"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardRemoved",
                        "desc": "- if applicable, amount of token reward removed (by pool 1 caller) or TO remove and pay out (via pool 1 from different pool caller)"
                    },
                    {
                        "type": "bool",
                        "name": "stakerRemoved",
                        "desc": ""
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "stakeRemoved is called by Staking pools to inform the validator (us) that a particular amount of total stake has been removed\nfrom the specified pool.  This is used to update the stats we have in our PoolInfo storage.\nIf any amount of rewardRemoved is specified, then that amount of reward is sent to the use\nThe calling App id is validated against our pool list as well."
            },
            {
                "name": "findPoolForStaker",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator."
                    },
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": "- The address of the staker."
                    },
                    {
                        "type": "uint64",
                        "name": "amountToStake",
                        "desc": "- The amount to stake."
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "((uint64,uint64,uint64),bool,bool)",
                    "desc": ", boolean, boolean} - The pool for the staker, true/false on whether the staker is 'new'\nto this VALIDATOR, and true/false if staker is new to the protocol."
                },
                "desc": "Finds the pool for a staker based on the provided validator id, staker address, and amount to stake.\nFirst checks the stakers 'already staked list' for the validator preferring those (adding if possible) then adds\nto new pool if necessary."
            },
            {
                "name": "movePoolToNode",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator."
                    },
                    {
                        "type": "uint64",
                        "name": "poolAppId",
                        "desc": ""
                    },
                    {
                        "type": "uint64",
                        "name": "nodeNum",
                        "desc": ""
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Find the specified pool (in any node number) and move it to the specified node.\nThe pool account is forced offline if moved so prior node will still run for 320 rounds but\nnew key goes online on new node soon after (320 rounds after it goes online)\nNo-op if success, asserts if not found or can't move  (no space in target)\n[ ONLY OWNER OR MANAGER CAN CHANGE ]"
            },
            {
                "name": "emptyTokenRewards",
                "args": [
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- The id of the validator."
                    },
                    {
                        "type": "address",
                        "name": "receiver",
                        "desc": "- the account to send the tokens to (must already be opted-in to the reward token)"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "uint64",
                    "desc": "the amount of reward token sent"
                },
                "desc": "Sends the reward tokens held in pool 1 to specified receiver.\nThis is intended to be used by the owner when they want to get reward tokens 'back' which they sent to\nthe first pool (likely because validator is sunsetting.  Any tokens currently 'reserved' for stakers to claim will\nNOT be sent as they must be held back for stakers to later claim.\n[ ONLY OWNER CAN CALL]"
            }
        ],
        "networks": {}
    },
    "bare_call_config": {}
}