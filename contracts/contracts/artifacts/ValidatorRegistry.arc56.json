{
    "name": "ValidatorRegistry",
    "structs": {
        "Constraints": [
            {
                "name": "epochPayoutRoundsMin",
                "type": "uint64"
            },
            {
                "name": "epochPayoutRoundsMax",
                "type": "uint64"
            },
            {
                "name": "minPctToValidatorWFourDecimals",
                "type": "uint64"
            },
            {
                "name": "maxPctToValidatorWFourDecimals",
                "type": "uint64"
            },
            {
                "name": "minEntryStake",
                "type": "uint64"
            },
            {
                "name": "maxAlgoPerPool",
                "type": "uint64"
            },
            {
                "name": "maxAlgoPerValidator",
                "type": "uint64"
            },
            {
                "name": "amtConsideredSaturated",
                "type": "uint64"
            },
            {
                "name": "maxNodes",
                "type": "uint64"
            },
            {
                "name": "maxPoolsPerNode",
                "type": "uint64"
            },
            {
                "name": "maxStakersPerPool",
                "type": "uint64"
            }
        ],
        "MbrAmounts": [
            {
                "name": "addValidatorMbr",
                "type": "uint64"
            },
            {
                "name": "addPoolMbr",
                "type": "uint64"
            },
            {
                "name": "poolInitMbr",
                "type": "uint64"
            },
            {
                "name": "addStakerMbr",
                "type": "uint64"
            }
        ],
        "NodePoolAssignmentConfig": [
            {
                "name": "nodes",
                "type": "(uint64[3])[8]"
            }
        ],
        "PoolInfo": [
            {
                "name": "poolAppId",
                "type": "uint64"
            },
            {
                "name": "totalStakers",
                "type": "uint16"
            },
            {
                "name": "totalAlgoStaked",
                "type": "uint64"
            }
        ],
        "PoolTokenPayoutRatio": [
            {
                "name": "poolPctOfWhole",
                "type": "uint64[24]"
            },
            {
                "name": "updatedForPayout",
                "type": "uint64"
            }
        ],
        "ValidatorConfig": [
            {
                "name": "id",
                "type": "uint64"
            },
            {
                "name": "owner",
                "type": "address"
            },
            {
                "name": "manager",
                "type": "address"
            },
            {
                "name": "nfdForInfo",
                "type": "uint64"
            },
            {
                "name": "entryGatingType",
                "type": "uint8"
            },
            {
                "name": "entryGatingAddress",
                "type": "address"
            },
            {
                "name": "entryGatingAssets",
                "type": "uint64[4]"
            },
            {
                "name": "gatingAssetMinBalance",
                "type": "uint64"
            },
            {
                "name": "rewardTokenId",
                "type": "uint64"
            },
            {
                "name": "rewardPerPayout",
                "type": "uint64"
            },
            {
                "name": "epochRoundLength",
                "type": "uint32"
            },
            {
                "name": "percentToValidator",
                "type": "uint32"
            },
            {
                "name": "validatorCommissionAddress",
                "type": "address"
            },
            {
                "name": "minEntryStake",
                "type": "uint64"
            },
            {
                "name": "maxAlgoPerPool",
                "type": "uint64"
            },
            {
                "name": "poolsPerNode",
                "type": "uint8"
            },
            {
                "name": "sunsettingOn",
                "type": "uint64"
            },
            {
                "name": "sunsettingTo",
                "type": "uint64"
            }
        ],
        "ValidatorCurState": [
            {
                "name": "numPools",
                "type": "uint16"
            },
            {
                "name": "totalStakers",
                "type": "uint64"
            },
            {
                "name": "totalAlgoStaked",
                "type": "uint64"
            },
            {
                "name": "rewardTokenHeldBack",
                "type": "uint64"
            }
        ],
        "ValidatorInfo": [
            {
                "name": "config",
                "type": "ValidatorConfig"
            },
            {
                "name": "state",
                "type": "ValidatorCurState"
            },
            {
                "name": "pools",
                "type": "(uint64,uint16,uint64)[24]"
            },
            {
                "name": "tokenPayoutRatio",
                "type": "PoolTokenPayoutRatio"
            },
            {
                "name": "nodePoolAssignments",
                "type": "NodePoolAssignmentConfig"
            }
        ],
        "ValidatorPoolKey": [
            {
                "name": "id",
                "type": "uint64"
            },
            {
                "name": "poolId",
                "type": "uint64"
            },
            {
                "name": "poolAppId",
                "type": "uint64"
            }
        ]
    },
    "methods": [
        {
            "name": "createApplication",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [
                    "NoOp"
                ],
                "call": []
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "initStakingContract",
            "args": [
                {
                    "type": "uint64",
                    "name": "approvalProgramSize"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "loadStakingContractData",
            "args": [
                {
                    "type": "uint64",
                    "name": "offset"
                },
                {
                    "type": "byte[]",
                    "name": "data"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "finalizeStakingContract",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "gas",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "gas is a dummy no-op call that can be used to pool-up resource references and opcode cost",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getMbrAmounts",
            "args": [],
            "returns": {
                "type": "(uint64,uint64,uint64,uint64)",
                "struct": "MbrAmounts"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Returns the MBR amounts needed for various actions:\n[\n addValidatorMbr: uint64 - mbr needed to add a new validator - paid to validator contract\n addPoolMbr: uint64 - mbr needed to add a new pool - paid to validator\n poolInitMbr: uint64 - mbr needed to initStorage() of pool - paid to pool itself\n addStakerMbr: uint64 - mbr staker needs to add to first staking payment (stays w/ validator)\n]",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getProtocolConstraints",
            "args": [],
            "returns": {
                "type": "(uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64)",
                "struct": "Constraints"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Returns the protocol constraints so that UIs can limit what users specify for validator configuration parameters.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getNumValidators",
            "args": [],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Returns the current number of validators",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getValidatorConfig",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId"
                }
            ],
            "returns": {
                "type": "(uint64,address,address,uint64,uint8,address,uint64[4],uint64,uint64,uint64,uint32,uint32,address,uint64,uint64,uint8,uint64,uint64)",
                "struct": "ValidatorConfig"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getValidatorState",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId"
                }
            ],
            "returns": {
                "type": "(uint16,uint64,uint64,uint64)",
                "struct": "ValidatorCurState"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getValidatorOwnerAndManager",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId"
                }
            ],
            "returns": {
                "type": "(address,address)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getPools",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId",
                    "desc": ""
                }
            ],
            "returns": {
                "type": "(uint64,uint16,uint64)[]",
                "desc": "- array of pools\nNot callable from other contracts because >1K return but can be called w/ simulate which bumps log returns"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return list of all pools for this validator.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getPoolAppId",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId"
                },
                {
                    "type": "uint64",
                    "name": "poolId"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "getPoolAppId is useful for callers to determine app to call for removing stake if they don't have staking or\nwant to get staker list for an account.  The staking pool also uses it to get the app id of staking pool 1\n(which contains reward tokens if being used) so that the amount available can be determined.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getPoolInfo",
            "args": [
                {
                    "type": "(uint64,uint64,uint64)",
                    "struct": "ValidatorPoolKey",
                    "name": "poolKey"
                }
            ],
            "returns": {
                "type": "(uint64,uint16,uint64)",
                "struct": "PoolInfo"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getCurMaxStakePerPool",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId",
                    "desc": "- The id of the validator."
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Calculate the maximum stake per pool for a given validator.\nNormally this would be maxAlgoPerPool, but it should also never go above MaxAllowedStake / numPools so\nas pools are added the max allowed per pool can reduce.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "doesStakerNeedToPayMBR",
            "args": [
                {
                    "type": "address",
                    "name": "staker",
                    "desc": ""
                }
            ],
            "returns": {
                "type": "bool"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Helper callers can call w/ simulate to determine if 'AddStaker' MBR should be included w/ staking amount",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getStakedPoolsForAccount",
            "args": [
                {
                    "type": "address",
                    "name": "staker",
                    "desc": "- The account to retrieve staked pools for."
                }
            ],
            "returns": {
                "type": "(uint64,uint64,uint64)[]",
                "desc": "- The array of staked pools for the account."
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Retrieves the staked pools for an account.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getTokenPayoutRatio",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId",
                    "desc": "- The id of the validator."
                }
            ],
            "returns": {
                "type": "(uint64[24],uint64)",
                "struct": "PoolTokenPayoutRatio",
                "desc": "- The token payout ratio for the validator."
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Retrieves the token payout ratio for a given validator - returning the pool ratios of whole so that token\npayouts across pools can be based on a stable snaphost of stake.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getNodePoolAssignments",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId"
                }
            ],
            "returns": {
                "type": "((uint64[3])[8])",
                "struct": "NodePoolAssignmentConfig"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getNFDRegistryID",
            "args": [],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "addValidator",
            "args": [
                {
                    "type": "pay",
                    "name": "mbrPayment",
                    "desc": "payment from caller which covers mbr increase of new validator storage"
                },
                {
                    "type": "string",
                    "name": "nfdName",
                    "desc": "(Optional) Name of nfd (used as double-check against id specified in config)"
                },
                {
                    "type": "(uint64,address,address,uint64,uint8,address,uint64[4],uint64,uint64,uint64,uint32,uint32,address,uint64,uint64,uint8,uint64,uint64)",
                    "struct": "ValidatorConfig",
                    "name": "config",
                    "desc": "ValidatorConfig struct"
                }
            ],
            "returns": {
                "type": "uint64",
                "desc": "validator id"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Adds a new validator\nRequires at least 10 ALGO as the 'fee' for the transaction to help dissuade spammed validator adds.",
            "events": [
                {
                    "name": "retiOP_addedValidator",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "id"
                        },
                        {
                            "type": "address",
                            "name": "owner"
                        },
                        {
                            "type": "address",
                            "name": "manager"
                        }
                    ]
                }
            ],
            "recommendations": {}
        },
        {
            "name": "changeValidatorManager",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId",
                    "desc": "- The id of the validator to change the manager for."
                },
                {
                    "type": "address",
                    "name": "manager",
                    "desc": "- The new manager address."
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Changes the Validator manager for a specific Validator id.\n[ ONLY OWNER CAN CHANGE ]",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "changeValidatorSunsetInfo",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId",
                    "desc": "- The id of the validator to update."
                },
                {
                    "type": "uint64",
                    "name": "sunsettingOn",
                    "desc": "- The new sunset timestamp."
                },
                {
                    "type": "uint64",
                    "name": "sunsettingTo",
                    "desc": "- The new sunset to validator id."
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Updates the sunset information for a given validator.\n[ ONLY OWNER CAN CHANGE ]",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "changeValidatorNFD",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId",
                    "desc": "- The id of the validator to update."
                },
                {
                    "type": "uint64",
                    "name": "nfdAppID",
                    "desc": "- The application id of the NFD to assign to the validator."
                },
                {
                    "type": "string",
                    "name": "nfdName",
                    "desc": "- The name of the NFD (which must match)"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Changes the NFD for a validator in the validatorList contract.\n[ ONLY OWNER CAN CHANGE ]",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "changeValidatorCommissionAddress",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId"
                },
                {
                    "type": "address",
                    "name": "commissionAddress"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Change the commission address that validator rewards are sent to.\n[ ONLY OWNER CAN CHANGE ]",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "changeValidatorRewardInfo",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId"
                },
                {
                    "type": "uint8",
                    "name": "EntryGatingType"
                },
                {
                    "type": "address",
                    "name": "EntryGatingAddress"
                },
                {
                    "type": "uint64[4]",
                    "name": "EntryGatingAssets"
                },
                {
                    "type": "uint64",
                    "name": "GatingAssetMinBalance"
                },
                {
                    "type": "uint64",
                    "name": "RewardPerPayout"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Allow the additional rewards (gating entry, additional token rewards) information be changed at will.\n[ ONLY OWNER CAN CHANGE ]",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "addPool",
            "args": [
                {
                    "type": "pay",
                    "name": "mbrPayment",
                    "desc": "payment from caller which covers mbr increase of adding a new pool"
                },
                {
                    "type": "uint64",
                    "name": "validatorId",
                    "desc": "is id of validator to pool to (must be owner or manager)"
                },
                {
                    "type": "uint64",
                    "name": "nodeNum",
                    "desc": "is node number to add to"
                }
            ],
            "returns": {
                "type": "(uint64,uint64,uint64)",
                "struct": "ValidatorPoolKey",
                "desc": "pool key to created pool"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Adds a new pool to a validator's pool set, returning the 'key' to reference the pool in the future for staking, etc.\nThe caller must pay the cost of the validators MBR increase as well as the MBR that will be needed for the pool itself.\n\n[ ONLY OWNER OR MANAGER CAN call ]",
            "events": [
                {
                    "name": "retiOP_validatorAddedPool",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "id"
                        },
                        {
                            "type": "uint16",
                            "name": "num"
                        },
                        {
                            "type": "uint64",
                            "name": "poolAppId"
                        }
                    ]
                }
            ],
            "recommendations": {}
        },
        {
            "name": "addStake",
            "args": [
                {
                    "type": "pay",
                    "name": "stakedAmountPayment",
                    "desc": "- payment coming from staker to place into a pool"
                },
                {
                    "type": "uint64",
                    "name": "validatorId",
                    "desc": "- The id of the validator."
                },
                {
                    "type": "uint64",
                    "name": "valueToVerify",
                    "desc": "- only if validator has gating to enter - this is asset id or nfd id that corresponds to gating.\nTxn sender is factored in as well if that is part of gating.\n*"
                }
            ],
            "returns": {
                "type": "(uint64,uint64,uint64)",
                "struct": "ValidatorPoolKey",
                "desc": "- The key of the validator pool."
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Adds stake to a validator pool.",
            "events": [
                {
                    "name": "retiOP_stakeAdded",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "id"
                        },
                        {
                            "type": "uint16",
                            "name": "poolNum"
                        },
                        {
                            "type": "uint64",
                            "name": "poolAppId"
                        },
                        {
                            "type": "address",
                            "name": "staker"
                        },
                        {
                            "type": "uint64",
                            "name": "amountStaked"
                        }
                    ]
                }
            ],
            "recommendations": {}
        },
        {
            "name": "setTokenPayoutRatio",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId",
                    "desc": "- validator id (and thus pool) calling us.  Verified so that sender MUST be pool 1 of this validator."
                }
            ],
            "returns": {
                "type": "(uint64[24],uint64)",
                "struct": "PoolTokenPayoutRatio",
                "desc": "PoolTokenPayoutRatio - the finished ratio data"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "setTokenPayoutRatio is called by Staking Pool # 1 (ONLY) to ask the validator (us) to calculate the ratios\nof stake in the pools for subsequent token payouts (ie: 2 pools, '100' algo total staked, 60 in pool 1, and 40\nin pool 2)  This is done so we have a stable snapshot of stake - taken once per epoch - only triggered by\npool 1 doing payout.  pools other than 1 doing payout call pool 1 to ask it do it first.\nIt would be 60/40% in the poolPctOfWhole values.  The token reward payouts then use these values instead of\ntheir 'current' stake which changes as part of the payouts themselves (and people could be changing stake\nduring the epoch updates across pools)\n\nMultiple pools will call us via pool 1 (pool2->pool1->validator, etc.) so don't assert on pool1 calling multiple\ntimes in same epoch.  Just return.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "stakeUpdatedViaRewards",
            "args": [
                {
                    "type": "(uint64,uint64,uint64)",
                    "struct": "ValidatorPoolKey",
                    "name": "poolKey",
                    "desc": "- ValidatorPoolKey type"
                },
                {
                    "type": "uint64",
                    "name": "algoToAdd",
                    "desc": "- amount this validator's total stake increased via rewards"
                },
                {
                    "type": "uint64",
                    "name": "rewardTokenAmountReserved",
                    "desc": "- amount this validator's total stake increased via rewards (that should be"
                },
                {
                    "type": "uint64",
                    "name": "validatorCommission",
                    "desc": "- the commission amount the validator was paid, if any"
                },
                {
                    "type": "uint64",
                    "name": "saturatedBurnToFeeSink",
                    "desc": "- if the pool was in saturated state, the amount sent back to the fee sink.\nseen as 'accounted for/pending spent')"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "stakeUpdatedViaRewards is called by Staking pools to inform the validator (us) that a particular amount of total\nstake has been added to the specified pool.  This is used to update the stats we have in our PoolInfo storage.\nThe calling App id is validated against our pool list as well.",
            "events": [
                {
                    "name": "retiOP_epochRewardUpdate",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "id"
                        },
                        {
                            "type": "uint16",
                            "name": "poolNum"
                        },
                        {
                            "type": "uint64",
                            "name": "poolAppId"
                        },
                        {
                            "type": "uint64",
                            "name": "validatorCommission"
                        },
                        {
                            "type": "uint64",
                            "name": "saturatedBurnToFeeSink"
                        },
                        {
                            "type": "uint64",
                            "name": "algoAdded"
                        },
                        {
                            "type": "uint64",
                            "name": "rewardTokenHeldBack"
                        }
                    ]
                }
            ],
            "recommendations": {}
        },
        {
            "name": "stakeRemoved",
            "args": [
                {
                    "type": "(uint64,uint64,uint64)",
                    "struct": "ValidatorPoolKey",
                    "name": "poolKey",
                    "desc": "calling us from which stake was removed"
                },
                {
                    "type": "address",
                    "name": "staker",
                    "desc": ""
                },
                {
                    "type": "uint64",
                    "name": "amountRemoved",
                    "desc": "- algo amount removed"
                },
                {
                    "type": "uint64",
                    "name": "rewardRemoved",
                    "desc": "- if applicable, amount of token reward removed (by pool 1 caller) or TO remove and pay out (via pool 1 from different pool caller)"
                },
                {
                    "type": "bool",
                    "name": "stakerRemoved",
                    "desc": ""
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "stakeRemoved is called by Staking pools to inform the validator (us) that a particular amount of total stake has been removed\nfrom the specified pool.  This is used to update the stats we have in our PoolInfo storage.\nIf any amount of rewardRemoved is specified, then that amount of reward is sent to the use\nThe calling App id is validated against our pool list as well.",
            "events": [
                {
                    "name": "retiOP_stakeRemoved",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "id"
                        },
                        {
                            "type": "uint16",
                            "name": "poolNum"
                        },
                        {
                            "type": "uint64",
                            "name": "poolAppId"
                        },
                        {
                            "type": "address",
                            "name": "staker"
                        },
                        {
                            "type": "uint64",
                            "name": "amountUnstaked"
                        },
                        {
                            "type": "uint64",
                            "name": "rewardTokensReceived"
                        },
                        {
                            "type": "uint64",
                            "name": "rewardTokenAssetId"
                        }
                    ]
                }
            ],
            "recommendations": {}
        },
        {
            "name": "findPoolForStaker",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId",
                    "desc": "- The id of the validator."
                },
                {
                    "type": "address",
                    "name": "staker",
                    "desc": "- The address of the staker."
                },
                {
                    "type": "uint64",
                    "name": "amountToStake",
                    "desc": "- The amount to stake."
                }
            ],
            "returns": {
                "type": "((uint64,uint64,uint64),bool,bool)",
                "desc": ", boolean, boolean} - The pool for the staker, true/false on whether the staker is 'new'\nto this VALIDATOR, and true/false if staker is new to the protocol."
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Finds the pool for a staker based on the provided validator id, staker address, and amount to stake.\nFirst checks the stakers 'already staked list' for the validator preferring those (adding if possible) then adds\nto new pool if necessary.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "movePoolToNode",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId",
                    "desc": "- The id of the validator."
                },
                {
                    "type": "uint64",
                    "name": "poolAppId",
                    "desc": ""
                },
                {
                    "type": "uint64",
                    "name": "nodeNum",
                    "desc": ""
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Find the specified pool (in any node number) and move it to the specified node.\nThe pool account is forced offline if moved so prior node will still run for 320 rounds but\nnew key goes online on new node soon after (320 rounds after it goes online)\nNo-op if success, asserts if not found or can't move  (no space in target)\n[ ONLY OWNER OR MANAGER CAN CHANGE ]",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "emptyTokenRewards",
            "args": [
                {
                    "type": "uint64",
                    "name": "validatorId",
                    "desc": "- The id of the validator."
                },
                {
                    "type": "address",
                    "name": "receiver",
                    "desc": "- the account to send the tokens to (must already be opted-in to the reward token)"
                }
            ],
            "returns": {
                "type": "uint64",
                "desc": "the amount of reward token sent"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Sends the reward tokens held in pool 1 to specified receiver.\nThis is intended to be used by the owner when they want to get reward tokens 'back' which they sent to\nthe first pool (likely because validator is sunsetting.  Any tokens currently 'reserved' for stakers to claim will\nNOT be sent as they must be held back for stakers to later claim.\n[ ONLY OWNER CAN CALL]",
            "events": [],
            "recommendations": {}
        }
    ],
    "arcs": [
        22,
        28
    ],
    "desc": "ValidatorRegistry is the 'master contract' for the reti pooling protocol.\nA single immutable instance of this is deployed.  All state for all validators including information about their\npools and nodes is stored via this contract in global state and box storage.  Data in the pools themselves is stored\nwithin the StakingPool contract instance, also in global state and box storage.\nSee the StakingPool contract comments for details on how this contract creates new instances of them.",
    "networks": {},
    "state": {
        "schema": {
            "global": {
                "ints": 4,
                "bytes": 0
            },
            "local": {
                "ints": 0,
                "bytes": 0
            }
        },
        "keys": {
            "global": {
                "stakingPoolInitialized": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "aW5pdA=="
                },
                "numValidators": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "bnVtVg=="
                },
                "numStakers": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "bnVtU3Rha2Vycw=="
                },
                "totalAlgoStaked": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "c3Rha2Vk"
                }
            },
            "local": {},
            "box": {
                "stakingPoolApprovalProgram": {
                    "keyType": "AVMString",
                    "valueType": "AVMBytes",
                    "key": "cG9vbFRlbXBsYXRlQXBwcm92YWxCeXRlcw=="
                }
            }
        },
        "maps": {
            "global": {},
            "local": {},
            "box": {
                "validatorList": {
                    "keyType": "uint64",
                    "valueType": "ValidatorInfo",
                    "prefix": "dg=="
                },
                "stakerPoolSet": {
                    "keyType": "address",
                    "valueType": "(uint64,uint64,uint64)[6]",
                    "prefix": "c3Bz"
                }
            }
        }
    },
    "bareActions": {
        "create": [],
        "call": []
    },
    "sourceInfo": {
        "approval": {
            "sourceInfo": [
                {
                    "pc": [
                        675,
                        694,
                        713,
                        745,
                        830,
                        847,
                        887,
                        980,
                        1053,
                        1910,
                        1947,
                        1969,
                        2001,
                        2216,
                        2294,
                        2392,
                        2536,
                        2570,
                        2716,
                        2743,
                        2762,
                        2801,
                        2813,
                        2847,
                        2900,
                        2968,
                        3030,
                        3302,
                        3395,
                        3446,
                        3536,
                        3606,
                        3615,
                        3784,
                        3923,
                        4095,
                        4202,
                        4215,
                        4282,
                        4347,
                        4410,
                        4544,
                        4569,
                        4585,
                        4636,
                        4658,
                        4751
                    ],
                    "errorMessage": "Box must have value"
                },
                {
                    "pc": [
                        2472
                    ],
                    "errorMessage": "Bytes has valid prefix"
                },
                {
                    "pc": [
                        1342,
                        1469
                    ],
                    "errorMessage": "If specifying NFD, account adding validator must be owner"
                },
                {
                    "pc": [
                        2653
                    ],
                    "errorMessage": "No empty slot available in the staker pool set"
                },
                {
                    "pc": [
                        3752
                    ],
                    "errorMessage": "No matching slot found when told to remove a pool from the stakers set"
                },
                {
                    "pc": [
                        2271
                    ],
                    "errorMessage": "No pool available with free stake.  Validator needs to add another pool"
                },
                {
                    "pc": [
                        3
                    ],
                    "errorMessage": "OnCompletion must be NoOp"
                },
                {
                    "pc": [
                        4682
                    ],
                    "errorMessage": "The passed in app id doesn't match the passed in ids"
                },
                {
                    "pc": [
                        1678
                    ],
                    "errorMessage": "already at max pool size"
                },
                {
                    "pc": [
                        2428,
                        2735,
                        4134,
                        4175,
                        4689
                    ],
                    "errorMessage": "application exists"
                },
                {
                    "pc": [
                        1276,
                        1651,
                        1944
                    ],
                    "errorMessage": "assert target is match for conditions"
                },
                {
                    "pc": [
                        2038,
                        2118
                    ],
                    "errorMessage": "asset exists"
                },
                {
                    "pc": [
                        4184
                    ],
                    "errorMessage": "balance of remaining reward tokens should match the held back amount"
                },
                {
                    "pc": [
                        4597
                    ],
                    "errorMessage": "can only be called by owner or manager of validator"
                },
                {
                    "pc": [
                        4552
                    ],
                    "errorMessage": "can only be called by validator owner"
                },
                {
                    "pc": [
                        4003
                    ],
                    "errorMessage": "can't move to same node"
                },
                {
                    "pc": [
                        1920
                    ],
                    "errorMessage": "can't stake with a validator that is past its sunsetting time"
                },
                {
                    "pc": [
                        551,
                        658,
                        1290,
                        2560,
                        2594,
                        3121,
                        3380,
                        3808
                    ],
                    "errorMessage": "check GlobalState exists"
                },
                {
                    "pc": [
                        1195
                    ],
                    "errorMessage": "commission percentage not valid"
                },
                {
                    "pc": [
                        3943
                    ],
                    "errorMessage": "couldn't find pool app id in nodes to move"
                },
                {
                    "pc": [
                        1178
                    ],
                    "errorMessage": "epoch length not in allowable range"
                },
                {
                    "pc": [
                        1285
                    ],
                    "errorMessage": "fee must be 10 ALGO or more to prevent spamming of validators"
                },
                {
                    "pc": [
                        1156
                    ],
                    "errorMessage": "gating type not valid"
                },
                {
                    "pc": [
                        404,
                        461,
                        766,
                        862,
                        903,
                        1002,
                        2313,
                        2411,
                        2722,
                        2914,
                        3054,
                        3329,
                        3452,
                        3548,
                        3637,
                        3977,
                        4126,
                        4314,
                        4364,
                        4453,
                        4676,
                        4808
                    ],
                    "errorMessage": "index access is out of bounds"
                },
                {
                    "pc": [
                        1808,
                        2508,
                        2944,
                        3067,
                        3345,
                        4013,
                        4835
                    ],
                    "errorMessage": "index out of bounds"
                },
                {
                    "pc": [
                        1555
                    ],
                    "errorMessage": "invalid Entry gating type"
                },
                {
                    "pc": [
                        780,
                        1016
                    ],
                    "errorMessage": "max array length exceeded"
                },
                {
                    "pc": [
                        2028
                    ],
                    "errorMessage": "must have required minimum balance of validator defined token to add stake"
                },
                {
                    "pc": [
                        4422
                    ],
                    "errorMessage": "must stake at least the minimum for this pool"
                },
                {
                    "pc": [
                        1399
                    ],
                    "errorMessage": "needs to at least be valid address"
                },
                {
                    "pc": [
                        4784
                    ],
                    "errorMessage": "no available space in specified node for this pool"
                },
                {
                    "pc": [
                        4768
                    ],
                    "errorMessage": "node number not in valid range"
                },
                {
                    "pc": [
                        3935
                    ],
                    "errorMessage": "node number out of allowable range"
                },
                {
                    "pc": [
                        1240
                    ],
                    "errorMessage": "number of pools per node must be be between 1 and the maximum allowed number"
                },
                {
                    "pc": [
                        413,
                        470,
                        493,
                        1781,
                        2499,
                        2607,
                        3186,
                        3491,
                        3559,
                        3825
                    ],
                    "errorMessage": "overflow"
                },
                {
                    "pc": [
                        839
                    ],
                    "errorMessage": "pool id must be between 1 and number of pools for this validator"
                },
                {
                    "pc": [
                        4629
                    ],
                    "errorMessage": "pool id not in valid range"
                },
                {
                    "pc": [
                        4649
                    ],
                    "errorMessage": "pool id outside of range of pools created for this validator"
                },
                {
                    "pc": [
                        2154
                    ],
                    "errorMessage": "provided nfd for entry isn't owned or linked to the staker"
                },
                {
                    "pc": [
                        3426
                    ],
                    "errorMessage": "reward being removed must be covered by hold back amount"
                },
                {
                    "pc": [
                        3413
                    ],
                    "errorMessage": "rewardRemoved can't be set if validator doesn't have reward token!"
                },
                {
                    "pc": [
                        1145
                    ],
                    "errorMessage": "sender must be owner to add new validator"
                },
                {
                    "pc": [
                        3285
                    ],
                    "errorMessage": "should only be called if algo or reward was removed"
                },
                {
                    "pc": [
                        2122
                    ],
                    "errorMessage": "specified asset must be created by creator that is one of the linked addresses in an nfd"
                },
                {
                    "pc": [
                        2048
                    ],
                    "errorMessage": "specified asset must be created by creator that the validator defined as a requirement to stake"
                },
                {
                    "pc": [
                        2095
                    ],
                    "errorMessage": "specified asset must be identical to the asset id defined as a requirement to stake"
                },
                {
                    "pc": [
                        2186
                    ],
                    "errorMessage": "specified nfd must be a segment of the nfd the validator specified as a requirement"
                },
                {
                    "pc": [
                        1663,
                        1896
                    ],
                    "errorMessage": "specified validator id isn't valid"
                },
                {
                    "pc": [
                        1220
                    ],
                    "errorMessage": "staking pool must have minimum entry of 1 algo"
                },
                {
                    "pc": [
                        1257
                    ],
                    "errorMessage": "sunsettingOn must be later than now if set"
                },
                {
                    "pc": [
                        1077
                    ],
                    "errorMessage": "the specified validator id doesn't exist"
                },
                {
                    "pc": [
                        4619
                    ],
                    "errorMessage": "the specified validator id isn't valid"
                },
                {
                    "pc": [
                        4118
                    ],
                    "errorMessage": "this validator doesn't have a reward token defined"
                },
                {
                    "pc": [
                        2233
                    ],
                    "errorMessage": "total staked for all of a validators pools may not exceed hard cap"
                },
                {
                    "pc": [
                        1113,
                        1620,
                        1875
                    ],
                    "errorMessage": "transaction type is pay"
                },
                {
                    "pc": [
                        1209
                    ],
                    "errorMessage": "validatorCommissionAddress must be set if percent to validator is not 0"
                }
            ],
            "pcOffsetMethod": "cblocks"
        },
        "clear": {
            "sourceInfo": [],
            "pcOffsetMethod": "none"
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDE4IDggMjY4IDQzMiAyMDAgNzAwIDkwMCAxOTIgMTAwMDAwMCAyMjYgNDA5NiAyNzggMjUyIDc0MTAwIFRNUExfTkZEX1JFR0lTVFJZX0FQUF9JRAogICAgYnl0ZWNibG9jayAidiIgMHgxNTFmN2M3NSAiIiAic3Rha2VkIiAibnVtU3Rha2VycyIgInBvb2xUZW1wbGF0ZUFwcHJvdmFsQnl0ZXMiICJzcHMiIDB4MDAgIm51bVYiICJpLm93bmVyLmEiICJpbml0IiAweDAwMDIgMHgwMDAwIDB4MDY4MTAxIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEgMHgwMDAxMDAwMDAwMDAwMDAwMDNlOCAweDYzZjNmMjhiIDB4MTJmNGJkNGIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkwCiAgICAvLyBleHBvcnQgY2xhc3MgVmFsaWRhdG9yUmVnaXN0cnkgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGJ6IG1haW5fY3JlYXRlX05vT3BAMzcKICAgIHB1c2hieXRlc3MgMHgxYjVlODJjNiAweDc5NDcyZDgzIDB4NWY3YWNmZDkgMHgzMTcyY2E5ZCAweDhhODcxNDJkIDB4ZDEzNjZjYzMgMHgzYjA0NWM1YyAweDc1YWZmNjFkIDB4MWYyZjAxMDkgMHgyZmEyMmM0YiAweDkxMGU5NGFjIDB4NTcyNzY3ZDEgMHg5YjUwNGFhZiAweGZiYzYzMTc4IDB4MjQ0OThjZjQgMHhmODQ2ZGQ3YSAweDgzMDUwNTAxIDB4N2JiYjZjOGQgMHhmODM5NDE0YSAweDBjMzE3Y2ZiIDB4M2UyODg5NzIgMHhkZDVmYWFkYSAweDE4YWFjN2E3IDB4Zjk5ZWY1NGQgMHgxMDgwOWQ0ZCAweGU3NzhkZDVhIDB4YmY1MjU5ZDAgMHg0ZGY4ZDg2ZSAweDQxOGZjZWZjIDB4YTJkYzUxYjUgMHgyODczZjUwNCAweDA1NDdmNGZlIDB4Y2I2NjgzNTggLy8gbWV0aG9kICJpbml0U3Rha2luZ0NvbnRyYWN0KHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJsb2FkU3Rha2luZ0NvbnRyYWN0RGF0YSh1aW50NjQsYnl0ZVtdKXZvaWQiLCBtZXRob2QgImZpbmFsaXplU3Rha2luZ0NvbnRyYWN0KCl2b2lkIiwgbWV0aG9kICJnYXMoKXZvaWQiLCBtZXRob2QgImdldE1ickFtb3VudHMoKSh1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpIiwgbWV0aG9kICJnZXRQcm90b2NvbENvbnN0cmFpbnRzKCkodWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgImdldE51bVZhbGlkYXRvcnMoKXVpbnQ2NCIsIG1ldGhvZCAiZ2V0VmFsaWRhdG9yQ29uZmlnKHVpbnQ2NCkodWludDY0LGFkZHJlc3MsYWRkcmVzcyx1aW50NjQsdWludDgsYWRkcmVzcyx1aW50NjRbNF0sdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDMyLHVpbnQzMixhZGRyZXNzLHVpbnQ2NCx1aW50NjQsdWludDgsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgImdldFZhbGlkYXRvclN0YXRlKHVpbnQ2NCkodWludDE2LHVpbnQ2NCx1aW50NjQsdWludDY0KSIsIG1ldGhvZCAiZ2V0VmFsaWRhdG9yT3duZXJBbmRNYW5hZ2VyKHVpbnQ2NCkoYWRkcmVzcyxhZGRyZXNzKSIsIG1ldGhvZCAiZ2V0UG9vbHModWludDY0KSh1aW50NjQsdWludDE2LHVpbnQ2NClbXSIsIG1ldGhvZCAiZ2V0UG9vbEFwcElkKHVpbnQ2NCx1aW50NjQpdWludDY0IiwgbWV0aG9kICJnZXRQb29sSW5mbygodWludDY0LHVpbnQ2NCx1aW50NjQpKSh1aW50NjQsdWludDE2LHVpbnQ2NCkiLCBtZXRob2QgImdldEN1ck1heFN0YWtlUGVyUG9vbCh1aW50NjQpdWludDY0IiwgbWV0aG9kICJkb2VzU3Rha2VyTmVlZFRvUGF5TUJSKGFkZHJlc3MpYm9vbCIsIG1ldGhvZCAiZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50KGFkZHJlc3MpKHVpbnQ2NCx1aW50NjQsdWludDY0KVtdIiwgbWV0aG9kICJnZXRUb2tlblBheW91dFJhdGlvKHVpbnQ2NCkodWludDY0WzI0XSx1aW50NjQpIiwgbWV0aG9kICJnZXROb2RlUG9vbEFzc2lnbm1lbnRzKHVpbnQ2NCkoKHVpbnQ2NFszXSlbOF0pIiwgbWV0aG9kICJnZXRORkRSZWdpc3RyeUlEKCl1aW50NjQiLCBtZXRob2QgImFkZFZhbGlkYXRvcihwYXksc3RyaW5nLCh1aW50NjQsYWRkcmVzcyxhZGRyZXNzLHVpbnQ2NCx1aW50OCxhZGRyZXNzLHVpbnQ2NFs0XSx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50MzIsdWludDMyLGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50OCx1aW50NjQsdWludDY0KSl1aW50NjQiLCBtZXRob2QgImNoYW5nZVZhbGlkYXRvck1hbmFnZXIodWludDY0LGFkZHJlc3Mpdm9pZCIsIG1ldGhvZCAiY2hhbmdlVmFsaWRhdG9yU3Vuc2V0SW5mbyh1aW50NjQsdWludDY0LHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJjaGFuZ2VWYWxpZGF0b3JORkQodWludDY0LHVpbnQ2NCxzdHJpbmcpdm9pZCIsIG1ldGhvZCAiY2hhbmdlVmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3ModWludDY0LGFkZHJlc3Mpdm9pZCIsIG1ldGhvZCAiY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mbyh1aW50NjQsdWludDgsYWRkcmVzcyx1aW50NjRbNF0sdWludDY0LHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJhZGRQb29sKHBheSx1aW50NjQsdWludDY0KSh1aW50NjQsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgImFkZFN0YWtlKHBheSx1aW50NjQsdWludDY0KSh1aW50NjQsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgInNldFRva2VuUGF5b3V0UmF0aW8odWludDY0KSh1aW50NjRbMjRdLHVpbnQ2NCkiLCBtZXRob2QgInN0YWtlVXBkYXRlZFZpYVJld2FyZHMoKHVpbnQ2NCx1aW50NjQsdWludDY0KSx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpdm9pZCIsIG1ldGhvZCAic3Rha2VSZW1vdmVkKCh1aW50NjQsdWludDY0LHVpbnQ2NCksYWRkcmVzcyx1aW50NjQsdWludDY0LGJvb2wpdm9pZCIsIG1ldGhvZCAiZmluZFBvb2xGb3JTdGFrZXIodWludDY0LGFkZHJlc3MsdWludDY0KSgodWludDY0LHVpbnQ2NCx1aW50NjQpLGJvb2wsYm9vbCkiLCBtZXRob2QgIm1vdmVQb29sVG9Ob2RlKHVpbnQ2NCx1aW50NjQsdWludDY0KXZvaWQiLCBtZXRob2QgImVtcHR5VG9rZW5SZXdhcmRzKHVpbnQ2NCxhZGRyZXNzKXVpbnQ2NCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIGluaXRTdGFraW5nQ29udHJhY3QgbG9hZFN0YWtpbmdDb250cmFjdERhdGEgbWFpbl9maW5hbGl6ZVN0YWtpbmdDb250cmFjdF9yb3V0ZUA1IG1haW5fZ2FzX3JvdXRlQDYgbWFpbl9nZXRNYnJBbW91bnRzX3JvdXRlQDcgZ2V0UHJvdG9jb2xDb25zdHJhaW50cyBnZXROdW1WYWxpZGF0b3JzIGdldFZhbGlkYXRvckNvbmZpZyBnZXRWYWxpZGF0b3JTdGF0ZSBnZXRWYWxpZGF0b3JPd25lckFuZE1hbmFnZXIgZ2V0UG9vbHMgZ2V0UG9vbEFwcElkIGdldFBvb2xJbmZvIGdldEN1ck1heFN0YWtlUGVyUG9vbCBkb2VzU3Rha2VyTmVlZFRvUGF5TUJSIGdldFN0YWtlZFBvb2xzRm9yQWNjb3VudCBnZXRUb2tlblBheW91dFJhdGlvIGdldE5vZGVQb29sQXNzaWdubWVudHMgZ2V0TkZEUmVnaXN0cnlJRCBhZGRWYWxpZGF0b3IgY2hhbmdlVmFsaWRhdG9yTWFuYWdlciBjaGFuZ2VWYWxpZGF0b3JTdW5zZXRJbmZvIGNoYW5nZVZhbGlkYXRvck5GRCBjaGFuZ2VWYWxpZGF0b3JDb21taXNzaW9uQWRkcmVzcyBjaGFuZ2VWYWxpZGF0b3JSZXdhcmRJbmZvIGFkZFBvb2wgYWRkU3Rha2Ugc2V0VG9rZW5QYXlvdXRSYXRpbyBzdGFrZVVwZGF0ZWRWaWFSZXdhcmRzIHN0YWtlUmVtb3ZlZCBmaW5kUG9vbEZvclN0YWtlciBtb3ZlUG9vbFRvTm9kZSBlbXB0eVRva2VuUmV3YXJkcwogICAgZXJyCgptYWluX2dldE1ickFtb3VudHNfcm91dGVANzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE1Mi0xNTMKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0TWJyQW1vdW50cygpOiBNYnJBbW91bnRzIHsKICAgIHB1c2hieXRlcyAweDE1MWY3Yzc1MDAwMDAwMDAwMDA2YzIxNDAwMDAwMDAwMDAwZWIzYWMwMDAwMDAwMDAwNGZiYjU0MDAwMDAwMDAwMDAxMjE3NAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dhc19yb3V0ZUA2OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTQxCiAgICAvLyBnYXMoKTogdm9pZCB7fQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9maW5hbGl6ZVN0YWtpbmdDb250cmFjdF9yb3V0ZUA1OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTYKICAgIC8vIHN0YWtpbmdQb29sSW5pdGlhbGl6ZWQgPSBHbG9iYWxTdGF0ZTxib29sZWFuPih7IGtleTogJ2luaXQnIH0pCiAgICBieXRlYyAxMCAvLyAiaW5pdCIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNQogICAgLy8gdGhpcy5zdGFraW5nUG9vbEluaXRpYWxpemVkLnZhbHVlID0gdHJ1ZQogICAgaW50Y18xIC8vIDEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzQKICAgIC8vIGZpbmFsaXplU3Rha2luZ0NvbnRyYWN0KCk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9jcmVhdGVfTm9PcEAzNzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkwCiAgICAvLyBleHBvcnQgY2xhc3MgVmFsaWRhdG9yUmVnaXN0cnkgZXh0ZW5kcyBDb250cmFjdCB7CiAgICBwdXNoYnl0ZXMgMHhiODQ0N2IzNiAvLyBtZXRob2QgImNyZWF0ZUFwcGxpY2F0aW9uKCl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggY3JlYXRlQXBwbGljYXRpb24KICAgIGVycgoKCi8vIF9wdXlhX2xpYi51dGlsLmVuc3VyZV9idWRnZXQocmVxdWlyZWRfYnVkZ2V0OiB1aW50NjQsIGZlZV9zb3VyY2U6IHVpbnQ2NCkgLT4gdm9pZDoKZW5zdXJlX2J1ZGdldDoKICAgIHByb3RvIDIgMAogICAgZnJhbWVfZGlnIC0yCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICArCgplbnN1cmVfYnVkZ2V0X3doaWxlX3RvcEAxOgogICAgZnJhbWVfZGlnIDAKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgID4KICAgIGJ6IGVuc3VyZV9idWRnZXRfYWZ0ZXJfd2hpbGVANgogICAgaXR4bl9iZWdpbgogICAgcHVzaGludCA2IC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIHB1c2hpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgogICAgaXR4bl9maWVsZCBPbkNvbXBsZXRpb24KICAgIGJ5dGVjIDEzIC8vIDB4MDY4MTAxCiAgICBpdHhuX2ZpZWxkIEFwcHJvdmFsUHJvZ3JhbQogICAgYnl0ZWMgMTMgLy8gMHgwNjgxMDEKICAgIGl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW0KICAgIGZyYW1lX2RpZyAtMQogICAgc3dpdGNoIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMEAzIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMUA0CgplbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlX25leHRANToKICAgIGl0eG5fc3VibWl0CiAgICBiIGVuc3VyZV9idWRnZXRfd2hpbGVfdG9wQDEKCmVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMUA0OgogICAgZ2xvYmFsIE1pblR4bkZlZQogICAgaXR4bl9maWVsZCBGZWUKICAgIGIgZW5zdXJlX2J1ZGdldF9zd2l0Y2hfY2FzZV9uZXh0QDUKCmVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMEAzOgogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBiIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfbmV4dEA1CgplbnN1cmVfYnVkZ2V0X2FmdGVyX3doaWxlQDY6CiAgICByZXRzdWIKCgovLyBjb250cmFjdHMvdXRpbHMuYWxnby50czo6d2lkZVJhdGlvKG51bWVyYXRvckZhY3RvcnM6IGJ5dGVzLCBkZW5vbWluYXRvckZhY3RvcnM6IGJ5dGVzKSAtPiB1aW50NjQsIGJ5dGVzLCBieXRlczoKd2lkZVJhdGlvOgogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6NAogICAgLy8gZXhwb3J0IGZ1bmN0aW9uIHdpZGVSYXRpbyhudW1lcmF0b3JGYWN0b3JzOiB1aW50NjRbXSwgZGVub21pbmF0b3JGYWN0b3JzOiB1aW50NjRbXSk6IHVpbnQ2NCB7CiAgICBwcm90byAyIDMKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18yIC8vICIiCiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy91dGlscy5hbGdvLnRzOjUKICAgIC8vIGxldCBudW1lcmF0b3IgPSBuZXcgVWludDEyOCgxbikKICAgIGJ5dGVjIDE0IC8vIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEKICAgIC8vIGNvbnRyYWN0cy91dGlscy5hbGdvLnRzOjYKICAgIC8vIGZvciAoY29uc3QgZmFjdG9yIG9mIG51bWVyYXRvckZhY3RvcnMpIHsKICAgIGZyYW1lX2RpZyAtMgogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBpbnRjXzAgLy8gMAoKd2lkZVJhdGlvX2Zvcl9oZWFkZXJAMToKICAgIC8vIGNvbnRyYWN0cy91dGlscy5hbGdvLnRzOjYKICAgIC8vIGZvciAoY29uc3QgZmFjdG9yIG9mIG51bWVyYXRvckZhY3RvcnMpIHsKICAgIGZyYW1lX2RpZyA1CiAgICBmcmFtZV9kaWcgNAogICAgPAogICAgYnogd2lkZVJhdGlvX2FmdGVyX2ZvckA0CiAgICBmcmFtZV9kaWcgLTIKICAgIGV4dHJhY3QgMiAwCiAgICBmcmFtZV9kaWcgNQogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpbnRjXzMgLy8gOAogICAgKgogICAgaW50Y18zIC8vIDgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6NwogICAgLy8gbnVtZXJhdG9yID0gbmV3IFVpbnQxMjgoQmlnVWludChmYWN0b3IpICogbnVtZXJhdG9yLmFzQmlnVWludCgpKQogICAgZnJhbWVfZGlnIDMKICAgIGIqCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAxNiAvLyAxNgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgcHVzaGludCAxNiAvLyAxNgogICAgYnplcm8KICAgIGJ8CiAgICBmcmFtZV9idXJ5IDMKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDUKICAgIGIgd2lkZVJhdGlvX2Zvcl9oZWFkZXJAMQoKd2lkZVJhdGlvX2FmdGVyX2ZvckA0OgogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6MTAKICAgIC8vIGxldCBkZW5vbWluYXRvciA9IG5ldyBVaW50MTI4KDFuKQogICAgYnl0ZWMgMTQgLy8gMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMQogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBjb250cmFjdHMvdXRpbHMuYWxnby50czoxMQogICAgLy8gZm9yIChjb25zdCBmYWN0b3Igb2YgZGVub21pbmF0b3JGYWN0b3JzKSB7CiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZnJhbWVfYnVyeSAxCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAyCgp3aWRlUmF0aW9fZm9yX2hlYWRlckA1OgogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6MTEKICAgIC8vIGZvciAoY29uc3QgZmFjdG9yIG9mIGRlbm9taW5hdG9yRmFjdG9ycykgewogICAgZnJhbWVfZGlnIDIKICAgIGZyYW1lX2RpZyAxCiAgICA8CiAgICBieiB3aWRlUmF0aW9fYWZ0ZXJfZm9yQDgKICAgIGZyYW1lX2RpZyAtMQogICAgZXh0cmFjdCAyIDAKICAgIGZyYW1lX2RpZyAyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGNfMyAvLyA4CiAgICAqCiAgICBpbnRjXzMgLy8gOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICAvLyBjb250cmFjdHMvdXRpbHMuYWxnby50czoxMgogICAgLy8gZGVub21pbmF0b3IgPSBuZXcgVWludDEyOChCaWdVaW50KGZhY3RvcikgKiBkZW5vbWluYXRvci5hc0JpZ1VpbnQoKSkKICAgIGZyYW1lX2RpZyAwCiAgICBiKgogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGJ6ZXJvCiAgICBifAogICAgZnJhbWVfYnVyeSAwCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSAyCiAgICBiIHdpZGVSYXRpb19mb3JfaGVhZGVyQDUKCndpZGVSYXRpb19hZnRlcl9mb3JAODoKICAgIC8vIGNvbnRyYWN0cy91dGlscy5hbGdvLnRzOjE1CiAgICAvLyBjb25zdCByYXRpbzogYmlndWludCA9IG51bWVyYXRvci5hc0JpZ1VpbnQoKSAvIGRlbm9taW5hdG9yLmFzQmlnVWludCgpCiAgICBmcmFtZV9kaWcgMwogICAgZnJhbWVfZGlnIDAKICAgIGIvCiAgICAvLyBjb250cmFjdHMvdXRpbHMuYWxnby50czoxNgogICAgLy8gcmV0dXJuIG5ldyBVaW50NjQocmF0aW8pLmFzVWludDY0KCkKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gOAogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgaW50Y18zIC8vIDgKICAgIGJ6ZXJvCiAgICBifAogICAgYnRvaQogICAgZnJhbWVfZGlnIC0yCiAgICBmcmFtZV9kaWcgLTEKICAgIGZyYW1lX2J1cnkgMgogICAgZnJhbWVfYnVyeSAxCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5jcmVhdGVBcHBsaWNhdGlvbltyb3V0aW5nXSgpIC0+IHZvaWQ6CmNyZWF0ZUFwcGxpY2F0aW9uOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTYKICAgIC8vIHN0YWtpbmdQb29sSW5pdGlhbGl6ZWQgPSBHbG9iYWxTdGF0ZTxib29sZWFuPih7IGtleTogJ2luaXQnIH0pCiAgICBieXRlYyAxMCAvLyAiaW5pdCIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExOAogICAgLy8gdGhpcy5zdGFraW5nUG9vbEluaXRpYWxpemVkLnZhbHVlID0gZmFsc2UKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTgKICAgIC8vIG51bVZhbGlkYXRvcnMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbnVtVicgfSkKICAgIGJ5dGVjIDggLy8gIm51bVYiCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTkKICAgIC8vIHRoaXMubnVtVmFsaWRhdG9ycy52YWx1ZSA9IDAKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAxCiAgICAvLyBudW1TdGFrZXJzID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ251bVN0YWtlcnMnIH0pCiAgICBieXRlYyA0IC8vICJudW1TdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIwCiAgICAvLyB0aGlzLm51bVN0YWtlcnMudmFsdWUgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNAogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjXzMgLy8gInN0YWtlZCIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMQogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNwogICAgLy8gY3JlYXRlQXBwbGljYXRpb24oKTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmluaXRTdGFraW5nQ29udHJhY3Rbcm91dGluZ10oKSAtPiB2b2lkOgppbml0U3Rha2luZ0NvbnRyYWN0OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI0CiAgICAvLyBpbml0U3Rha2luZ0NvbnRyYWN0KGFwcHJvdmFsUHJvZ3JhbVNpemU6IHVpbnQ2NCk6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTQKICAgIC8vIHN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtID0gQm94PGJ5dGVzPih7IGtleTogJ3Bvb2xUZW1wbGF0ZUFwcHJvdmFsQnl0ZXMnIH0pCiAgICBieXRlYyA1IC8vICJwb29sVGVtcGxhdGVBcHByb3ZhbEJ5dGVzIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI2CiAgICAvLyB0aGlzLnN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtLmNyZWF0ZSh7IHNpemU6IGFwcHJvdmFsUHJvZ3JhbVNpemUgfSkKICAgIHN3YXAKICAgIGJveF9jcmVhdGUKICAgIHBvcAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI0CiAgICAvLyBpbml0U3Rha2luZ0NvbnRyYWN0KGFwcHJvdmFsUHJvZ3JhbVNpemU6IHVpbnQ2NCk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5sb2FkU3Rha2luZ0NvbnRyYWN0RGF0YVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmxvYWRTdGFraW5nQ29udHJhY3REYXRhOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI5CiAgICAvLyBsb2FkU3Rha2luZ0NvbnRyYWN0RGF0YShvZmZzZXQ6IHVpbnQ2NCwgZGF0YTogYnl0ZXMpOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGV4dHJhY3QgMiAwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzAKICAgIC8vIGFzc2VydCghdGhpcy5zdGFraW5nUG9vbEluaXRpYWxpemVkLnZhbHVlKQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk2CiAgICAvLyBzdGFraW5nUG9vbEluaXRpYWxpemVkID0gR2xvYmFsU3RhdGU8Ym9vbGVhbj4oeyBrZXk6ICdpbml0JyB9KQogICAgYnl0ZWMgMTAgLy8gImluaXQiCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzAKICAgIC8vIGFzc2VydCghdGhpcy5zdGFraW5nUG9vbEluaXRpYWxpemVkLnZhbHVlKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgICEKICAgIGFzc2VydAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTQKICAgIC8vIHN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtID0gQm94PGJ5dGVzPih7IGtleTogJ3Bvb2xUZW1wbGF0ZUFwcHJvdmFsQnl0ZXMnIH0pCiAgICBieXRlYyA1IC8vICJwb29sVGVtcGxhdGVBcHByb3ZhbEJ5dGVzIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMxCiAgICAvLyB0aGlzLnN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtLnJlcGxhY2Uob2Zmc2V0LCBkYXRhKQogICAgY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyOQogICAgLy8gbG9hZFN0YWtpbmdDb250cmFjdERhdGEob2Zmc2V0OiB1aW50NjQsIGRhdGE6IGJ5dGVzKTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmdldFByb3RvY29sQ29uc3RyYWludHNbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRQcm90b2NvbENvbnN0cmFpbnRzOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTM2OQogICAgLy8gcmV0dXJuIEdsb2JhbC5wYXlvdXRzTWF4QmFsYW5jZQogICAgZ2xvYmFsIFBheW91dHNNYXhCYWxhbmNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxOTUKICAgIC8vIG1heEFsZ29QZXJWYWxpZGF0b3I6IHRoaXMubWF4QWxsb3dlZFN0YWtlKCksCiAgICBjYWxsc3ViIG1heEFsbG93ZWRTdGFrZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTM3MwogICAgLy8gcmV0dXJuIG9wLm9ubGluZVN0YWtlKCkKICAgIG9ubGluZV9zdGFrZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTM1MgogICAgLy8gcmV0dXJuIHdpZGVSYXRpbyhbb25saW5lLCBNQVhfVkFMSURBVE9SX1NPRlRfUENUX09GX09OTElORV8xREVDSU1BTF0sIFsxMDAwXSkKICAgIGl0b2IKICAgIGJ5dGVjIDExIC8vIDB4MDAwMgogICAgc3dhcAogICAgY29uY2F0CiAgICBwdXNoaW50IDEwMCAvLyAxMDAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgYnl0ZWMgMTUgLy8gMHgwMDAxMDAwMDAwMDAwMDAwMDNlOAogICAgY2FsbHN1YiB3aWRlUmF0aW8KICAgIHBvcG4gMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTg4LTIwMAogICAgLy8gcmV0dXJuIHsKICAgIC8vICAgICBlcG9jaFBheW91dFJvdW5kc01pbjogTUlOX0VQT0NIX0xFTkdUSCwKICAgIC8vICAgICBlcG9jaFBheW91dFJvdW5kc01heDogTUFYX0VQT0NIX0xFTkdUSCwKICAgIC8vICAgICBtaW5QY3RUb1ZhbGlkYXRvcldGb3VyRGVjaW1hbHM6IE1JTl9QQ1RfVE9fVkFMSURBVE9SLAogICAgLy8gICAgIG1heFBjdFRvVmFsaWRhdG9yV0ZvdXJEZWNpbWFsczogTUFYX1BDVF9UT19WQUxJREFUT1IsCiAgICAvLyAgICAgbWluRW50cnlTdGFrZTogTUlOX0FMR09fU1RBS0VfUEVSX1BPT0wsCiAgICAvLyAgICAgbWF4QWxnb1BlclBvb2w6IHRoaXMubWF4QWxnb0FsbG93ZWRQZXJQb29sKCksCiAgICAvLyAgICAgbWF4QWxnb1BlclZhbGlkYXRvcjogdGhpcy5tYXhBbGxvd2VkU3Rha2UoKSwKICAgIC8vICAgICBhbXRDb25zaWRlcmVkU2F0dXJhdGVkOiB0aGlzLmFsZ29TYXR1cmF0aW9uTGV2ZWwoKSwKICAgIC8vICAgICBtYXhOb2RlczogTUFYX05PREVTLAogICAgLy8gICAgIG1heFBvb2xzUGVyTm9kZTogTUFYX1BPT0xTX1BFUl9OT0RFLAogICAgLy8gICAgIG1heFN0YWtlcnNQZXJQb29sOiBNQVhfU1RBS0VSU19QRVJfUE9PTCwKICAgIC8vIH0KICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgcHVzaGJ5dGVzIDB4MDAwMDAwMDAwMDAwMDAwMTAwMDAwMDAwMDAwZjQyNDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBmNDI0MDAwMDAwMDAwMDAwZjQyNDAKICAgIHN3YXAKICAgIGNvbmNhdAogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTk3CiAgICAvLyBtYXhOb2RlczogTUFYX05PREVTLAogICAgaW50Y18zIC8vIDgKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE4OC0yMDAKICAgIC8vIHJldHVybiB7CiAgICAvLyAgICAgZXBvY2hQYXlvdXRSb3VuZHNNaW46IE1JTl9FUE9DSF9MRU5HVEgsCiAgICAvLyAgICAgZXBvY2hQYXlvdXRSb3VuZHNNYXg6IE1BWF9FUE9DSF9MRU5HVEgsCiAgICAvLyAgICAgbWluUGN0VG9WYWxpZGF0b3JXRm91ckRlY2ltYWxzOiBNSU5fUENUX1RPX1ZBTElEQVRPUiwKICAgIC8vICAgICBtYXhQY3RUb1ZhbGlkYXRvcldGb3VyRGVjaW1hbHM6IE1BWF9QQ1RfVE9fVkFMSURBVE9SLAogICAgLy8gICAgIG1pbkVudHJ5U3Rha2U6IE1JTl9BTEdPX1NUQUtFX1BFUl9QT09MLAogICAgLy8gICAgIG1heEFsZ29QZXJQb29sOiB0aGlzLm1heEFsZ29BbGxvd2VkUGVyUG9vbCgpLAogICAgLy8gICAgIG1heEFsZ29QZXJWYWxpZGF0b3I6IHRoaXMubWF4QWxsb3dlZFN0YWtlKCksCiAgICAvLyAgICAgYW10Q29uc2lkZXJlZFNhdHVyYXRlZDogdGhpcy5hbGdvU2F0dXJhdGlvbkxldmVsKCksCiAgICAvLyAgICAgbWF4Tm9kZXM6IE1BWF9OT0RFUywKICAgIC8vICAgICBtYXhQb29sc1Blck5vZGU6IE1BWF9QT09MU19QRVJfTk9ERSwKICAgIC8vICAgICBtYXhTdGFrZXJzUGVyUG9vbDogTUFYX1NUQUtFUlNfUEVSX1BPT0wsCiAgICAvLyB9CiAgICBpdG9iCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjE5OAogICAgLy8gbWF4UG9vbHNQZXJOb2RlOiBNQVhfUE9PTFNfUEVSX05PREUsCiAgICBwdXNoaW50IDMgLy8gMwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTg4LTIwMAogICAgLy8gcmV0dXJuIHsKICAgIC8vICAgICBlcG9jaFBheW91dFJvdW5kc01pbjogTUlOX0VQT0NIX0xFTkdUSCwKICAgIC8vICAgICBlcG9jaFBheW91dFJvdW5kc01heDogTUFYX0VQT0NIX0xFTkdUSCwKICAgIC8vICAgICBtaW5QY3RUb1ZhbGlkYXRvcldGb3VyRGVjaW1hbHM6IE1JTl9QQ1RfVE9fVkFMSURBVE9SLAogICAgLy8gICAgIG1heFBjdFRvVmFsaWRhdG9yV0ZvdXJEZWNpbWFsczogTUFYX1BDVF9UT19WQUxJREFUT1IsCiAgICAvLyAgICAgbWluRW50cnlTdGFrZTogTUlOX0FMR09fU1RBS0VfUEVSX1BPT0wsCiAgICAvLyAgICAgbWF4QWxnb1BlclBvb2w6IHRoaXMubWF4QWxnb0FsbG93ZWRQZXJQb29sKCksCiAgICAvLyAgICAgbWF4QWxnb1BlclZhbGlkYXRvcjogdGhpcy5tYXhBbGxvd2VkU3Rha2UoKSwKICAgIC8vICAgICBhbXRDb25zaWRlcmVkU2F0dXJhdGVkOiB0aGlzLmFsZ29TYXR1cmF0aW9uTGV2ZWwoKSwKICAgIC8vICAgICBtYXhOb2RlczogTUFYX05PREVTLAogICAgLy8gICAgIG1heFBvb2xzUGVyTm9kZTogTUFYX1BPT0xTX1BFUl9OT0RFLAogICAgLy8gICAgIG1heFN0YWtlcnNQZXJQb29sOiBNQVhfU1RBS0VSU19QRVJfUE9PTCwKICAgIC8vIH0KICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTk5CiAgICAvLyBtYXhTdGFrZXJzUGVyUG9vbDogTUFYX1NUQUtFUlNfUEVSX1BPT0wsCiAgICBpbnRjIDYgLy8gMjAwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxODgtMjAwCiAgICAvLyByZXR1cm4gewogICAgLy8gICAgIGVwb2NoUGF5b3V0Um91bmRzTWluOiBNSU5fRVBPQ0hfTEVOR1RILAogICAgLy8gICAgIGVwb2NoUGF5b3V0Um91bmRzTWF4OiBNQVhfRVBPQ0hfTEVOR1RILAogICAgLy8gICAgIG1pblBjdFRvVmFsaWRhdG9yV0ZvdXJEZWNpbWFsczogTUlOX1BDVF9UT19WQUxJREFUT1IsCiAgICAvLyAgICAgbWF4UGN0VG9WYWxpZGF0b3JXRm91ckRlY2ltYWxzOiBNQVhfUENUX1RPX1ZBTElEQVRPUiwKICAgIC8vICAgICBtaW5FbnRyeVN0YWtlOiBNSU5fQUxHT19TVEFLRV9QRVJfUE9PTCwKICAgIC8vICAgICBtYXhBbGdvUGVyUG9vbDogdGhpcy5tYXhBbGdvQWxsb3dlZFBlclBvb2woKSwKICAgIC8vICAgICBtYXhBbGdvUGVyVmFsaWRhdG9yOiB0aGlzLm1heEFsbG93ZWRTdGFrZSgpLAogICAgLy8gICAgIGFtdENvbnNpZGVyZWRTYXR1cmF0ZWQ6IHRoaXMuYWxnb1NhdHVyYXRpb25MZXZlbCgpLAogICAgLy8gICAgIG1heE5vZGVzOiBNQVhfTk9ERVMsCiAgICAvLyAgICAgbWF4UG9vbHNQZXJOb2RlOiBNQVhfUE9PTFNfUEVSX05PREUsCiAgICAvLyAgICAgbWF4U3Rha2Vyc1BlclBvb2w6IE1BWF9TVEFLRVJTX1BFUl9QT09MLAogICAgLy8gfQogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxODYtMTg3CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGdldFByb3RvY29sQ29uc3RyYWludHMoKTogQ29uc3RyYWludHMgewogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXROdW1WYWxpZGF0b3JzW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0TnVtVmFsaWRhdG9yczoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIwOAogICAgLy8gcmV0dXJuIHRoaXMubnVtVmFsaWRhdG9ycy52YWx1ZQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk4CiAgICAvLyBudW1WYWxpZGF0b3JzID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ251bVYnIH0pCiAgICBieXRlYyA4IC8vICJudW1WIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjA4CiAgICAvLyByZXR1cm4gdGhpcy5udW1WYWxpZGF0b3JzLnZhbHVlCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjA2LTIwNwogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXROdW1WYWxpZGF0b3JzKCk6IHVpbnQ2NCB7CiAgICBpdG9iCiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmdldFZhbGlkYXRvckNvbmZpZ1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldFZhbGlkYXRvckNvbmZpZzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIxMS0yMTIKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0VmFsaWRhdG9yQ29uZmlnKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBWYWxpZGF0b3JDb25maWcgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjEzCiAgICAvLyByZXR1cm4gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIxMwogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDI0MgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjExLTIxMgogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXRWYWxpZGF0b3JDb25maWcodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IFZhbGlkYXRvckNvbmZpZyB7CiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmdldFZhbGlkYXRvclN0YXRlW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0VmFsaWRhdG9yU3RhdGU6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTYtMjE3CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGdldFZhbGlkYXRvclN0YXRlKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBWYWxpZGF0b3JDdXJTdGF0ZSB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTgKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnN0YXRlCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMTgKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnN0YXRlCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAyNDIgMjYKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIxNi0yMTcKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0VmFsaWRhdG9yU3RhdGUodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IFZhbGlkYXRvckN1clN0YXRlIHsKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0VmFsaWRhdG9yT3duZXJBbmRNYW5hZ2VyW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0VmFsaWRhdG9yT3duZXJBbmRNYW5hZ2VyOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjIxLTIyMgogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXRWYWxpZGF0b3JPd25lckFuZE1hbmFnZXIodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IFtBY2NvdW50LCBBY2NvdW50XSB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjQKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm93bmVyLAogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjI0CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lciwKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDAgMjQyCiAgICBkdXAKICAgIGV4dHJhY3QgOCAzMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjI1CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5tYW5hZ2VyLAogICAgc3dhcAogICAgZXh0cmFjdCA0MCAzMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjIzLTIyNgogICAgLy8gcmV0dXJuIFsKICAgIC8vICAgICB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lciwKICAgIC8vICAgICB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5tYW5hZ2VyLAogICAgLy8gXQogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMjEtMjIyCiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGdldFZhbGlkYXRvck93bmVyQW5kTWFuYWdlcih2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogW0FjY291bnQsIEFjY291bnRdIHsKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0UG9vbHNbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRQb29sczoKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMzUtMjM2CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGdldFBvb2xzKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBQb29sSW5mb1tdIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIzNwogICAgLy8gY29uc3QgcmV0RGF0YTogUG9vbEluZm9bXSA9IFtdCiAgICBieXRlYyAxMiAvLyAweDAwMDAKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIzOAogICAgLy8gY29uc3QgcG9vbFNldCA9IGNsb25lKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHMpCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMzgKICAgIC8vIGNvbnN0IHBvb2xTZXQgPSBjbG9uZSh0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzKQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIzOQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHBvb2xTZXQubGVuZ3RoOyBpICs9IDEpIHsKICAgIGludGNfMCAvLyAwCgpnZXRQb29sc193aGlsZV90b3BAMjoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjIzOQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHBvb2xTZXQubGVuZ3RoOyBpICs9IDEpIHsKICAgIGR1cAogICAgcHVzaGludCAyNCAvLyAyNAogICAgPAogICAgYnogZ2V0UG9vbHNfYmxvY2tANwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjQwCiAgICAvLyBpZiAocG9vbFNldFtpXS5wb29sQXBwSWQgPT09IDApIHsKICAgIGRpZyAxCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgZGlnIDEKICAgIGludGNfMiAvLyAxOAogICAgKgogICAgaW50Y18yIC8vIDE4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgYnVyeSA1CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGJ6IGdldFBvb2xzX2Jsb2NrQDcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI0NAogICAgLy8gcmV0RGF0YS5wdXNoKHBvb2xTZXRbaV0pCiAgICBkaWcgMgogICAgZHVwCiAgICBkaWcgNQogICAgY29uY2F0IC8vIG9uIGVycm9yOiBtYXggYXJyYXkgbGVuZ3RoIGV4Y2VlZGVkCiAgICBzd2FwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgcmVwbGFjZTIgMAogICAgYnVyeSAzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMzkKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBwb29sU2V0Lmxlbmd0aDsgaSArPSAxKSB7CiAgICBkdXAKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDEKICAgIGIgZ2V0UG9vbHNfd2hpbGVfdG9wQDIKCmdldFBvb2xzX2Jsb2NrQDc6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyMzUtMjM2CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGdldFBvb2xzKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBQb29sSW5mb1tdIHsKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgZGlnIDMKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmdldFBvb2xBcHBJZFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldFBvb2xBcHBJZDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI1NC0yNTUKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0UG9vbEFwcElkKHZhbGlkYXRvcklkOiB1aW50NjQsIHBvb2xJZDogdWludDY0KTogdWludDY0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIGR1cAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjU3CiAgICAvLyBwb29sSWQgIT09IDAgJiYgcG9vbElkIDw9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHMubGVuZ3RoLAogICAgYnogZ2V0UG9vbEFwcElkX2Jvb2xfZmFsc2VANAogICAgZGlnIDEKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI1NwogICAgLy8gcG9vbElkICE9PSAwICYmIHBvb2xJZCA8PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzLmxlbmd0aCwKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGR1cAogICAgcHVzaGludCAyNCAvLyAyNAogICAgPD0KICAgIGJ6IGdldFBvb2xBcHBJZF9ib29sX2ZhbHNlQDQKICAgIGludGNfMSAvLyAxCgpnZXRQb29sQXBwSWRfYm9vbF9tZXJnZUA1OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjU2LTI1OQogICAgLy8gYXNzZXJ0KAogICAgLy8gICAgIHBvb2xJZCAhPT0gMCAmJiBwb29sSWQgPD0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29scy5sZW5ndGgsCiAgICAvLyAgICAgJ3Bvb2wgaWQgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIG51bWJlciBvZiBwb29scyBmb3IgdGhpcyB2YWxpZGF0b3InLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIHBvb2wgaWQgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIG51bWJlciBvZiBwb29scyBmb3IgdGhpcyB2YWxpZGF0b3IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI2MAogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHNbcG9vbElkIC0gMV0ucG9vbEFwcElkCiAgICBkaWcgMQogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjYwCiAgICAvLyByZXR1cm4gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5wb29sc1twb29sSWQgLSAxXS5wb29sQXBwSWQKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBkaWcgMQogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIHN3YXAKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBzd2FwCiAgICBpbnRjXzIgLy8gMTgKICAgICoKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBleHRyYWN0IDAgOAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjU0LTI1NQogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXRQb29sQXBwSWQodmFsaWRhdG9ySWQ6IHVpbnQ2NCwgcG9vbElkOiB1aW50NjQpOiB1aW50NjQgewogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKZ2V0UG9vbEFwcElkX2Jvb2xfZmFsc2VANDoKICAgIGludGNfMCAvLyAwCiAgICBiIGdldFBvb2xBcHBJZF9ib29sX21lcmdlQDUKCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0UG9vbEluZm9bcm91dGluZ10oKSAtPiB2b2lkOgpnZXRQb29sSW5mbzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI2My0yNjQKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0UG9vbEluZm8ocG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSk6IFBvb2xJbmZvIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI2NQogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdCiAgICBkdXAKICAgIGV4dHJhY3QgMCA4CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyNjUKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIHN3YXAKICAgIGludGNfMyAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIHN3YXAKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBzd2FwCiAgICBpbnRjXzIgLy8gMTgKICAgICoKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyNjMtMjY0CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGdldFBvb2xJbmZvKHBvb2xLZXk6IFZhbGlkYXRvclBvb2xLZXkpOiBQb29sSW5mbyB7CiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmdldEN1ck1heFN0YWtlUGVyUG9vbFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldEN1ck1heFN0YWtlUGVyUG9vbDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI3NS0yNzYKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0Q3VyTWF4U3Rha2VQZXJQb29sKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiB1aW50NjQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgY2FsbHN1YiBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0Q3VyTWF4U3Rha2VQZXJQb29sCiAgICBpdG9iCiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmRvZXNTdGFrZXJOZWVkVG9QYXlNQlJbcm91dGluZ10oKSAtPiB2b2lkOgpkb2VzU3Rha2VyTmVlZFRvUGF5TUJSOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEyCiAgICAvLyBzdGFrZXJQb29sU2V0ID0gQm94TWFwPEFjY291bnQsIEZpeGVkQXJyYXk8VmFsaWRhdG9yUG9vbEtleSwgdHlwZW9mIE1BWF9QT09MU19QRVJfU1RBS0VSPj4oeyBrZXlQcmVmaXg6ICdzcHMnIH0pCiAgICBieXRlYyA2IC8vICJzcHMiCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyOTMtMjk0CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGRvZXNTdGFrZXJOZWVkVG9QYXlNQlIoc3Rha2VyOiBBY2NvdW50KTogYm9vbGVhbiB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTIKICAgIC8vIHN0YWtlclBvb2xTZXQgPSBCb3hNYXA8QWNjb3VudCwgRml4ZWRBcnJheTxWYWxpZGF0b3JQb29sS2V5LCB0eXBlb2YgTUFYX1BPT0xTX1BFUl9TVEFLRVI+Pih7IGtleVByZWZpeDogJ3NwcycgfSkKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mjk1CiAgICAvLyByZXR1cm4gIXRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLmV4aXN0cwogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAhCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyOTMtMjk0CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGRvZXNTdGFrZXJOZWVkVG9QYXlNQlIoc3Rha2VyOiBBY2NvdW50KTogYm9vbGVhbiB7CiAgICBieXRlYyA3IC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRTdGFrZWRQb29sc0ZvckFjY291bnRbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRTdGFrZWRQb29sc0ZvckFjY291bnQ6CiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiAyCiAgICBieXRlY18yIC8vICIiCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTIKICAgIC8vIHN0YWtlclBvb2xTZXQgPSBCb3hNYXA8QWNjb3VudCwgRml4ZWRBcnJheTxWYWxpZGF0b3JQb29sS2V5LCB0eXBlb2YgTUFYX1BPT0xTX1BFUl9TVEFLRVI+Pih7IGtleVByZWZpeDogJ3NwcycgfSkKICAgIGJ5dGVjIDYgLy8gInNwcyIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMwNC0zMDUKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50KHN0YWtlcjogQWNjb3VudCk6IFZhbGlkYXRvclBvb2xLZXlbXSB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTIKICAgIC8vIHN0YWtlclBvb2xTZXQgPSBCb3hNYXA8QWNjb3VudCwgRml4ZWRBcnJheTxWYWxpZGF0b3JQb29sS2V5LCB0eXBlb2YgTUFYX1BPT0xTX1BFUl9TVEFLRVI+Pih7IGtleVByZWZpeDogJ3NwcycgfSkKICAgIGNvbmNhdAogICAgZHVwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMDYKICAgIC8vIGlmICghdGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJueiBnZXRTdGFrZWRQb29sc0ZvckFjY291bnRfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMDcKICAgIC8vIHJldHVybiBbXQogICAgYnl0ZWMgMTIgLy8gMHgwMDAwCgpnZXRTdGFrZWRQb29sc0ZvckFjY291bnRfYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50QDk6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMDQtMzA1CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGdldFN0YWtlZFBvb2xzRm9yQWNjb3VudChzdGFrZXI6IEFjY291bnQpOiBWYWxpZGF0b3JQb29sS2V5W10gewogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50X2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMwOQogICAgLy8gY29uc3QgcmV0RGF0YTogVmFsaWRhdG9yUG9vbEtleVtdID0gW10KICAgIGJ5dGVjIDEyIC8vIDB4MDAwMAogICAgYnVyeSAzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMTAKICAgIC8vIGNvbnN0IHBvb2xTZXQgPSBjbG9uZSh0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZSkKICAgIGR1cAogICAgYm94X2dldAogICAgc3dhcAogICAgYnVyeSA1CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzExCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgcG9vbFNldC5sZW5ndGg7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMgoKZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50X3doaWxlX3RvcEA0OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzExCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgcG9vbFNldC5sZW5ndGg7IGkgKz0gMSkgewogICAgZGlnIDEKICAgIHB1c2hpbnQgNiAvLyA2CiAgICA8CiAgICBieiBnZXRTdGFrZWRQb29sc0ZvckFjY291bnRfYWZ0ZXJfd2hpbGVAOAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzEyCiAgICAvLyBpZiAocG9vbFNldFtpXS5pZCAhPT0gMCkgewogICAgZGlnIDEKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgICoKICAgIGRpZyA0CiAgICBzd2FwCiAgICBwdXNoaW50IDI0IC8vIDI0CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgYnVyeSA2CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGJ6IGdldFN0YWtlZFBvb2xzRm9yQWNjb3VudF9hZnRlcl9pZl9lbHNlQDcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMxMwogICAgLy8gcmV0RGF0YS5wdXNoKHBvb2xTZXRbaV0pCiAgICBkaWcgMgogICAgZHVwCiAgICBkaWcgNgogICAgY29uY2F0IC8vIG9uIGVycm9yOiBtYXggYXJyYXkgbGVuZ3RoIGV4Y2VlZGVkCiAgICBzd2FwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgcmVwbGFjZTIgMAogICAgYnVyeSAzCgpnZXRTdGFrZWRQb29sc0ZvckFjY291bnRfYWZ0ZXJfaWZfZWxzZUA3OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzExCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgcG9vbFNldC5sZW5ndGg7IGkgKz0gMSkgewogICAgZGlnIDEKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDIKICAgIGIgZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50X3doaWxlX3RvcEA0CgpnZXRTdGFrZWRQb29sc0ZvckFjY291bnRfYWZ0ZXJfd2hpbGVAODoKICAgIGRpZyAyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMDQtMzA1CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGdldFN0YWtlZFBvb2xzRm9yQWNjb3VudChzdGFrZXI6IEFjY291bnQpOiBWYWxpZGF0b3JQb29sS2V5W10gewogICAgYiBnZXRTdGFrZWRQb29sc0ZvckFjY291bnRfYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0U3Rha2VkUG9vbHNGb3JBY2NvdW50QDkKCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0VG9rZW5QYXlvdXRSYXRpb1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldFRva2VuUGF5b3V0UmF0aW86CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMjYtMzI3CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGdldFRva2VuUGF5b3V0UmF0aW8odmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IFBvb2xUb2tlblBheW91dFJhdGlvIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMyOAogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUudG9rZW5QYXlvdXRSYXRpbwogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzI4CiAgICAvLyByZXR1cm4gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS50b2tlblBheW91dFJhdGlvCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50YyA3IC8vIDcwMAogICAgaW50YyA2IC8vIDIwMAogICAgZXh0cmFjdDMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMyNi0zMjcKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0VG9rZW5QYXlvdXRSYXRpbyh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogUG9vbFRva2VuUGF5b3V0UmF0aW8gewogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXROb2RlUG9vbEFzc2lnbm1lbnRzW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0Tm9kZVBvb2xBc3NpZ25tZW50czoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMzMS0zMzIKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0Tm9kZVBvb2xBc3NpZ25tZW50cyh2YWxpZGF0b3JJZDogdWludDY0KTogTm9kZVBvb2xBc3NpZ25tZW50Q29uZmlnIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMzMwogICAgLy8gYXNzZXJ0KHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkuZXhpc3RzLCAidGhlIHNwZWNpZmllZCB2YWxpZGF0b3IgaWQgZG9lc24ndCBleGlzdCIpCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMzMKICAgIC8vIGFzc2VydCh0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLmV4aXN0cywgInRoZSBzcGVjaWZpZWQgdmFsaWRhdG9yIGlkIGRvZXNuJ3QgZXhpc3QiKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyB0aGUgc3BlY2lmaWVkIHZhbGlkYXRvciBpZCBkb2Vzbid0IGV4aXN0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozMzUKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLm5vZGVQb29sQXNzaWdubWVudHMKICAgIGJveF9nZXQKICAgIHBvcAogICAgaW50YyA4IC8vIDkwMAogICAgaW50YyA5IC8vIDE5MgogICAgZXh0cmFjdDMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjMzMS0zMzIKICAgIC8vIEByZWFkb25seQogICAgLy8gZ2V0Tm9kZVBvb2xBc3NpZ25tZW50cyh2YWxpZGF0b3JJZDogdWludDY0KTogTm9kZVBvb2xBc3NpZ25tZW50Q29uZmlnIHsKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0TkZEUmVnaXN0cnlJRFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldE5GRFJlZ2lzdHJ5SUQ6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNDAKICAgIC8vIHJldHVybiBuZmRSZWdpc3RyeUFwcElkCiAgICBpbnRjIDE2IC8vIFRNUExfTkZEX1JFR0lTVFJZX0FQUF9JRAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzM4LTMzOQogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXRORkRSZWdpc3RyeUlEKCk6IHVpbnQ2NCB7CiAgICBpdG9iCiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmFkZFZhbGlkYXRvcltyb3V0aW5nXSgpIC0+IHZvaWQ6CmFkZFZhbGlkYXRvcjoKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18yIC8vICIiCiAgICBkdXBuIDQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM1MQogICAgLy8gYWRkVmFsaWRhdG9yKG1iclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwgbmZkTmFtZTogc3RyaW5nLCBjb25maWc6IFZhbGlkYXRvckNvbmZpZyk6IHVpbnQ2NCB7CiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMSAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cG4gMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA0NgogICAgLy8gYXNzZXJ0KGNvbmZpZy5vd25lciAhPT0gR2xvYmFsLnplcm9BZGRyZXNzKQogICAgZXh0cmFjdCA4IDMyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGR1cAogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICAhPQogICAgYXNzZXJ0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDQ3CiAgICAvLyBhc3NlcnQoY29uZmlnLm1hbmFnZXIgIT09IEdsb2JhbC56ZXJvQWRkcmVzcykKICAgIGRpZyAxCiAgICBleHRyYWN0IDQwIDMyCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgIT0KICAgIGFzc2VydAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA0OAogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IGNvbmZpZy5vd25lciwgJ3NlbmRlciBtdXN0IGJlIG93bmVyIHRvIGFkZCBuZXcgdmFsaWRhdG9yJykKICAgIHR4biBTZW5kZXIKICAgID09CiAgICBhc3NlcnQgLy8gc2VuZGVyIG11c3QgYmUgb3duZXIgdG8gYWRkIG5ldyB2YWxpZGF0b3IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNTEKICAgIC8vIGNvbmZpZy5lbnRyeUdhdGluZ1R5cGUuYXNVaW50NjQoKSA+PSBHQVRJTkdfVFlQRV9OT05FICYmCiAgICBwdXNoaW50IDgwIC8vIDgwCiAgICBnZXRieXRlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDUyCiAgICAvLyBjb25maWcuZW50cnlHYXRpbmdUeXBlLmFzVWludDY0KCkgPD0gR0FUSU5HX1RZUEVfQ09OU1RfTUFYLAogICAgcHVzaGludCA0IC8vIDQKICAgIDw9CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDUxLTEwNTIKICAgIC8vIGNvbmZpZy5lbnRyeUdhdGluZ1R5cGUuYXNVaW50NjQoKSA+PSBHQVRJTkdfVFlQRV9OT05FICYmCiAgICAvLyAgICAgY29uZmlnLmVudHJ5R2F0aW5nVHlwZS5hc1VpbnQ2NCgpIDw9IEdBVElOR19UWVBFX0NPTlNUX01BWCwKICAgIGJ6IGFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDEzCiAgICBpbnRjXzEgLy8gMQoKYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMTQ6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDUwLTEwNTQKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBjb25maWcuZW50cnlHYXRpbmdUeXBlLmFzVWludDY0KCkgPj0gR0FUSU5HX1RZUEVfTk9ORSAmJgogICAgLy8gICAgICAgICBjb25maWcuZW50cnlHYXRpbmdUeXBlLmFzVWludDY0KCkgPD0gR0FUSU5HX1RZUEVfQ09OU1RfTUFYLAogICAgLy8gICAgICdnYXRpbmcgdHlwZSBub3QgdmFsaWQnLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIGdhdGluZyB0eXBlIG5vdCB2YWxpZAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA1NgogICAgLy8gY29uZmlnLmVwb2NoUm91bmRMZW5ndGguYXNVaW50NjQoKSA+PSBNSU5fRVBPQ0hfTEVOR1RIICYmCiAgICBkaWcgMgogICAgcHVzaGludCAxNjkgLy8gMTY5CiAgICBleHRyYWN0X3VpbnQzMgogICAgZHVwCiAgICBidXJ5IDkKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNTYtMTA1NwogICAgLy8gY29uZmlnLmVwb2NoUm91bmRMZW5ndGguYXNVaW50NjQoKSA+PSBNSU5fRVBPQ0hfTEVOR1RIICYmCiAgICAvLyAgICAgY29uZmlnLmVwb2NoUm91bmRMZW5ndGguYXNVaW50NjQoKSA8PSBNQVhfRVBPQ0hfTEVOR1RILAogICAgYnogYWRkVmFsaWRhdG9yX2Jvb2xfZmFsc2VAMTcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNTcKICAgIC8vIGNvbmZpZy5lcG9jaFJvdW5kTGVuZ3RoLmFzVWludDY0KCkgPD0gTUFYX0VQT0NIX0xFTkdUSCwKICAgIGRpZyA3CiAgICBpbnRjIDEwIC8vIDEwMDAwMDAKICAgIDw9CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDU2LTEwNTcKICAgIC8vIGNvbmZpZy5lcG9jaFJvdW5kTGVuZ3RoLmFzVWludDY0KCkgPj0gTUlOX0VQT0NIX0xFTkdUSCAmJgogICAgLy8gICAgIGNvbmZpZy5lcG9jaFJvdW5kTGVuZ3RoLmFzVWludDY0KCkgPD0gTUFYX0VQT0NIX0xFTkdUSCwKICAgIGJ6IGFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDE3CiAgICBpbnRjXzEgLy8gMQoKYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMTg6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDU1LTEwNTkKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBjb25maWcuZXBvY2hSb3VuZExlbmd0aC5hc1VpbnQ2NCgpID49IE1JTl9FUE9DSF9MRU5HVEggJiYKICAgIC8vICAgICAgICAgY29uZmlnLmVwb2NoUm91bmRMZW5ndGguYXNVaW50NjQoKSA8PSBNQVhfRVBPQ0hfTEVOR1RILAogICAgLy8gICAgICdlcG9jaCBsZW5ndGggbm90IGluIGFsbG93YWJsZSByYW5nZScsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gZXBvY2ggbGVuZ3RoIG5vdCBpbiBhbGxvd2FibGUgcmFuZ2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNjEKICAgIC8vIGNvbmZpZy5wZXJjZW50VG9WYWxpZGF0b3IuYXNVaW50NjQoKSA+PSBNSU5fUENUX1RPX1ZBTElEQVRPUiAmJgogICAgZGlnIDIKICAgIHB1c2hpbnQgMTczIC8vIDE3MwogICAgZXh0cmFjdF91aW50MzIKICAgIGR1cAogICAgYnVyeSA4CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDYyCiAgICAvLyBjb25maWcucGVyY2VudFRvVmFsaWRhdG9yLmFzVWludDY0KCkgPD0gTUFYX1BDVF9UT19WQUxJREFUT1IsCiAgICBpbnRjIDEwIC8vIDEwMDAwMDAKICAgIDw9CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDYxLTEwNjIKICAgIC8vIGNvbmZpZy5wZXJjZW50VG9WYWxpZGF0b3IuYXNVaW50NjQoKSA+PSBNSU5fUENUX1RPX1ZBTElEQVRPUiAmJgogICAgLy8gICAgIGNvbmZpZy5wZXJjZW50VG9WYWxpZGF0b3IuYXNVaW50NjQoKSA8PSBNQVhfUENUX1RPX1ZBTElEQVRPUiwKICAgIGJ6IGFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDIwCiAgICBpbnRjXzEgLy8gMQoKYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMjE6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDYwLTEwNjQKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBjb25maWcucGVyY2VudFRvVmFsaWRhdG9yLmFzVWludDY0KCkgPj0gTUlOX1BDVF9UT19WQUxJREFUT1IgJiYKICAgIC8vICAgICAgICAgY29uZmlnLnBlcmNlbnRUb1ZhbGlkYXRvci5hc1VpbnQ2NCgpIDw9IE1BWF9QQ1RfVE9fVkFMSURBVE9SLAogICAgLy8gICAgICdjb21taXNzaW9uIHBlcmNlbnRhZ2Ugbm90IHZhbGlkJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBjb21taXNzaW9uIHBlcmNlbnRhZ2Ugbm90IHZhbGlkCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDY1CiAgICAvLyBpZiAoY29uZmlnLnBlcmNlbnRUb1ZhbGlkYXRvci5hc1VpbnQ2NCgpICE9PSAwKSB7CiAgICBkaWcgNgogICAgYnogYWRkVmFsaWRhdG9yX2FmdGVyX2lmX2Vsc2VAMjMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNjcKICAgIC8vIGNvbmZpZy52YWxpZGF0b3JDb21taXNzaW9uQWRkcmVzcyAhPT0gR2xvYmFsLnplcm9BZGRyZXNzLAogICAgZGlnIDIKICAgIGV4dHJhY3QgMTc3IDMyCiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgICE9CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDY2LTEwNjkKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBjb25maWcudmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3MgIT09IEdsb2JhbC56ZXJvQWRkcmVzcywKICAgIC8vICAgICAndmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3MgbXVzdCBiZSBzZXQgaWYgcGVyY2VudCB0byB2YWxpZGF0b3IgaXMgbm90IDAnLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIHZhbGlkYXRvckNvbW1pc3Npb25BZGRyZXNzIG11c3QgYmUgc2V0IGlmIHBlcmNlbnQgdG8gdmFsaWRhdG9yIGlzIG5vdCAwCgphZGRWYWxpZGF0b3JfYWZ0ZXJfaWZfZWxzZUAyMzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNzEKICAgIC8vIGFzc2VydChjb25maWcubWluRW50cnlTdGFrZSA+PSBNSU5fQUxHT19TVEFLRV9QRVJfUE9PTCwgJ3N0YWtpbmcgcG9vbCBtdXN0IGhhdmUgbWluaW11bSBlbnRyeSBvZiAxIGFsZ28nKQogICAgZGlnIDIKICAgIGR1cAogICAgcHVzaGludCAyMDkgLy8gMjA5CiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50YyAxMCAvLyAxMDAwMDAwCiAgICA+PQogICAgYXNzZXJ0IC8vIHN0YWtpbmcgcG9vbCBtdXN0IGhhdmUgbWluaW11bSBlbnRyeSBvZiAxIGFsZ28KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNzQKICAgIC8vIGNvbmZpZy5wb29sc1Blck5vZGUuYXNVaW50NjQoKSA+IDAgJiYgY29uZmlnLnBvb2xzUGVyTm9kZS5hc1VpbnQ2NCgpIDw9IE1BWF9QT09MU19QRVJfTk9ERSwKICAgIHB1c2hpbnQgMjI1IC8vIDIyNQogICAgZ2V0Ynl0ZQogICAgZHVwCiAgICBidXJ5IDcKICAgIGJ6IGFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDI2CiAgICBkaWcgNQogICAgcHVzaGludCAzIC8vIDMKICAgIDw9CiAgICBieiBhZGRWYWxpZGF0b3JfYm9vbF9mYWxzZUAyNgogICAgaW50Y18xIC8vIDEKCmFkZFZhbGlkYXRvcl9ib29sX21lcmdlQDI3OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA3My0xMDc2CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgICAgY29uZmlnLnBvb2xzUGVyTm9kZS5hc1VpbnQ2NCgpID4gMCAmJiBjb25maWcucG9vbHNQZXJOb2RlLmFzVWludDY0KCkgPD0gTUFYX1BPT0xTX1BFUl9OT0RFLAogICAgLy8gICAgICdudW1iZXIgb2YgcG9vbHMgcGVyIG5vZGUgbXVzdCBiZSBiZSBiZXR3ZWVuIDEgYW5kIHRoZSBtYXhpbXVtIGFsbG93ZWQgbnVtYmVyJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBudW1iZXIgb2YgcG9vbHMgcGVyIG5vZGUgbXVzdCBiZSBiZSBiZXR3ZWVuIDEgYW5kIHRoZSBtYXhpbXVtIGFsbG93ZWQgbnVtYmVyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDc3CiAgICAvLyBpZiAoY29uZmlnLnN1bnNldHRpbmdPbiAhPT0gMCkgewogICAgZGlnIDIKICAgIGludGMgMTEgLy8gMjI2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBidXJ5IDYKICAgIGJ6IGFkZFZhbGlkYXRvcl9hZnRlcl9pZl9lbHNlQDI5CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDc4CiAgICAvLyBhc3NlcnQoY29uZmlnLnN1bnNldHRpbmdPbiA+IEdsb2JhbC5sYXRlc3RUaW1lc3RhbXAsICdzdW5zZXR0aW5nT24gbXVzdCBiZSBsYXRlciB0aGFuIG5vdyBpZiBzZXQnKQogICAgZGlnIDQKICAgIGdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKICAgID4KICAgIGFzc2VydCAvLyBzdW5zZXR0aW5nT24gbXVzdCBiZSBsYXRlciB0aGFuIG5vdyBpZiBzZXQKCmFkZFZhbGlkYXRvcl9hZnRlcl9pZl9lbHNlQDI5OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzU0LTM1NwogICAgLy8gYXNzZXJ0TWF0Y2gobWJyUGF5bWVudCwgewogICAgLy8gICAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhbW91bnQ6IHRoaXMuZ2V0TWJyQW1vdW50cygpLmFkZFZhbGlkYXRvck1iciwKICAgIC8vIH0pCiAgICBkaWcgMwogICAgZHVwCiAgICBndHhucyBSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzU1CiAgICAvLyByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzU0LTM1NwogICAgLy8gYXNzZXJ0TWF0Y2gobWJyUGF5bWVudCwgewogICAgLy8gICAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhbW91bnQ6IHRoaXMuZ2V0TWJyQW1vdW50cygpLmFkZFZhbGlkYXRvck1iciwKICAgIC8vIH0pCiAgICA9PQogICAgZGlnIDEKICAgIGd0eG5zIEFtb3VudAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzU2CiAgICAvLyBhbW91bnQ6IHRoaXMuZ2V0TWJyQW1vdW50cygpLmFkZFZhbGlkYXRvck1iciwKICAgIHB1c2hpbnQgNDQyOTAwIC8vIDQ0MjkwMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzU0LTM1NwogICAgLy8gYXNzZXJ0TWF0Y2gobWJyUGF5bWVudCwgewogICAgLy8gICAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhbW91bnQ6IHRoaXMuZ2V0TWJyQW1vdW50cygpLmFkZFZhbGlkYXRvck1iciwKICAgIC8vIH0pCiAgICA9PQogICAgJiYKICAgIGFzc2VydCAvLyBhc3NlcnQgdGFyZ2V0IGlzIG1hdGNoIGZvciBjb25kaXRpb25zCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNTkKICAgIC8vIGFzc2VydChtYnJQYXltZW50LmZlZSA+IDEwICogMTAwMDAwMCwgJ2ZlZSBtdXN0IGJlIDEwIEFMR08gb3IgbW9yZSB0byBwcmV2ZW50IHNwYW1taW5nIG9mIHZhbGlkYXRvcnMnKQogICAgZ3R4bnMgRmVlCiAgICBwdXNoaW50IDEwMDAwMDAwIC8vIDEwMDAwMDAwCiAgICA+CiAgICBhc3NlcnQgLy8gZmVlIG11c3QgYmUgMTAgQUxHTyBvciBtb3JlIHRvIHByZXZlbnQgc3BhbW1pbmcgb2YgdmFsaWRhdG9ycwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzYyCiAgICAvLyBjb25zdCB2YWxpZGF0b3JJZDogdWludDY0ID0gdGhpcy5udW1WYWxpZGF0b3JzLnZhbHVlICsgMQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk4CiAgICAvLyBudW1WYWxpZGF0b3JzID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ251bVYnIH0pCiAgICBieXRlYyA4IC8vICJudW1WIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzYyCiAgICAvLyBjb25zdCB2YWxpZGF0b3JJZDogdWludDY0ID0gdGhpcy5udW1WYWxpZGF0b3JzLnZhbHVlICsgMQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMSAvLyAxCiAgICArCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5OAogICAgLy8gbnVtVmFsaWRhdG9ycyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdudW1WJyB9KQogICAgYnl0ZWMgOCAvLyAibnVtViIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM2MwogICAgLy8gdGhpcy5udW1WYWxpZGF0b3JzLnZhbHVlID0gdmFsaWRhdG9ySWQKICAgIGRpZyAxCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzY1CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLmNyZWF0ZSgpCiAgICBpdG9iCiAgICBkdXAKICAgIGJ1cnkgMTEKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBkaWcgMQogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNjUKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkuY3JlYXRlKCkKICAgIGR1cAogICAgcHVzaGludCAxMDkyIC8vIDEwOTIKICAgIGJveF9jcmVhdGUKICAgIHBvcAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzY2CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZyA9IGNsb25lKGNvbmZpZykKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGRpZyA2CiAgICBkdXAKICAgIGNvdmVyIDQKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNjcKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLmlkID0gdmFsaWRhdG9ySWQKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDMKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czozNzAKICAgIC8vIGlmIChjb25maWcubmZkRm9ySW5mbyAhPT0gMCkgewogICAgcHVzaGludCA3MiAvLyA3MgogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSAxMAogICAgYnogYWRkVmFsaWRhdG9yX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mzc2CiAgICAvLyBUeG4uc2VuZGVyID09PSBBY2NvdW50KG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKGNvbmZpZy5uZmRGb3JJbmZvLCBCeXRlcygnaS5vd25lci5hJykpWzBdKSwKICAgIHR4biBTZW5kZXIKICAgIGRpZyA5CiAgICBieXRlYyA5IC8vICJpLm93bmVyLmEiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICA9PQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mzc1LTM3OAogICAgLy8gYXNzZXJ0KAogICAgLy8gICAgIFR4bi5zZW5kZXIgPT09IEFjY291bnQob3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoY29uZmlnLm5mZEZvckluZm8sIEJ5dGVzKCdpLm93bmVyLmEnKSlbMF0pLAogICAgLy8gICAgICdJZiBzcGVjaWZ5aW5nIE5GRCwgYWNjb3VudCBhZGRpbmcgdmFsaWRhdG9yIG11c3QgYmUgb3duZXInLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIElmIHNwZWNpZnlpbmcgTkZELCBhY2NvdW50IGFkZGluZyB2YWxpZGF0b3IgbXVzdCBiZSBvd25lcgoKYWRkVmFsaWRhdG9yX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjM5MAogICAgLy8gZW1pdDxyZXRpT1BfYWRkZWRWYWxpZGF0b3I+KHsgaWQ6IHZhbGlkYXRvcklkLCBvd25lcjogY29uZmlnLm93bmVyLCBtYW5hZ2VyOiBjb25maWcubWFuYWdlciB9KQogICAgZGlnIDkKICAgIGR1cAogICAgZGlnIDMKICAgIGNvbmNhdAogICAgZGlnIDIKICAgIGNvbmNhdAogICAgcHVzaGJ5dGVzIDB4YThkZDIxY2IgLy8gbWV0aG9kICJyZXRpT1BfYWRkZWRWYWxpZGF0b3IodWludDY0LGFkZHJlc3MsYWRkcmVzcykiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MzUxCiAgICAvLyBhZGRWYWxpZGF0b3IobWJyUGF5bWVudDogZ3R4bi5QYXltZW50VHhuLCBuZmROYW1lOiBzdHJpbmcsIGNvbmZpZzogVmFsaWRhdG9yQ29uZmlnKTogdWludDY0IHsKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCmFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDI2OgogICAgaW50Y18wIC8vIDAKICAgIGIgYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMjcKCmFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDIwOgogICAgaW50Y18wIC8vIDAKICAgIGIgYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMjEKCmFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDE3OgogICAgaW50Y18wIC8vIDAKICAgIGIgYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMTgKCmFkZFZhbGlkYXRvcl9ib29sX2ZhbHNlQDEzOgogICAgaW50Y18wIC8vIDAKICAgIGIgYWRkVmFsaWRhdG9yX2Jvb2xfbWVyZ2VAMTQKCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuY2hhbmdlVmFsaWRhdG9yTWFuYWdlcltyb3V0aW5nXSgpIC0+IHZvaWQ6CmNoYW5nZVZhbGlkYXRvck1hbmFnZXI6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MDEKICAgIC8vIGNoYW5nZVZhbGlkYXRvck1hbmFnZXIodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgbWFuYWdlcjogQWNjb3VudCk6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDAyCiAgICAvLyB0aGlzLmNhbGxlck11c3RCZU93bmVyKHZhbGlkYXRvcklkKQogICAgZGlnIDEKICAgIGNhbGxzdWIgY2FsbGVyTXVzdEJlT3duZXIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQwMwogICAgLy8gYXNzZXJ0KG1hbmFnZXIgIT09IEdsb2JhbC56ZXJvQWRkcmVzcywgJ25lZWRzIHRvIGF0IGxlYXN0IGJlIHZhbGlkIGFkZHJlc3MnKQogICAgZHVwCiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgICE9CiAgICBhc3NlcnQgLy8gbmVlZHMgdG8gYXQgbGVhc3QgYmUgdmFsaWQgYWRkcmVzcwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDA0CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5tYW5hZ2VyID0gbWFuYWdlcgogICAgc3dhcAogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDA0CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5tYW5hZ2VyID0gbWFuYWdlcgogICAgcHVzaGludCA0MCAvLyA0MAogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDAxCiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JNYW5hZ2VyKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIG1hbmFnZXI6IEFjY291bnQpOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuY2hhbmdlVmFsaWRhdG9yU3Vuc2V0SW5mb1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmNoYW5nZVZhbGlkYXRvclN1bnNldEluZm86CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MTUKICAgIC8vIGNoYW5nZVZhbGlkYXRvclN1bnNldEluZm8odmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgc3Vuc2V0dGluZ09uOiB1aW50NjQsIHN1bnNldHRpbmdUbzogVmFsaWRhdG9ySWRUeXBlKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MTYKICAgIC8vIHRoaXMuY2FsbGVyTXVzdEJlT3duZXIodmFsaWRhdG9ySWQpCiAgICBkaWcgMgogICAgY2FsbHN1YiBjYWxsZXJNdXN0QmVPd25lcgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDE3CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5zdW5zZXR0aW5nT24gPSBzdW5zZXR0aW5nT24KICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDE3CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5zdW5zZXR0aW5nT24gPSBzdW5zZXR0aW5nT24KICAgIGR1cAogICAgaW50YyAxMSAvLyAyMjYKICAgIHVuY292ZXIgNAogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQxOAogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcuc3Vuc2V0dGluZ1RvID0gc3Vuc2V0dGluZ1RvCiAgICBwdXNoaW50IDIzNCAvLyAyMzQKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQxNQogICAgLy8gY2hhbmdlVmFsaWRhdG9yU3Vuc2V0SW5mbyh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLCBzdW5zZXR0aW5nT246IHVpbnQ2NCwgc3Vuc2V0dGluZ1RvOiBWYWxpZGF0b3JJZFR5cGUpOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuY2hhbmdlVmFsaWRhdG9yTkZEW3JvdXRpbmddKCkgLT4gdm9pZDoKY2hhbmdlVmFsaWRhdG9yTkZEOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDMwCiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JORkQodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgbmZkQXBwSUQ6IHVpbnQ2NCwgbmZkTmFtZTogc3RyaW5nKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGJ0b2kKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQzMQogICAgLy8gdGhpcy5jYWxsZXJNdXN0QmVPd25lcih2YWxpZGF0b3JJZCkKICAgIGRpZyAyCiAgICBjYWxsc3ViIGNhbGxlck11c3RCZU93bmVyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MzYKICAgIC8vIFR4bi5zZW5kZXIgPT09IEFjY291bnQob3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMobmZkQXBwSUQsIEJ5dGVzKCdpLm93bmVyLmEnKSlbMF0pLAogICAgdHhuIFNlbmRlcgogICAgc3dhcAogICAgYnl0ZWMgOSAvLyAiaS5vd25lci5hIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgPT0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQzNS00MzgKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBUeG4uc2VuZGVyID09PSBBY2NvdW50KG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKG5mZEFwcElELCBCeXRlcygnaS5vd25lci5hJykpWzBdKSwKICAgIC8vICAgICAnSWYgc3BlY2lmeWluZyBORkQsIGFjY291bnQgYWRkaW5nIHZhbGlkYXRvciBtdXN0IGJlIG93bmVyJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBJZiBzcGVjaWZ5aW5nIE5GRCwgYWNjb3VudCBhZGRpbmcgdmFsaWRhdG9yIG11c3QgYmUgb3duZXIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQzOQogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubmZkRm9ySW5mbyA9IG5mZEFwcElECiAgICBzd2FwCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0MzkKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm5mZEZvckluZm8gPSBuZmRBcHBJRAogICAgcHVzaGludCA3MiAvLyA3MgogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDMwCiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JORkQodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgbmZkQXBwSUQ6IHVpbnQ2NCwgbmZkTmFtZTogc3RyaW5nKTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmNoYW5nZVZhbGlkYXRvckNvbW1pc3Npb25BZGRyZXNzW3JvdXRpbmddKCkgLT4gdm9pZDoKY2hhbmdlVmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3M6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NDYKICAgIC8vIGNoYW5nZVZhbGlkYXRvckNvbW1pc3Npb25BZGRyZXNzKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIGNvbW1pc3Npb25BZGRyZXNzOiBBY2NvdW50KTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NDcKICAgIC8vIHRoaXMuY2FsbGVyTXVzdEJlT3duZXIodmFsaWRhdG9ySWQpCiAgICBkaWcgMQogICAgY2FsbHN1YiBjYWxsZXJNdXN0QmVPd25lcgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDQ4CiAgICAvLyBhc3NlcnQoY29tbWlzc2lvbkFkZHJlc3MgIT09IEdsb2JhbC56ZXJvQWRkcmVzcykKICAgIGR1cAogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICAhPQogICAgYXNzZXJ0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NDkKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLnZhbGlkYXRvckNvbW1pc3Npb25BZGRyZXNzID0gY29tbWlzc2lvbkFkZHJlc3MKICAgIHN3YXAKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ0OQogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcudmFsaWRhdG9yQ29tbWlzc2lvbkFkZHJlc3MgPSBjb21taXNzaW9uQWRkcmVzcwogICAgcHVzaGludCAxNzcgLy8gMTc3CiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NDYKICAgIC8vIGNoYW5nZVZhbGlkYXRvckNvbW1pc3Npb25BZGRyZXNzKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIGNvbW1pc3Npb25BZGRyZXNzOiBBY2NvdW50KTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmNoYW5nZVZhbGlkYXRvclJld2FyZEluZm9bcm91dGluZ10oKSAtPiB2b2lkOgpjaGFuZ2VWYWxpZGF0b3JSZXdhcmRJbmZvOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDU2LTQ2MwogICAgLy8gY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mbygKICAgIC8vICAgICB2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLAogICAgLy8gICAgIEVudHJ5R2F0aW5nVHlwZTogVWludDgsCiAgICAvLyAgICAgRW50cnlHYXRpbmdBZGRyZXNzOiBBY2NvdW50LAogICAgLy8gICAgIEVudHJ5R2F0aW5nQXNzZXRzOiBGaXhlZEFycmF5PHVpbnQ2NCwgND4sCiAgICAvLyAgICAgR2F0aW5nQXNzZXRNaW5CYWxhbmNlOiB1aW50NjQsCiAgICAvLyAgICAgUmV3YXJkUGVyUGF5b3V0OiB1aW50NjQsCiAgICAvLyApOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIGR1cAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGNvdmVyIDIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGNvdmVyIDIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDUKICAgIGNvdmVyIDIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDYKICAgIGNvdmVyIDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ2NAogICAgLy8gdGhpcy5jYWxsZXJNdXN0QmVPd25lcih2YWxpZGF0b3JJZCkKICAgIGNhbGxzdWIgY2FsbGVyTXVzdEJlT3duZXIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ2NwogICAgLy8gRW50cnlHYXRpbmdUeXBlLmFzVWludDY0KCkgPj0gR0FUSU5HX1RZUEVfTk9ORSAmJiBFbnRyeUdhdGluZ1R5cGUuYXNVaW50NjQoKSA8IEdBVElOR19UWVBFX0NPTlNUX01BWCwKICAgIGJ0b2kKICAgIGR1cAogICAgcHVzaGludCA0IC8vIDQKICAgIDwKICAgIGJ6IGNoYW5nZVZhbGlkYXRvclJld2FyZEluZm9fYm9vbF9mYWxzZUA0CiAgICBpbnRjXzEgLy8gMQoKY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mb19ib29sX21lcmdlQDU6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NjYtNDY5CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgICAgRW50cnlHYXRpbmdUeXBlLmFzVWludDY0KCkgPj0gR0FUSU5HX1RZUEVfTk9ORSAmJiBFbnRyeUdhdGluZ1R5cGUuYXNVaW50NjQoKSA8IEdBVElOR19UWVBFX0NPTlNUX01BWCwKICAgIC8vICAgICAnaW52YWxpZCBFbnRyeSBnYXRpbmcgdHlwZScsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gaW52YWxpZCBFbnRyeSBnYXRpbmcgdHlwZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDcwCiAgICAvLyBpZiAoRW50cnlHYXRpbmdUeXBlLmFzVWludDY0KCkgPT09IEdBVElOR19UWVBFX0FTU0VUU19DUkVBVEVEX0JZKSB7CiAgICBkdXAKICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYnogY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mb19hZnRlcl9pZl9lbHNlQDcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ3MQogICAgLy8gYXNzZXJ0KEVudHJ5R2F0aW5nQWRkcmVzcyAhPT0gR2xvYmFsLnplcm9BZGRyZXNzKQogICAgZGlnIDQKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgIT0KICAgIGFzc2VydAoKY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mb19hZnRlcl9pZl9lbHNlQDc6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NzkKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLmVudHJ5R2F0aW5nVHlwZSA9IEVudHJ5R2F0aW5nVHlwZQogICAgZGlnIDYKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ3OQogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcuZW50cnlHYXRpbmdUeXBlID0gRW50cnlHYXRpbmdUeXBlCiAgICBkdXAKICAgIHB1c2hpbnQgODAgLy8gODAKICAgIGRpZyA4CiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDgwCiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5lbnRyeUdhdGluZ0FkZHJlc3MgPSBFbnRyeUdhdGluZ0FkZHJlc3MKICAgIGR1cAogICAgcHVzaGludCA4MSAvLyA4MQogICAgZGlnIDcKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0ODEKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLmVudHJ5R2F0aW5nQXNzZXRzID0gY2xvbmUoRW50cnlHYXRpbmdBc3NldHMpCiAgICBkdXAKICAgIHB1c2hpbnQgMTEzIC8vIDExMwogICAgZGlnIDYKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0ODIKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLmdhdGluZ0Fzc2V0TWluQmFsYW5jZSA9IEdhdGluZ0Fzc2V0TWluQmFsYW5jZQogICAgZHVwCiAgICBwdXNoaW50IDE0NSAvLyAxNDUKICAgIGRpZyA1CiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDgzCiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5yZXdhcmRQZXJQYXlvdXQgPSBSZXdhcmRQZXJQYXlvdXQKICAgIHB1c2hpbnQgMTYxIC8vIDE2MQogICAgZGlnIDMKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0NTYtNDYzCiAgICAvLyBjaGFuZ2VWYWxpZGF0b3JSZXdhcmRJbmZvKAogICAgLy8gICAgIHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsCiAgICAvLyAgICAgRW50cnlHYXRpbmdUeXBlOiBVaW50OCwKICAgIC8vICAgICBFbnRyeUdhdGluZ0FkZHJlc3M6IEFjY291bnQsCiAgICAvLyAgICAgRW50cnlHYXRpbmdBc3NldHM6IEZpeGVkQXJyYXk8dWludDY0LCA0PiwKICAgIC8vICAgICBHYXRpbmdBc3NldE1pbkJhbGFuY2U6IHVpbnQ2NCwKICAgIC8vICAgICBSZXdhcmRQZXJQYXlvdXQ6IHVpbnQ2NCwKICAgIC8vICk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKY2hhbmdlVmFsaWRhdG9yUmV3YXJkSW5mb19ib29sX2ZhbHNlQDQ6CiAgICBpbnRjXzAgLy8gMAogICAgYiBjaGFuZ2VWYWxpZGF0b3JSZXdhcmRJbmZvX2Jvb2xfbWVyZ2VANQoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5hZGRQb29sW3JvdXRpbmddKCkgLT4gdm9pZDoKYWRkUG9vbDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjQ5NwogICAgLy8gYWRkUG9vbChtYnJQYXltZW50OiBndHhuLlBheW1lbnRUeG4sIHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIG5vZGVOdW06IHVpbnQ2NCk6IFZhbGlkYXRvclBvb2xLZXkgewogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBidG9pCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0OTkKICAgIC8vIHRoaXMuY2FsbGVyTXVzdEJlT3duZXJPck1hbmFnZXIodmFsaWRhdG9ySWQpCiAgICBkaWcgMQogICAgY2FsbHN1YiBjYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTAyCiAgICAvLyBhc3NlcnRNYXRjaChtYnJQYXltZW50LCB7IHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywgYW1vdW50OiB0aGlzLmdldE1ickFtb3VudHMoKS5hZGRQb29sTWJyIH0pCiAgICBkaWcgMgogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICA9PQogICAgdW5jb3ZlciAzCiAgICBndHhucyBBbW91bnQKICAgIHB1c2hpbnQgOTYzNTAwIC8vIDk2MzUwMAogICAgPT0KICAgICYmCiAgICBhc3NlcnQgLy8gYXNzZXJ0IHRhcmdldCBpcyBtYXRjaCBmb3IgY29uZGl0aW9ucwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTA0CiAgICAvLyBhc3NlcnQodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS5leGlzdHMsICJzcGVjaWZpZWQgdmFsaWRhdG9yIGlkIGlzbid0IHZhbGlkIikKICAgIGRpZyAxCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTA0CiAgICAvLyBhc3NlcnQodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS5leGlzdHMsICJzcGVjaWZpZWQgdmFsaWRhdG9yIGlkIGlzbid0IHZhbGlkIikKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gc3BlY2lmaWVkIHZhbGlkYXRvciBpZCBpc24ndCB2YWxpZAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTA2CiAgICAvLyBsZXQgbnVtUG9vbHM6IHVpbnQ2NCA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuc3RhdGUubnVtUG9vbHMuYXNVaW50NjQoKQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIGR1cAogICAgZXh0cmFjdCAyNDIgMjYKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTA3CiAgICAvLyBpZiAoKG51bVBvb2xzIGFzIHVpbnQ2NCkgPj0gTUFYX1BPT0xTKSB7CiAgICBkdXAKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgID49CiAgICAhCiAgICBhc3NlcnQgLy8gYWxyZWFkeSBhdCBtYXggcG9vbCBzaXplCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MTAKICAgIC8vIG51bVBvb2xzICs9IDEKICAgIGludGNfMSAvLyAxCiAgICArCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MTMtNTMxCiAgICAvLyBpdHhuLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgb25Db21wbGV0aW9uOiBPbkNvbXBsZXRlQWN0aW9uLk5vT3AsCiAgICAvLyAgICAgYXBwcm92YWxQcm9ncmFtOiBbCiAgICAvLyAgICAgICAgIHRoaXMuc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0uZXh0cmFjdCgwLCA0MDk2KSwKICAgIC8vICAgICAgICAgdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5leHRyYWN0KDQwOTYsIHRoaXMuc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0ubGVuZ3RoIC0gNDA5NiksCiAgICAvLyAgICAgXSwKICAgIC8vICAgICBjbGVhclN0YXRlUHJvZ3JhbTogc3Rha2luZ1Bvb2wuY2xlYXJTdGF0ZVByb2dyYW0sCiAgICAvLyAgICAgZ2xvYmFsTnVtVWludDogc3Rha2luZ1Bvb2wuZ2xvYmFsVWludHMsCiAgICAvLyAgICAgZ2xvYmFsTnVtQnl0ZXM6IHN0YWtpbmdQb29sLmdsb2JhbEJ5dGVzLAogICAgLy8gICAgIGV4dHJhUHJvZ3JhbVBhZ2VzOiAzLAogICAgLy8gICAgIGFwcEFyZ3M6IFsKICAgIC8vICAgICAgICAgLy8gY3JlYXRpbmdDb250cmFjdElELCB2YWxpZGF0b3JJZCwgcG9vbElkLCBtaW5FbnRyeVN0YWtlCiAgICAvLyAgICAgICAgIG1ldGhvZFNlbGVjdG9yKCdjcmVhdGVBcHBsaWNhdGlvbih1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpdm9pZCcpLAogICAgLy8gICAgICAgICBvcC5pdG9iKEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCksCiAgICAvLyAgICAgICAgIG9wLml0b2IodmFsaWRhdG9ySWQpLAogICAgLy8gICAgICAgICBvcC5pdG9iKG51bVBvb2xzIGFzIHVpbnQ2NCksCiAgICAvLyAgICAgICAgIG9wLml0b2IodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWluRW50cnlTdGFrZSksCiAgICAvLyAgICAgXSwKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NAogICAgLy8gc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0gPSBCb3g8Ynl0ZXM+KHsga2V5OiAncG9vbFRlbXBsYXRlQXBwcm92YWxCeXRlcycgfSkKICAgIGJ5dGVjIDUgLy8gInBvb2xUZW1wbGF0ZUFwcHJvdmFsQnl0ZXMiCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MTYKICAgIC8vIHRoaXMuc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0uZXh0cmFjdCgwLCA0MDk2KSwKICAgIGludGNfMCAvLyAwCiAgICBpbnRjIDEyIC8vIDQwOTYKICAgIGJveF9leHRyYWN0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NAogICAgLy8gc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0gPSBCb3g8Ynl0ZXM+KHsga2V5OiAncG9vbFRlbXBsYXRlQXBwcm92YWxCeXRlcycgfSkKICAgIGJ5dGVjIDUgLy8gInBvb2xUZW1wbGF0ZUFwcHJvdmFsQnl0ZXMiCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MTcKICAgIC8vIHRoaXMuc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0uZXh0cmFjdCg0MDk2LCB0aGlzLnN0YWtpbmdQb29sQXBwcm92YWxQcm9ncmFtLmxlbmd0aCAtIDQwOTYpLAogICAgYm94X2xlbgogICAgcG9wCiAgICBpbnRjIDEyIC8vIDQwOTYKICAgIC0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk0CiAgICAvLyBzdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbSA9IEJveDxieXRlcz4oeyBrZXk6ICdwb29sVGVtcGxhdGVBcHByb3ZhbEJ5dGVzJyB9KQogICAgYnl0ZWMgNSAvLyAicG9vbFRlbXBsYXRlQXBwcm92YWxCeXRlcyIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUxNwogICAgLy8gdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5leHRyYWN0KDQwOTYsIHRoaXMuc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0ubGVuZ3RoIC0gNDA5NiksCiAgICBpbnRjIDEyIC8vIDQwOTYKICAgIHVuY292ZXIgMgogICAgYm94X2V4dHJhY3QKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUyNgogICAgLy8gb3AuaXRvYihHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQpLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbklECiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MjgKICAgIC8vIG9wLml0b2IobnVtUG9vbHMgYXMgdWludDY0KSwKICAgIGRpZyAzCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MjkKICAgIC8vIG9wLml0b2IodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWluRW50cnlTdGFrZSksCiAgICB1bmNvdmVyIDUKICAgIGV4dHJhY3QgMCAyNDIKICAgIGV4dHJhY3QgMjA5IDgKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUyNQogICAgLy8gbWV0aG9kU2VsZWN0b3IoJ2NyZWF0ZUFwcGxpY2F0aW9uKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCl2b2lkJyksCiAgICBwdXNoYnl0ZXMgMHg1OWU5MGFhNiAvLyBtZXRob2QgImNyZWF0ZUFwcGxpY2F0aW9uKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCl2b2lkIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHVuY292ZXIgMgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGRpZyA2CiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZGlnIDEKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTIyCiAgICAvLyBleHRyYVByb2dyYW1QYWdlczogMywKICAgIHB1c2hpbnQgMyAvLyAzCiAgICBpdHhuX2ZpZWxkIEV4dHJhUHJvZ3JhbVBhZ2VzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo0OTgKICAgIC8vIGNvbnN0IHN0YWtpbmdQb29sID0gY29tcGlsZUFyYzQoU3Rha2luZ1Bvb2wpCiAgICBwdXNoaW50IDMgLy8gMwogICAgaXR4bl9maWVsZCBHbG9iYWxOdW1CeXRlU2xpY2UKICAgIHB1c2hpbnQgMTEgLy8gMTEKICAgIGl0eG5fZmllbGQgR2xvYmFsTnVtVWludAogICAgcHVzaGJ5dGVzIGJhc2U2NChDNEVCUXc9PSkKICAgIGl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW1QYWdlcwogICAgdW5jb3ZlciAyCiAgICBpdHhuX2ZpZWxkIEFwcHJvdmFsUHJvZ3JhbVBhZ2VzCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFwcHJvdmFsUHJvZ3JhbVBhZ2VzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MTQKICAgIC8vIG9uQ29tcGxldGlvbjogT25Db21wbGV0ZUFjdGlvbi5Ob09wLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgT25Db21wbGV0aW9uCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MTMtNTMxCiAgICAvLyBpdHhuLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgb25Db21wbGV0aW9uOiBPbkNvbXBsZXRlQWN0aW9uLk5vT3AsCiAgICAvLyAgICAgYXBwcm92YWxQcm9ncmFtOiBbCiAgICAvLyAgICAgICAgIHRoaXMuc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0uZXh0cmFjdCgwLCA0MDk2KSwKICAgIC8vICAgICAgICAgdGhpcy5zdGFraW5nUG9vbEFwcHJvdmFsUHJvZ3JhbS5leHRyYWN0KDQwOTYsIHRoaXMuc3Rha2luZ1Bvb2xBcHByb3ZhbFByb2dyYW0ubGVuZ3RoIC0gNDA5NiksCiAgICAvLyAgICAgXSwKICAgIC8vICAgICBjbGVhclN0YXRlUHJvZ3JhbTogc3Rha2luZ1Bvb2wuY2xlYXJTdGF0ZVByb2dyYW0sCiAgICAvLyAgICAgZ2xvYmFsTnVtVWludDogc3Rha2luZ1Bvb2wuZ2xvYmFsVWludHMsCiAgICAvLyAgICAgZ2xvYmFsTnVtQnl0ZXM6IHN0YWtpbmdQb29sLmdsb2JhbEJ5dGVzLAogICAgLy8gICAgIGV4dHJhUHJvZ3JhbVBhZ2VzOiAzLAogICAgLy8gICAgIGFwcEFyZ3M6IFsKICAgIC8vICAgICAgICAgLy8gY3JlYXRpbmdDb250cmFjdElELCB2YWxpZGF0b3JJZCwgcG9vbElkLCBtaW5FbnRyeVN0YWtlCiAgICAvLyAgICAgICAgIG1ldGhvZFNlbGVjdG9yKCdjcmVhdGVBcHBsaWNhdGlvbih1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpdm9pZCcpLAogICAgLy8gICAgICAgICBvcC5pdG9iKEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCksCiAgICAvLyAgICAgICAgIG9wLml0b2IodmFsaWRhdG9ySWQpLAogICAgLy8gICAgICAgICBvcC5pdG9iKG51bVBvb2xzIGFzIHVpbnQ2NCksCiAgICAvLyAgICAgICAgIG9wLml0b2IodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWluRW50cnlTdGFrZSksCiAgICAvLyAgICAgXSwKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBwdXNoaW50IDYgLy8gNgogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTMzCiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnN0YXRlLm51bVBvb2xzID0gbmV3IFVpbnQxNihudW1Qb29scykKICAgIGR1cAogICAgYml0bGVuCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBkdXAKICAgIGV4dHJhY3QgNiAyCiAgICBkaWcgMwogICAgcHVzaGludCAyNDIgLy8gMjQyCiAgICBkaWcgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjUzNgogICAgLy8gY29uc3QgcG9vbEFwcElkID0gSVR4bi5jcmVhdGVkQXBwbGljYXRpb25JZC5pZAogICAgaXR4biBDcmVhdGVkQXBwbGljYXRpb25JRAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTM3CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzW251bVBvb2xzIC0gMV0ucG9vbEFwcElkID0gcG9vbEFwcElkCiAgICB1bmNvdmVyIDMKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkaWcgMQogICAgaXRvYgogICAgZGlnIDEKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgIDwKICAgIGFzc2VydCAvLyBpbmRleCBvdXQgb2YgYm91bmRzCiAgICBzd2FwCiAgICBpbnRjXzIgLy8gMTgKICAgICoKICAgIGludGMgNCAvLyAyNjgKICAgICsKICAgIHVuY292ZXIgNQogICAgc3dhcAogICAgZGlnIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1MzgKICAgIC8vIHRoaXMuYWRkUG9vbFRvTm9kZSh2YWxpZGF0b3JJZCwgcG9vbEFwcElkLCBub2RlTnVtKQogICAgdW5jb3ZlciA2CiAgICB1bmNvdmVyIDIKICAgIHVuY292ZXIgNgogICAgY2FsbHN1YiBhZGRQb29sVG9Ob2RlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NDAtNTQ0CiAgICAvLyBlbWl0PHJldGlPUF92YWxpZGF0b3JBZGRlZFBvb2w+KHsKICAgIC8vICAgICBpZDogdmFsaWRhdG9ySWQsCiAgICAvLyAgICAgbnVtOiBuZXcgVWludDE2KG51bVBvb2xzKSwKICAgIC8vICAgICBwb29sQXBwSWQ6IHBvb2xBcHBJZCwKICAgIC8vIH0pCiAgICBkaWcgMwogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgcHVzaGJ5dGVzIDB4ZmJjYzBmNmIgLy8gbWV0aG9kICJyZXRpT1BfdmFsaWRhdG9yQWRkZWRQb29sKHVpbnQ2NCx1aW50MTYsdWludDY0KSIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NDYKICAgIC8vIHJldHVybiB7IGlkOiB2YWxpZGF0b3JJZCwgcG9vbElkOiBudW1Qb29scyBhcyB1aW50NjQsIHBvb2xBcHBJZDogb3AuSVR4bi5jcmVhdGVkQXBwbGljYXRpb25JZC5pZCB9CiAgICBpdHhuIENyZWF0ZWRBcHBsaWNhdGlvbklECiAgICBjb3ZlciAyCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NDk3CiAgICAvLyBhZGRQb29sKG1iclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwgdmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgbm9kZU51bTogdWludDY0KTogVmFsaWRhdG9yUG9vbEtleSB7CiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmFkZFN0YWtlW3JvdXRpbmddKCkgLT4gdm9pZDoKYWRkU3Rha2U6CiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiA3CiAgICBieXRlY18yIC8vICIiCiAgICBkdXBuIDE0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NTgtNTYyCiAgICAvLyBhZGRTdGFrZSgKICAgIC8vICAgICBzdGFrZWRBbW91bnRQYXltZW50OiBndHhuLlBheW1lbnRUeG4sCiAgICAvLyAgICAgdmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwKICAgIC8vICAgICB2YWx1ZVRvVmVyaWZ5OiB1aW50NjQsCiAgICAvLyApOiBWYWxpZGF0b3JQb29sS2V5IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18xIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgZHVwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBidG9pCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NjMKICAgIC8vIGFzc2VydCh0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLmV4aXN0cywgInNwZWNpZmllZCB2YWxpZGF0b3IgaWQgaXNuJ3QgdmFsaWQiKQogICAgaXRvYgogICAgZHVwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXBuIDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU2MwogICAgLy8gYXNzZXJ0KHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkuZXhpc3RzLCAic3BlY2lmaWVkIHZhbGlkYXRvciBpZCBpc24ndCB2YWxpZCIpCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBzcGVjaWZpZWQgdmFsaWRhdG9yIGlkIGlzbid0IHZhbGlkCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NjYKICAgIC8vIGlmICh0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5zdW5zZXR0aW5nT24gPiAwKSB7CiAgICBib3hfZ2V0CiAgICBwb3AKICAgIGV4dHJhY3QgMCAyNDIKICAgIGludGMgMTEgLy8gMjI2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NjkKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLnN1bnNldHRpbmdPbiA+IEdsb2JhbC5sYXRlc3RUaW1lc3RhbXAsCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDAgMjQyCiAgICBpbnRjIDExIC8vIDIyNgogICAgZXh0cmFjdF91aW50NjQKICAgIGdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKICAgID4KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU2OC01NzEKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5zdW5zZXR0aW5nT24gPiBHbG9iYWwubGF0ZXN0VGltZXN0YW1wLAogICAgLy8gICAgICJjYW4ndCBzdGFrZSB3aXRoIGEgdmFsaWRhdG9yIHRoYXQgaXMgcGFzdCBpdHMgc3Vuc2V0dGluZyB0aW1lIiwKICAgIC8vICkKICAgIGFzc2VydCAvLyBjYW4ndCBzdGFrZSB3aXRoIGEgdmFsaWRhdG9yIHRoYXQgaXMgcGFzdCBpdHMgc3Vuc2V0dGluZyB0aW1lCgphZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NzQKICAgIC8vIGNvbnN0IHN0YWtlciA9IFR4bi5zZW5kZXIKICAgIHR4biBTZW5kZXIKICAgIGR1cAogICAgYnVyeSAyNAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTc4LTU4MQogICAgLy8gYXNzZXJ0TWF0Y2goc3Rha2VkQW1vdW50UGF5bWVudCwgewogICAgLy8gICAgIHNlbmRlcjogc3Rha2VyLAogICAgLy8gICAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vIH0pCiAgICBkaWcgNQogICAgZHVwCiAgICBjb3ZlciAyCiAgICBndHhucyBTZW5kZXIKICAgIGR1cAogICAgYnVyeSAyNAogICAgPT0KICAgIHN3YXAKICAgIGd0eG5zIFJlY2VpdmVyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1ODAKICAgIC8vIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1NzgtNTgxCiAgICAvLyBhc3NlcnRNYXRjaChzdGFrZWRBbW91bnRQYXltZW50LCB7CiAgICAvLyAgICAgc2VuZGVyOiBzdGFrZXIsCiAgICAvLyAgICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gfSkKICAgID09CiAgICAmJgogICAgYXNzZXJ0IC8vIGFzc2VydCB0YXJnZXQgaXMgbWF0Y2ggZm9yIGNvbmRpdGlvbnMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMjgKICAgIC8vIGNvbnN0IHR5cGUgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5lbnRyeUdhdGluZ1R5cGUKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMCAyNDIKICAgIHB1c2hpbnQgODAgLy8gODAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMjkKICAgIC8vIGlmICh0eXBlLmFzVWludDY0KCkgPT09IEdBVElOR19UWVBFX05PTkUpIHsKICAgIGdldGJ5dGUKICAgIGR1cAogICAgYnVyeSAxMAogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZG9lc1N0YWtlck1lZXRHYXRpbmdANTEKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMzIKICAgIC8vIGNvbnN0IHN0YWtlciA9IFR4bi5zZW5kZXIKICAgIHR4biBTZW5kZXIKICAgIGJ1cnkgMjIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMzMKICAgIC8vIGNvbnN0IGNvbmZpZyA9IGNsb25lKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnKQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBidXJ5IDI5CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIzNwogICAgLy8gdHlwZS5hc1VpbnQ2NCgpID09PSBHQVRJTkdfVFlQRV9BU1NFVFNfQ1JFQVRFRF9CWSB8fAogICAgZGlnIDgKICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgZHVwCiAgICBidXJ5IDkKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMzctMTIzOAogICAgLy8gdHlwZS5hc1VpbnQ2NCgpID09PSBHQVRJTkdfVFlQRV9BU1NFVFNfQ1JFQVRFRF9CWSB8fAogICAgLy8gdHlwZS5hc1VpbnQ2NCgpID09PSBHQVRJTkdfVFlQRV9BU1NFVF9JRCB8fAogICAgYm56IGFkZFN0YWtlX2lmX2JvZHlAMjkKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMzgKICAgIC8vIHR5cGUuYXNVaW50NjQoKSA9PT0gR0FUSU5HX1RZUEVfQVNTRVRfSUQgfHwKICAgIGRpZyA4CiAgICBwdXNoaW50IDIgLy8gMgogICAgPT0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMzctMTIzOAogICAgLy8gdHlwZS5hc1VpbnQ2NCgpID09PSBHQVRJTkdfVFlQRV9BU1NFVFNfQ1JFQVRFRF9CWSB8fAogICAgLy8gdHlwZS5hc1VpbnQ2NCgpID09PSBHQVRJTkdfVFlQRV9BU1NFVF9JRCB8fAogICAgYm56IGFkZFN0YWtlX2lmX2JvZHlAMjkKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMzkKICAgIC8vIHR5cGUuYXNVaW50NjQoKSA9PT0gR0FUSU5HX1RZUEVfQ1JFQVRFRF9CWV9ORkRfQUREUkVTU0VTCiAgICBkaWcgOAogICAgcHVzaGludCAzIC8vIDMKICAgID09CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjM3LTEyMzkKICAgIC8vIHR5cGUuYXNVaW50NjQoKSA9PT0gR0FUSU5HX1RZUEVfQVNTRVRTX0NSRUFURURfQlkgfHwKICAgIC8vIHR5cGUuYXNVaW50NjQoKSA9PT0gR0FUSU5HX1RZUEVfQVNTRVRfSUQgfHwKICAgIC8vIHR5cGUuYXNVaW50NjQoKSA9PT0gR0FUSU5HX1RZUEVfQ1JFQVRFRF9CWV9ORkRfQUREUkVTU0VTCiAgICBieiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDMyCgphZGRTdGFrZV9pZl9ib2R5QDI5OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI0MQogICAgLy8gYXNzZXJ0KHZhbHVlVG9WZXJpZnkgIT09IDApCiAgICBkaWcgMgogICAgYXNzZXJ0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjQyCiAgICAvLyBsZXQgYmFsUmVxdWlyZWQgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5nYXRpbmdBc3NldE1pbkJhbGFuY2UKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMCAyNDIKICAgIHB1c2hpbnQgMTQ1IC8vIDE0NQogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSAyMQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI0MwogICAgLy8gaWYgKGJhbFJlcXVpcmVkID09PSAwKSB7CiAgICBibnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAzMQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI0NAogICAgLy8gYmFsUmVxdWlyZWQgPSAxCiAgICBpbnRjXzEgLy8gMQogICAgYnVyeSAyMAoKYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAzMToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNDcKICAgIC8vIG9wLkFzc2V0SG9sZGluZy5hc3NldEJhbGFuY2Uoc3Rha2VyLCB2YWx1ZVRvVmVyaWZ5KVswXSA+PSBiYWxSZXF1aXJlZCwKICAgIGRpZyAyMQogICAgZGlnIDMKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgcG9wCiAgICBkaWcgMjAKICAgID49CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjQ2LTEyNDkKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBvcC5Bc3NldEhvbGRpbmcuYXNzZXRCYWxhbmNlKHN0YWtlciwgdmFsdWVUb1ZlcmlmeSlbMF0gPj0gYmFsUmVxdWlyZWQsCiAgICAvLyAgICAgJ211c3QgaGF2ZSByZXF1aXJlZCBtaW5pbXVtIGJhbGFuY2Ugb2YgdmFsaWRhdG9yIGRlZmluZWQgdG9rZW4gdG8gYWRkIHN0YWtlJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBtdXN0IGhhdmUgcmVxdWlyZWQgbWluaW11bSBiYWxhbmNlIG9mIHZhbGlkYXRvciBkZWZpbmVkIHRva2VuIHRvIGFkZCBzdGFrZQoKYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAzMjoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNTEKICAgIC8vIGlmICh0eXBlLmFzVWludDY0KCkgPT09IEdBVElOR19UWVBFX0FTU0VUU19DUkVBVEVEX0JZKSB7CiAgICBkaWcgNwogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAzNAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI1MwogICAgLy8gQXNzZXQodmFsdWVUb1ZlcmlmeSkuY3JlYXRvciA9PT0gY29uZmlnLmVudHJ5R2F0aW5nQWRkcmVzcywKICAgIGRpZyAyCiAgICBhc3NldF9wYXJhbXNfZ2V0IEFzc2V0Q3JlYXRvcgogICAgYXNzZXJ0IC8vIGFzc2V0IGV4aXN0cwogICAgZGlnIDI4CiAgICBleHRyYWN0IDAgMjQyCiAgICBleHRyYWN0IDgxIDMyCiAgICA9PQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI1Mi0xMjU1CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgICAgQXNzZXQodmFsdWVUb1ZlcmlmeSkuY3JlYXRvciA9PT0gY29uZmlnLmVudHJ5R2F0aW5nQWRkcmVzcywKICAgIC8vICAgICAnc3BlY2lmaWVkIGFzc2V0IG11c3QgYmUgY3JlYXRlZCBieSBjcmVhdG9yIHRoYXQgdGhlIHZhbGlkYXRvciBkZWZpbmVkIGFzIGEgcmVxdWlyZW1lbnQgdG8gc3Rha2UnLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIHNwZWNpZmllZCBhc3NldCBtdXN0IGJlIGNyZWF0ZWQgYnkgY3JlYXRvciB0aGF0IHRoZSB2YWxpZGF0b3IgZGVmaW5lZCBhcyBhIHJlcXVpcmVtZW50IHRvIHN0YWtlCgphZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDM0OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI1NwogICAgLy8gaWYgKHR5cGUuYXNVaW50NjQoKSA9PT0gR0FUSU5HX1RZUEVfQVNTRVRfSUQpIHsKICAgIGRpZyA4CiAgICBwdXNoaW50IDIgLy8gMgogICAgPT0KICAgIGJ6IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VANDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNTgKICAgIC8vIGxldCBmb3VuZCA9IGZhbHNlCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxOAogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMTMKCmFkZFN0YWtlX2Zvcl9oZWFkZXJAMzY6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjU5CiAgICAvLyBmb3IgKGNvbnN0IGFzc2V0SWQgb2YgY29uZmlnLmVudHJ5R2F0aW5nQXNzZXRzKSB7CiAgICBkaWcgMTIKICAgIHB1c2hpbnQgNCAvLyA0CiAgICA8CiAgICBieiBhZGRTdGFrZV9ibG9ja0A0MQogICAgZGlnIDI3CiAgICBleHRyYWN0IDAgMjQyCiAgICBleHRyYWN0IDExMyAzMgogICAgZGlnIDEzCiAgICBpbnRjXzMgLy8gOAogICAgKgogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNjAKICAgIC8vIGlmICh2YWx1ZVRvVmVyaWZ5ID09PSBhc3NldElkKSB7CiAgICBkaWcgMwogICAgPT0KICAgIGJ6IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMzkKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNjEKICAgIC8vIGZvdW5kID0gdHJ1ZQogICAgaW50Y18xIC8vIDEKICAgIGJ1cnkgMTgKCmFkZFN0YWtlX2Jsb2NrQDQxOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI2NQogICAgLy8gYXNzZXJ0KGZvdW5kLCAnc3BlY2lmaWVkIGFzc2V0IG11c3QgYmUgaWRlbnRpY2FsIHRvIHRoZSBhc3NldCBpZCBkZWZpbmVkIGFzIGEgcmVxdWlyZW1lbnQgdG8gc3Rha2UnKQogICAgZGlnIDE3CiAgICBhc3NlcnQgLy8gc3BlY2lmaWVkIGFzc2V0IG11c3QgYmUgaWRlbnRpY2FsIHRvIHRoZSBhc3NldCBpZCBkZWZpbmVkIGFzIGEgcmVxdWlyZW1lbnQgdG8gc3Rha2UKCmFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VANDI6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjY3CiAgICAvLyBpZiAodHlwZS5hc1VpbnQ2NCgpID09PSBHQVRJTkdfVFlQRV9DUkVBVEVEX0JZX05GRF9BRERSRVNTRVMpIHsKICAgIGRpZyA4CiAgICBwdXNoaW50IDMgLy8gMwogICAgPT0KICAgIGJ6IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VANDQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNzEKICAgIC8vIHRoaXMuaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0KGNvbmZpZy5lbnRyeUdhdGluZ0Fzc2V0c1swXSwgQXNzZXQodmFsdWVUb1ZlcmlmeSkuY3JlYXRvciksCiAgICBkaWcgMjcKICAgIGV4dHJhY3QgMCAyNDIKICAgIGV4dHJhY3QgMTEzIDMyCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAzCiAgICBhc3NldF9wYXJhbXNfZ2V0IEFzc2V0Q3JlYXRvcgogICAgYXNzZXJ0IC8vIGFzc2V0IGV4aXN0cwogICAgY2FsbHN1YiBpc0FkZHJlc3NJbk5GRENBQWxnb0xpc3QKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyNzAtMTI3MwogICAgLy8gYXNzZXJ0KAogICAgLy8gICAgIHRoaXMuaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0KGNvbmZpZy5lbnRyeUdhdGluZ0Fzc2V0c1swXSwgQXNzZXQodmFsdWVUb1ZlcmlmeSkuY3JlYXRvciksCiAgICAvLyAgICAgJ3NwZWNpZmllZCBhc3NldCBtdXN0IGJlIGNyZWF0ZWQgYnkgY3JlYXRvciB0aGF0IGlzIG9uZSBvZiB0aGUgbGlua2VkIGFkZHJlc3NlcyBpbiBhbiBuZmQnLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIHNwZWNpZmllZCBhc3NldCBtdXN0IGJlIGNyZWF0ZWQgYnkgY3JlYXRvciB0aGF0IGlzIG9uZSBvZiB0aGUgbGlua2VkIGFkZHJlc3NlcyBpbiBhbiBuZmQKCmFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VANDQ6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjc1CiAgICAvLyBpZiAodHlwZS5hc1VpbnQ2NCgpID09PSBHQVRJTkdfVFlQRV9TRUdNRU5UX09GX05GRCkgewogICAgZGlnIDgKICAgIHB1c2hpbnQgNCAvLyA0CiAgICA9PQogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZG9lc1N0YWtlck1lZXRHYXRpbmdANTEKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyODIKICAgIC8vIG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKHVzZXJPZmZlcmVkTkZEQXBwSUQsIEJ5dGVzKCdpLm93bmVyLmEnKSlbMF0gPT09IGVuY29kZUFyYzQoc3Rha2VyKSB8fAogICAgZGlnIDIKICAgIGJ5dGVjIDkgLy8gImkub3duZXIuYSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIGRpZyAyMgogICAgPT0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyODItMTI4MwogICAgLy8gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXModXNlck9mZmVyZWRORkRBcHBJRCwgQnl0ZXMoJ2kub3duZXIuYScpKVswXSA9PT0gZW5jb2RlQXJjNChzdGFrZXIpIHx8CiAgICAvLyAgICAgdGhpcy5pc0FkZHJlc3NJbk5GRENBQWxnb0xpc3QodXNlck9mZmVyZWRORkRBcHBJRCwgc3Rha2VyKSwKICAgIGJueiBhZGRTdGFrZV9ib29sX3RydWVANDcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyODMKICAgIC8vIHRoaXMuaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0KHVzZXJPZmZlcmVkTkZEQXBwSUQsIHN0YWtlciksCiAgICBkaWcgMgogICAgZGlnIDIyCiAgICBjYWxsc3ViIGlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI4Mi0xMjgzCiAgICAvLyBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyh1c2VyT2ZmZXJlZE5GREFwcElELCBCeXRlcygnaS5vd25lci5hJykpWzBdID09PSBlbmNvZGVBcmM0KHN0YWtlcikgfHwKICAgIC8vICAgICB0aGlzLmlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdCh1c2VyT2ZmZXJlZE5GREFwcElELCBzdGFrZXIpLAogICAgYnogYWRkU3Rha2VfYm9vbF9mYWxzZUA0OAoKYWRkU3Rha2VfYm9vbF90cnVlQDQ3OgogICAgaW50Y18xIC8vIDEKCmFkZFN0YWtlX2Jvb2xfbWVyZ2VANDk6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjgxLTEyODUKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyh1c2VyT2ZmZXJlZE5GREFwcElELCBCeXRlcygnaS5vd25lci5hJykpWzBdID09PSBlbmNvZGVBcmM0KHN0YWtlcikgfHwKICAgIC8vICAgICAgICAgdGhpcy5pc0FkZHJlc3NJbk5GRENBQWxnb0xpc3QodXNlck9mZmVyZWRORkRBcHBJRCwgc3Rha2VyKSwKICAgIC8vICAgICAicHJvdmlkZWQgbmZkIGZvciBlbnRyeSBpc24ndCBvd25lZCBvciBsaW5rZWQgdG8gdGhlIHN0YWtlciIsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gcHJvdmlkZWQgbmZkIGZvciBlbnRyeSBpc24ndCBvd25lZCBvciBsaW5rZWQgdG8gdGhlIHN0YWtlcgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI4OQogICAgLy8gb3AuYnRvaShvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyh1c2VyT2ZmZXJlZE5GREFwcElELCBCeXRlcygnaS5wYXJlbnRBcHBJRCcpKVswXSkgPT09CiAgICBkaWcgMgogICAgcHVzaGJ5dGVzICJpLnBhcmVudEFwcElEIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgYnRvaQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTI5MAogICAgLy8gY29uZmlnLmVudHJ5R2F0aW5nQXNzZXRzWzBdLAogICAgZGlnIDI4CiAgICBleHRyYWN0IDAgMjQyCiAgICBleHRyYWN0IDExMyAzMgogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjg5LTEyOTAKICAgIC8vIG9wLmJ0b2kob3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXModXNlck9mZmVyZWRORkRBcHBJRCwgQnl0ZXMoJ2kucGFyZW50QXBwSUQnKSlbMF0pID09PQogICAgLy8gICAgIGNvbmZpZy5lbnRyeUdhdGluZ0Fzc2V0c1swXSwKICAgID09CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjg4LTEyOTIKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBvcC5idG9pKG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKHVzZXJPZmZlcmVkTkZEQXBwSUQsIEJ5dGVzKCdpLnBhcmVudEFwcElEJykpWzBdKSA9PT0KICAgIC8vICAgICAgICAgY29uZmlnLmVudHJ5R2F0aW5nQXNzZXRzWzBdLAogICAgLy8gICAgICdzcGVjaWZpZWQgbmZkIG11c3QgYmUgYSBzZWdtZW50IG9mIHRoZSBuZmQgdGhlIHZhbGlkYXRvciBzcGVjaWZpZWQgYXMgYSByZXF1aXJlbWVudCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gc3BlY2lmaWVkIG5mZCBtdXN0IGJlIGEgc2VnbWVudCBvZiB0aGUgbmZkIHRoZSB2YWxpZGF0b3Igc3BlY2lmaWVkIGFzIGEgcmVxdWlyZW1lbnQKCmFkZFN0YWtlX2FmdGVyX2lubGluZWRfY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmRvZXNTdGFrZXJNZWV0R2F0aW5nQDUxOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTg4CiAgICAvLyBsZXQgcmVhbEFtb3VudCA9IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50CiAgICBkaWcgNAogICAgZ3R4bnMgQW1vdW50CiAgICBidXJ5IDExCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1ODkKICAgIC8vIGxldCBtYnJBbXRMZWZ0QmVoaW5kOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEyCiAgICAvLyBzdGFrZXJQb29sU2V0ID0gQm94TWFwPEFjY291bnQsIEZpeGVkQXJyYXk8VmFsaWRhdG9yUG9vbEtleSwgdHlwZW9mIE1BWF9QT09MU19QRVJfU1RBS0VSPj4oeyBrZXlQcmVmaXg6ICdzcHMnIH0pCiAgICBieXRlYyA2IC8vICJzcHMiCiAgICBkaWcgMjMKICAgIGNvbmNhdAogICAgZHVwCiAgICBidXJ5IDI3CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoyOTUKICAgIC8vIHJldHVybiAhdGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikuZXhpc3RzCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU5MQogICAgLy8gaWYgKHRoaXMuZG9lc1N0YWtlck5lZWRUb1BheU1CUihzdGFrZXIpKSB7CiAgICBieiBhZGRTdGFrZV9pZl9ib2R5QDQKICAgIGRpZyAxMAogICAgYnVyeSAxMAoKYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjAxCiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnN0YXRlLnRvdGFsQWxnb1N0YWtlZCArIHJlYWxBbW91bnQgPCB0aGlzLm1heEFsbG93ZWRTdGFrZSgpLAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAyNDIgMjYKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMTAKICAgIGR1cAogICAgY292ZXIgMgogICAgKwogICAgY2FsbHN1YiBtYXhBbGxvd2VkU3Rha2UKICAgIDwKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjYwMC02MDMKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnN0YXRlLnRvdGFsQWxnb1N0YWtlZCArIHJlYWxBbW91bnQgPCB0aGlzLm1heEFsbG93ZWRTdGFrZSgpLAogICAgLy8gICAgICd0b3RhbCBzdGFrZWQgZm9yIGFsbCBvZiBhIHZhbGlkYXRvcnMgcG9vbHMgbWF5IG5vdCBleGNlZWQgaGFyZCBjYXAnLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIHRvdGFsIHN0YWtlZCBmb3IgYWxsIG9mIGEgdmFsaWRhdG9ycyBwb29scyBtYXkgbm90IGV4Y2VlZCBoYXJkIGNhcAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjA3CiAgICAvLyBjb25zdCBmaW5kUmV0ID0gdGhpcy5maW5kUG9vbEZvclN0YWtlcih2YWxpZGF0b3JJZCwgc3Rha2VyLCByZWFsQW1vdW50KQogICAgZGlnIDQKICAgIGRpZyAyNAogICAgdW5jb3ZlciAyCiAgICBjYWxsc3ViIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjA4CiAgICAvLyBjb25zdCBwb29sS2V5ID0gY2xvbmUoZmluZFJldFswXSkKICAgIGR1cAogICAgZXh0cmFjdCAwIDI0CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJ1cnkgMjcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjYwOQogICAgLy8gY29uc3QgaXNOZXdTdGFrZXJUb1ZhbGlkYXRvciA9IGZpbmRSZXRbMV0KICAgIGR1cAogICAgaW50YyA5IC8vIDE5MgogICAgZ2V0Yml0CiAgICBidXJ5IDE2CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MTAKICAgIC8vIGNvbnN0IGlzTmV3U3Rha2VyVG9Qcm90b2NvbCA9IGZpbmRSZXRbMl0KICAgIHB1c2hpbnQgMTkzIC8vIDE5MwogICAgZ2V0Yml0CiAgICBidXJ5IDE2CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MTEKICAgIC8vIGlmIChwb29sS2V5LnBvb2xJZCA9PT0gMCkgewogICAgaW50Y18zIC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGJ1cnkgNwogICAgIQogICAgIQogICAgYXNzZXJ0IC8vIE5vIHBvb2wgYXZhaWxhYmxlIHdpdGggZnJlZSBzdGFrZS4gIFZhbGlkYXRvciBuZWVkcyB0byBhZGQgYW5vdGhlciBwb29sCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTQwCiAgICAvLyBhc3NlcnQodGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikuZXhpc3RzKQogICAgZGlnIDI1CiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTQyCiAgICAvLyBjb25zdCBwb29sU2V0ID0gY2xvbmUodGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikudmFsdWUpCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIGJ1cnkgMjQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNDMKICAgIC8vIGxldCBmaXJzdEVtcHR5OiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxOQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE0NAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxNwoKYWRkU3Rha2Vfd2hpbGVfdG9wQDc6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTQ0CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGRpZyAyNQogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZGlnIDE2CiAgICBwdXNoaW50IDYgLy8gNgogICAgPAogICAgYnogYWRkU3Rha2VfYWZ0ZXJfd2hpbGVAMTYKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNDYKICAgIC8vIHBvb2xTZXRbaV0uaWQgPT09IHBvb2xLZXkuaWQgJiYKICAgIGRpZyAxNgogICAgcHVzaGludCAyNCAvLyAyNAogICAgKgogICAgZGlnIDI0CiAgICBzd2FwCiAgICBwdXNoaW50IDI0IC8vIDI0CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgYnVyeSAyOAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGJ1cnkgOAogICAgZGlnIDI1CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgID09CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTQ2LTExNDcKICAgIC8vIHBvb2xTZXRbaV0uaWQgPT09IHBvb2xLZXkuaWQgJiYKICAgIC8vIHBvb2xTZXRbaV0ucG9vbElkID09PSBwb29sS2V5LnBvb2xJZCAmJgogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAxMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE0NwogICAgLy8gcG9vbFNldFtpXS5wb29sSWQgPT09IHBvb2xLZXkucG9vbElkICYmCiAgICBkaWcgMjYKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNDYtMTE0NwogICAgLy8gcG9vbFNldFtpXS5pZCA9PT0gcG9vbEtleS5pZCAmJgogICAgLy8gcG9vbFNldFtpXS5wb29sSWQgPT09IHBvb2xLZXkucG9vbElkICYmCiAgICBpbnRjXzMgLy8gOAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE0NwogICAgLy8gcG9vbFNldFtpXS5wb29sSWQgPT09IHBvb2xLZXkucG9vbElkICYmCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDYKICAgID09CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTQ2LTExNDcKICAgIC8vIHBvb2xTZXRbaV0uaWQgPT09IHBvb2xLZXkuaWQgJiYKICAgIC8vIHBvb2xTZXRbaV0ucG9vbElkID09PSBwb29sS2V5LnBvb2xJZCAmJgogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAxMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE0OAogICAgLy8gcG9vbFNldFtpXS5wb29sQXBwSWQgPT09IHBvb2xLZXkucG9vbEFwcElkCiAgICBkaWcgMjYKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMjUKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICA9PQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE0Ni0xMTQ4CiAgICAvLyBwb29sU2V0W2ldLmlkID09PSBwb29sS2V5LmlkICYmCiAgICAvLyBwb29sU2V0W2ldLnBvb2xJZCA9PT0gcG9vbEtleS5wb29sSWQgJiYKICAgIC8vIHBvb2xTZXRbaV0ucG9vbEFwcElkID09PSBwb29sS2V5LnBvb2xBcHBJZAogICAgYm56IGFkZFN0YWtlX2FmdGVyX2lubGluZWRfY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnVwZGF0ZVN0YWtlclBvb2xTZXRAMTcKCmFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMTI6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTUzCiAgICAvLyBpZiAoZmlyc3RFbXB0eSA9PT0gMCAmJiBwb29sU2V0W2ldLmlkID09PSAwKSB7CiAgICBkaWcgMTgKICAgIGJueiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDE1CiAgICBkaWcgNgogICAgYm56IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMTUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNTQKICAgIC8vIGZpcnN0RW1wdHkgPSBpICsgMQogICAgZGlnIDE2CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxOQoKYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAxNToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNDQKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgZGlnIDE2CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxNwogICAgYiBhZGRTdGFrZV93aGlsZV90b3BANwoKYWRkU3Rha2VfYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkudXBkYXRlU3Rha2VyUG9vbFNldEAxNzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMDAKICAgIC8vIGNvbnN0IHBvb2xBcHBJZCA9IHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnBvb2xBcHBJZAogICAgZGlnIDI0CiAgICBleHRyYWN0IDAgOAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBidXJ5IDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMDAKICAgIC8vIGNvbnN0IHBvb2xBcHBJZCA9IHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnBvb2xBcHBJZAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZGlnIDcKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBzd2FwCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgZGlnIDEKICAgIGludGNfMiAvLyAxOAogICAgKgogICAgc3dhcAogICAgZGlnIDEKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMDQtMTExNgogICAgLy8gYWJpQ2FsbDx0eXBlb2YgU3Rha2luZ1Bvb2wucHJvdG90eXBlLmFkZFN0YWtlPih7CiAgICAvLyAgICAgYXBwSWQ6IEFwcGxpY2F0aW9uKHBvb2xBcHBJZCksCiAgICAvLyAgICAgYXJnczogWwogICAgLy8gICAgICAgICAvLyA9PT09PT09CiAgICAvLyAgICAgICAgIC8vIFRISVMgSVMgQSBTRU5EIG9mIHRoZSBhbW91bnQgcmVjZWl2ZWQgcmlnaHQgYmFjayBvdXQgYW5kIGludG8gdGhlIHN0YWtpbmcgcG9vbCBjb250cmFjdCBhY2NvdW50LgogICAgLy8gICAgICAgICBpdHhuLnBheW1lbnQoewogICAgLy8gICAgICAgICAgICAgYW1vdW50OiBzdGFrZWRBbW91bnRQYXltZW50LmFtb3VudCAtIG1ickFtdFBhaWQsCiAgICAvLyAgICAgICAgICAgICByZWNlaXZlcjogQXBwbGljYXRpb24ocG9vbEFwcElkKS5hZGRyZXNzLAogICAgLy8gICAgICAgICB9KSwKICAgIC8vICAgICAgICAgLy8gPT09PT09PQogICAgLy8gICAgICAgICBzdGFrZWRBbW91bnRQYXltZW50LnNlbmRlciwKICAgIC8vICAgICBdLAogICAgLy8gfSkKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMTAKICAgIC8vIGFtb3VudDogc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQgLSBtYnJBbXRQYWlkLAogICAgZGlnIDE0CiAgICBkaWcgMTYKICAgIC0KICAgIGR1cAogICAgY292ZXIgMgogICAgYnVyeSAyMQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTExMQogICAgLy8gcmVjZWl2ZXI6IEFwcGxpY2F0aW9uKHBvb2xBcHBJZCkuYWRkcmVzcywKICAgIGR1cAogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgc3dhcAogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMDktMTExMgogICAgLy8gaXR4bi5wYXltZW50KHsKICAgIC8vICAgICBhbW91bnQ6IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50IC0gbWJyQW10UGFpZCwKICAgIC8vICAgICByZWNlaXZlcjogQXBwbGljYXRpb24ocG9vbEFwcElkKS5hZGRyZXNzLAogICAgLy8gfSksCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTA0LTExMTYKICAgIC8vIGFiaUNhbGw8dHlwZW9mIFN0YWtpbmdQb29sLnByb3RvdHlwZS5hZGRTdGFrZT4oewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbihwb29sQXBwSWQpLAogICAgLy8gICAgIGFyZ3M6IFsKICAgIC8vICAgICAgICAgLy8gPT09PT09PQogICAgLy8gICAgICAgICAvLyBUSElTIElTIEEgU0VORCBvZiB0aGUgYW1vdW50IHJlY2VpdmVkIHJpZ2h0IGJhY2sgb3V0IGFuZCBpbnRvIHRoZSBzdGFraW5nIHBvb2wgY29udHJhY3QgYWNjb3VudC4KICAgIC8vICAgICAgICAgaXR4bi5wYXltZW50KHsKICAgIC8vICAgICAgICAgICAgIGFtb3VudDogc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQgLSBtYnJBbXRQYWlkLAogICAgLy8gICAgICAgICAgICAgcmVjZWl2ZXI6IEFwcGxpY2F0aW9uKHBvb2xBcHBJZCkuYWRkcmVzcywKICAgIC8vICAgICAgICAgfSksCiAgICAvLyAgICAgICAgIC8vID09PT09PT0KICAgIC8vICAgICAgICAgc3Rha2VkQW1vdW50UGF5bWVudC5zZW5kZXIsCiAgICAvLyAgICAgXSwKICAgIC8vIH0pCiAgICBpdHhuX25leHQKICAgIHB1c2hieXRlcyAweGY5YzcwY2JkIC8vIG1ldGhvZCAiYWRkU3Rha2UocGF5LGFkZHJlc3MpdWludDY0IgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGRpZyAyNAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGR1cAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgZ2l0eG4gMSBMYXN0TG9nCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMTcKICAgIC8vIGVuc3VyZUJ1ZGdldCg1MDApCiAgICBwdXNoaW50IDUwMCAvLyA1MDAKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMjAKICAgIC8vIGNvbnN0IFtwb29sTnVtU3Rha2VycywgbnVtU3Rha2Vyc0RlZmluZWRdID0gb3AuQXBwR2xvYmFsLmdldEV4VWludDY0KHBvb2xBcHBJZCwgQnl0ZXMoJ251bVN0YWtlcnMnKSkKICAgIGR1cAogICAgYnl0ZWMgNCAvLyAibnVtU3Rha2VycyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTIxCiAgICAvLyBjb25zdCBbcG9vbEFsZ29TdGFrZWQsIHN0YWtlZERlZmluZWRdID0gb3AuQXBwR2xvYmFsLmdldEV4VWludDY0KHBvb2xBcHBJZCwgQnl0ZXMoJ3N0YWtlZCcpKQogICAgdW5jb3ZlciAyCiAgICBieXRlY18zIC8vICJzdGFrZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEyMgogICAgLy8gYXNzZXJ0KG51bVN0YWtlcnNEZWZpbmVkKQogICAgdW5jb3ZlciAyCiAgICBhc3NlcnQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMjMKICAgIC8vIGFzc2VydChzdGFrZWREZWZpbmVkKQogICAgYXNzZXJ0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTI1CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXS50b3RhbFN0YWtlcnMgPSBuZXcgVWludDE2KHBvb2xOdW1TdGFrZXJzKQogICAgc3dhcAogICAgaXRvYgogICAgZHVwCiAgICBiaXRsZW4KICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNiAyCiAgICB1bmNvdmVyIDMKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgIDwKICAgIGFzc2VydCAvLyBpbmRleCBvdXQgb2YgYm91bmRzCiAgICBkaWcgMgogICAgcHVzaGludCAyNzYgLy8gMjc2CiAgICArCiAgICBkaWcgNAogICAgc3dhcAogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEyNgogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnBvb2xzW3Bvb2xLZXkucG9vbElkIC0gMV0udG90YWxBbGdvU3Rha2VkID0gcG9vbEFsZ29TdGFrZWQKICAgIGl0b2IKICAgIHN3YXAKICAgIGludGMgMTMgLy8gMjc4CiAgICArCiAgICBzd2FwCiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEyOQogICAgLy8gaWYgKGlzTmV3U3Rha2VyVG9WYWxpZGF0b3IpIHsKICAgIGRpZyAxMwogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAyMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEzMAogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnN0YXRlLnRvdGFsU3Rha2VycyArPSAxCiAgICBkdXBuIDIKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDI0MiAyNgogICAgcHVzaGludCAyIC8vIDIKICAgIGV4dHJhY3RfdWludDY0CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgaXRvYgogICAgcHVzaGludCAyNDQgLy8gMjQ0CiAgICBzd2FwCiAgICBib3hfcmVwbGFjZQoKYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAyMDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMzIKICAgIC8vIGlmIChpc05ld1N0YWtlclRvUHJvdG9jb2wpIHsKICAgIGRpZyAxNAogICAgYnogYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUAyMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEzMwogICAgLy8gdGhpcy5udW1TdGFrZXJzLnZhbHVlICs9IDEKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDEKICAgIC8vIG51bVN0YWtlcnMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbnVtU3Rha2VycycgfSkKICAgIGJ5dGVjIDQgLy8gIm51bVN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTMzCiAgICAvLyB0aGlzLm51bVN0YWtlcnMudmFsdWUgKz0gMQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMSAvLyAxCiAgICArCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDEKICAgIC8vIG51bVN0YWtlcnMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbnVtU3Rha2VycycgfSkKICAgIGJ5dGVjIDQgLy8gIm51bVN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTMzCiAgICAvLyB0aGlzLm51bVN0YWtlcnMudmFsdWUgKz0gMQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKCmFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAMjI6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTM1CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUuc3RhdGUudG90YWxBbGdvU3Rha2VkICs9IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50IC0gbWJyQW10UGFpZAogICAgZHVwbiAyCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAyNDIgMjYKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMTcKICAgIGR1cAogICAgY292ZXIgMgogICAgKwogICAgaXRvYgogICAgdW5jb3ZlciAyCiAgICBpbnRjIDE0IC8vIDI1MgogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEzNgogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgKz0gc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQgLSBtYnJBbXRQYWlkCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA0CiAgICAvLyB0b3RhbEFsZ29TdGFrZWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnc3Rha2VkJyB9KQogICAgYnl0ZWNfMyAvLyAic3Rha2VkIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEzNgogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgKz0gc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQgLSBtYnJBbXRQYWlkCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgKwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA0CiAgICAvLyB0b3RhbEFsZ29TdGFrZWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnc3Rha2VkJyB9KQogICAgYnl0ZWNfMyAvLyAic3Rha2VkIgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTEzNgogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgKz0gc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQgLSBtYnJBbXRQYWlkCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjI4CiAgICAvLyBwb29sTnVtOiBuZXcgVWludDE2KHBvb2xLZXkucG9vbElkKSwKICAgIGRpZyA1CiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgcHVzaGludCAxNiAvLyAxNgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZXh0cmFjdCA2IDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjYyOQogICAgLy8gcG9vbEFwcElkOiBwb29sS2V5LnBvb2xBcHBJZCwKICAgIGRpZyAyNQogICAgZHVwCiAgICBjb3ZlciAyCiAgICBleHRyYWN0IDE2IDgKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjYyNi02MzIKICAgIC8vIGVtaXQ8cmV0aU9QX3N0YWtlQWRkZWQ+KHsKICAgIC8vICAgICBpZDogdmFsaWRhdG9ySWQsCiAgICAvLyAgICAgcG9vbE51bTogbmV3IFVpbnQxNihwb29sS2V5LnBvb2xJZCksCiAgICAvLyAgICAgcG9vbEFwcElkOiBwb29sS2V5LnBvb2xBcHBJZCwKICAgIC8vICAgICBhbW91bnRTdGFrZWQ6IHJlYWxBbW91bnQsCiAgICAvLyAgICAgc3Rha2VyOiBzdGFrZXIsCiAgICAvLyB9KQogICAgZGlnIDQKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGRpZyAyNAogICAgY29uY2F0CiAgICBkaWcgMTEKICAgIGl0b2IKICAgIGNvbmNhdAogICAgcHVzaGJ5dGVzIDB4OTYyYjQxNDMgLy8gbWV0aG9kICJyZXRpT1Bfc3Rha2VBZGRlZCh1aW50NjQsdWludDE2LHVpbnQ2NCxhZGRyZXNzLHVpbnQ2NCkiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTU4LTU2MgogICAgLy8gYWRkU3Rha2UoCiAgICAvLyAgICAgc3Rha2VkQW1vdW50UGF5bWVudDogZ3R4bi5QYXltZW50VHhuLAogICAgLy8gICAgIHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsCiAgICAvLyAgICAgdmFsdWVUb1ZlcmlmeTogdWludDY0LAogICAgLy8gKTogVmFsaWRhdG9yUG9vbEtleSB7CiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgphZGRTdGFrZV9hZnRlcl93aGlsZUAxNjoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNTcKICAgIC8vIGlmIChmaXJzdEVtcHR5ID09PSAwKSB7CiAgICBkaWcgMTgKICAgIGR1cAogICAgIQogICAgIQogICAgYXNzZXJ0IC8vIE5vIGVtcHR5IHNsb3QgYXZhaWxhYmxlIGluIHRoZSBzdGFrZXIgcG9vbCBzZXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNjAKICAgIC8vIHRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLnZhbHVlW2ZpcnN0RW1wdHkgLSAxXSA9IGNsb25lKHBvb2xLZXkpCiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgcHVzaGludCAyNCAvLyAyNAogICAgKgogICAgZGlnIDI2CiAgICBzd2FwCiAgICBkaWcgMjYKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2MTYKICAgIC8vIHRoaXMudXBkYXRlU3Rha2VyUG9vbFNldChzdGFrZXIsIHBvb2xLZXkpCiAgICBiIGFkZFN0YWtlX2FmdGVyX2lubGluZWRfY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnVwZGF0ZVN0YWtlclBvb2xTZXRAMTcKCmFkZFN0YWtlX2lmX2JvZHlANDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjU5NAogICAgLy8gbWJyQW10TGVmdEJlaGluZCA9IHRoaXMuZ2V0TWJyQW1vdW50cygpLmFkZFN0YWtlck1icgogICAgaW50YyAxNSAvLyA3NDEwMAogICAgYnVyeSAxMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTk1CiAgICAvLyByZWFsQW1vdW50IC09IG1ickFtdExlZnRCZWhpbmQKICAgIGRpZyAxMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTk0CiAgICAvLyBtYnJBbXRMZWZ0QmVoaW5kID0gdGhpcy5nZXRNYnJBbW91bnRzKCkuYWRkU3Rha2VyTWJyCiAgICBpbnRjIDE1IC8vIDc0MTAwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo1OTUKICAgIC8vIHJlYWxBbW91bnQgLT0gbWJyQW10TGVmdEJlaGluZAogICAgLQogICAgYnVyeSAxMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NTk2CiAgICAvLyB0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS5jcmVhdGUoKQogICAgZGlnIDI1CiAgICBwdXNoaW50IDE0NCAvLyAxNDQKICAgIGJveF9jcmVhdGUKICAgIHBvcAogICAgYiBhZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDUKCmFkZFN0YWtlX2Jvb2xfZmFsc2VANDg6CiAgICBpbnRjXzAgLy8gMAogICAgYiBhZGRTdGFrZV9ib29sX21lcmdlQDQ5CgphZGRTdGFrZV9hZnRlcl9pZl9lbHNlQDM5OgogICAgZGlnIDEyCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxMwogICAgYiBhZGRTdGFrZV9mb3JfaGVhZGVyQDM2CgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnNldFRva2VuUGF5b3V0UmF0aW9bcm91dGluZ10oKSAtPiB2b2lkOgpzZXRUb2tlblBheW91dFJhdGlvOgogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzIgLy8gIiIKICAgIGR1cG4gMwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjUyCiAgICAvLyBzZXRUb2tlblBheW91dFJhdGlvKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBQb29sVG9rZW5QYXlvdXRSYXRpbyB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NTQKICAgIC8vIGNvbnN0IHBvb2wxQXBwSUQgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzWzBdLnBvb2xBcHBJZAogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NTQKICAgIC8vIGNvbnN0IHBvb2wxQXBwSUQgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzWzBdLnBvb2xBcHBJZAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBleHRyYWN0IDAgMTggLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cG4gMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjU1CiAgICAvLyBhc3NlcnQocG9vbDFBcHBJRCAhPT0gMCkKICAgIGFzc2VydAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjU3CiAgICAvLyBpZiAoVHhuLnNlbmRlciAhPT0gQXBwbGljYXRpb24ocG9vbDFBcHBJRCkuYWRkcmVzcykgewogICAgdHhuIFNlbmRlcgogICAgc3dhcAogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgIT0KICAgIGJ6IHNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NTgKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnRva2VuUGF5b3V0UmF0aW8KICAgIGRpZyAxCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50YyA3IC8vIDcwMAogICAgaW50YyA2IC8vIDIwMAogICAgZXh0cmFjdDMKCnNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuc2V0VG9rZW5QYXlvdXRSYXRpb0AxMzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY1MgogICAgLy8gc2V0VG9rZW5QYXlvdXRSYXRpbyh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogUG9vbFRva2VuUGF5b3V0UmF0aW8gewogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NjQKICAgIC8vIGNvbnN0IGN1clJvdW5kID0gR2xvYmFsLnJvdW5kCiAgICBnbG9iYWwgUm91bmQKICAgIGJ1cnkgNQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjY1CiAgICAvLyBjb25zdCBsYXN0UGF5b3V0VXBkYXRlID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS50b2tlblBheW91dFJhdGlvLnVwZGF0ZWRGb3JQYXlvdXQKICAgIGRpZyAxCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50YyA3IC8vIDcwMAogICAgaW50YyA2IC8vIDIwMAogICAgZXh0cmFjdDMKICAgIGludGMgOSAvLyAxOTIKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGJ1cnkgNAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjY2CiAgICAvLyBpZiAobGFzdFBheW91dFVwZGF0ZSAhPT0gMCkgewogICAgYnogc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl9pZl9lbHNlQDkKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY2OAogICAgLy8gaWYgKG9wLkFwcEdsb2JhbC5nZXRFeFVpbnQ2NChwb29sMUFwcElELCBCeXRlcygnbGFzdFBheW91dCcpKVswXSA9PT0gbGFzdFBheW91dFVwZGF0ZSkgewogICAgZHVwCiAgICBwdXNoYnl0ZXMgImxhc3RQYXlvdXQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICBkaWcgMwogICAgPT0KICAgIGJ6IHNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfaWZfZWxzZUA2CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NjkKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnRva2VuUGF5b3V0UmF0aW8KICAgIGRpZyAxCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50YyA3IC8vIDcwMAogICAgaW50YyA2IC8vIDIwMAogICAgZXh0cmFjdDMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY1MgogICAgLy8gc2V0VG9rZW5QYXlvdXRSYXRpbyh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogUG9vbFRva2VuUGF5b3V0UmF0aW8gewogICAgYiBzZXRUb2tlblBheW91dFJhdGlvX2FmdGVyX2lubGluZWRfY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnNldFRva2VuUGF5b3V0UmF0aW9AMTMKCnNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfaWZfZWxzZUA2OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjcxCiAgICAvLyBjb25zdCBlcG9jaFJvdW5kTGVuZ3RoID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcuZXBvY2hSb3VuZExlbmd0aC5hc1VpbnQ2NCgpCiAgICBkaWcgMQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMCAyNDIKICAgIHB1c2hpbnQgMTY5IC8vIDE2OQogICAgZXh0cmFjdF91aW50MzIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY3MgogICAgLy8gY29uc3QgdGhpc0Vwb2NoQmVnaW46IHVpbnQ2NCA9IGN1clJvdW5kIC0gKGN1clJvdW5kICUgZXBvY2hSb3VuZExlbmd0aCkKICAgIGRpZyA1CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGRpZyAxCiAgICAlCiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgIC0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY3NAogICAgLy8gaWYgKGxhc3RQYXlvdXRVcGRhdGUgLSAobGFzdFBheW91dFVwZGF0ZSAlIGVwb2NoUm91bmRMZW5ndGgpID09PSB0aGlzRXBvY2hCZWdpbikgewogICAgZGlnIDQKICAgIGR1cAogICAgdW5jb3ZlciAzCiAgICAlCiAgICAtCiAgICA9PQogICAgYnogc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl9pZl9lbHNlQDkKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY3NQogICAgLy8gcmV0dXJuIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUudG9rZW5QYXlvdXRSYXRpbwogICAgZGlnIDEKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBpbnRjIDcgLy8gNzAwCiAgICBpbnRjIDYgLy8gMjAwCiAgICBleHRyYWN0MwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjUyCiAgICAvLyBzZXRUb2tlblBheW91dFJhdGlvKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiBQb29sVG9rZW5QYXlvdXRSYXRpbyB7CiAgICBiIHNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuc2V0VG9rZW5QYXlvdXRSYXRpb0AxMwoKc2V0VG9rZW5QYXlvdXRSYXRpb19hZnRlcl9pZl9lbHNlQDk6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2NzgKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUudG9rZW5QYXlvdXRSYXRpby51cGRhdGVkRm9yUGF5b3V0ID0gY3VyUm91bmQKICAgIGRpZyA0CiAgICBpdG9iCiAgICBkaWcgMgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBwdXNoaW50IDg5MiAvLyA4OTIKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY4MAogICAgLy8gY29uc3QgY3VyTnVtUG9vbHMgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnN0YXRlLm51bVBvb2xzLmFzVWludDY0KCkKICAgIGJveF9nZXQKICAgIHBvcAogICAgZXh0cmFjdCAyNDIgMjYKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBidXJ5IDcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY4MQogICAgLy8gY29uc3QgdG90YWxTdGFrZUZvclZhbGlkYXRvciA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuc3RhdGUudG90YWxBbGdvU3Rha2VkCiAgICBleHRyYWN0IDEwIDgKICAgIGJ1cnkgNwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NjgyCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgY3VyTnVtUG9vbHM7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgNAoKc2V0VG9rZW5QYXlvdXRSYXRpb193aGlsZV90b3BAMTA6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2ODIKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBjdXJOdW1Qb29sczsgaSArPSAxKSB7CiAgICBkaWcgMwogICAgZGlnIDYKICAgIDwKICAgIGJ6IHNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfd2hpbGVAMTIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY4OAogICAgLy8gW3RoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHNbaV0udG90YWxBbGdvU3Rha2VkLCAxXzAwMF8wMDBdLAogICAgZGlnIDEKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBkaWcgNQogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpbnRjXzIgLy8gMTgKICAgICoKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBleHRyYWN0IDEwIDgKICAgIGJ5dGVjIDExIC8vIDB4MDAwMgogICAgc3dhcAogICAgY29uY2F0CiAgICBpbnRjIDEwIC8vIDEwMDAwMDAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Njg5CiAgICAvLyBbdG90YWxTdGFrZUZvclZhbGlkYXRvcl0sCiAgICBwdXNoYnl0ZXMgMHgwMDAxCiAgICBkaWcgMTAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Njg3LTY5MAogICAgLy8gY29uc3Qgb3VyUG9vbFBjdE9mV2hvbGUgPSB3aWRlUmF0aW8oCiAgICAvLyAgICAgW3RoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHNbaV0udG90YWxBbGdvU3Rha2VkLCAxXzAwMF8wMDBdLAogICAgLy8gICAgIFt0b3RhbFN0YWtlRm9yVmFsaWRhdG9yXSwKICAgIC8vICkKICAgIGNhbGxzdWIgd2lkZVJhdGlvCiAgICBwb3BuIDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY5MQogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS50b2tlblBheW91dFJhdGlvLnBvb2xQY3RPZldob2xlW2ldID0gb3VyUG9vbFBjdE9mV2hvbGUKICAgIGl0b2IKICAgIGRpZyAxCiAgICBwdXNoaW50IDI0IC8vIDI0CiAgICA8CiAgICBhc3NlcnQgLy8gaW5kZXggb3V0IG9mIGJvdW5kcwogICAgZGlnIDEKICAgIGludGNfMyAvLyA4CiAgICAqCiAgICBpbnRjIDcgLy8gNzAwCiAgICArCiAgICB1bmNvdmVyIDMKICAgIHN3YXAKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY4MgogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGN1ck51bVBvb2xzOyBpICs9IDEpIHsKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDQKICAgIGIgc2V0VG9rZW5QYXlvdXRSYXRpb193aGlsZV90b3BAMTAKCnNldFRva2VuUGF5b3V0UmF0aW9fYWZ0ZXJfd2hpbGVAMTI6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo2OTMKICAgIC8vIHJldHVybiB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnRva2VuUGF5b3V0UmF0aW8KICAgIGRpZyAxCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50YyA3IC8vIDcwMAogICAgaW50YyA2IC8vIDIwMAogICAgZXh0cmFjdDMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjY1MgogICAgLy8gc2V0VG9rZW5QYXlvdXRSYXRpbyh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogUG9vbFRva2VuUGF5b3V0UmF0aW8gewogICAgYiBzZXRUb2tlblBheW91dFJhdGlvX2FmdGVyX2lubGluZWRfY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LnNldFRva2VuUGF5b3V0UmF0aW9AMTMKCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuc3Rha2VVcGRhdGVkVmlhUmV3YXJkc1tyb3V0aW5nXSgpIC0+IHZvaWQ6CnN0YWtlVXBkYXRlZFZpYVJld2FyZHM6CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzA3LTcxMwogICAgLy8gc3Rha2VVcGRhdGVkVmlhUmV3YXJkcygKICAgIC8vICAgICBwb29sS2V5OiBWYWxpZGF0b3JQb29sS2V5LAogICAgLy8gICAgIGFsZ29Ub0FkZDogdWludDY0LAogICAgLy8gICAgIHJld2FyZFRva2VuQW1vdW50UmVzZXJ2ZWQ6IHVpbnQ2NCwKICAgIC8vICAgICB2YWxpZGF0b3JDb21taXNzaW9uOiB1aW50NjQsCiAgICAvLyAgICAgc2F0dXJhdGVkQnVyblRvRmVlU2luazogdWludDY0LAogICAgLy8gKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBidG9pCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgYnRvaQogICAgZHVwCiAgICBjb3ZlciAzCiAgICBjb3ZlciAzCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA0CiAgICBidG9pCiAgICBjb3ZlciAzCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA1CiAgICBidG9pCiAgICBjb3ZlciAzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MTQKICAgIC8vIHRoaXMudmVyaWZ5UG9vbEtleUNhbGxlcihwb29sS2V5KQogICAgY2FsbHN1YiB2ZXJpZnlQb29sS2V5Q2FsbGVyCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjcxNwogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnBvb2xzW3Bvb2xLZXkucG9vbElkIC0gMV0udG90YWxBbGdvU3Rha2VkICs9IGFsZ29Ub0FkZAogICAgZHVwCiAgICBleHRyYWN0IDAgOAogICAgZHVwCiAgICBjb3ZlciA0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIGNvdmVyIDQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjcxNwogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnBvb2xzW3Bvb2xLZXkucG9vbElkIC0gMV0udG90YWxBbGdvU3Rha2VkICs9IGFsZ29Ub0FkZAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgdW5jb3ZlciAyCiAgICBpbnRjXzMgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgY292ZXIgNQogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIHN3YXAKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBkaWcgMQogICAgaW50Y18yIC8vIDE4CiAgICAqCiAgICBzd2FwCiAgICBkaWcgMQogICAgaW50Y18yIC8vIDE4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgNAogICAgKwogICAgaXRvYgogICAgdW5jb3ZlciAyCiAgICBwdXNoaW50IDI0IC8vIDI0CiAgICA8CiAgICBhc3NlcnQgLy8gaW5kZXggb3V0IG9mIGJvdW5kcwogICAgc3dhcAogICAgaW50YyAxMyAvLyAyNzgKICAgICsKICAgIGRpZyAyCiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MTgKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5zdGF0ZS50b3RhbEFsZ29TdGFrZWQgKz0gYWxnb1RvQWRkCiAgICBkdXAKICAgIGJveF9nZXQKICAgIHBvcAogICAgZXh0cmFjdCAyNDIgMjYKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMgogICAgKwogICAgaXRvYgogICAgZGlnIDEKICAgIGludGMgMTQgLy8gMjUyCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MTkKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5zdGF0ZS5yZXdhcmRUb2tlbkhlbGRCYWNrICs9IHJld2FyZFRva2VuQW1vdW50UmVzZXJ2ZWQKICAgIGR1cAogICAgYm94X2dldAogICAgcG9wCiAgICBleHRyYWN0IDI0MiAyNgogICAgaW50Y18yIC8vIDE4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgdW5jb3ZlciAzCiAgICArCiAgICBpdG9iCiAgICBkaWcgMQogICAgcHVzaGludCAyNjAgLy8gMjYwCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MjEKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlICs9IGFsZ29Ub0FkZAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNAogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjXzMgLy8gInN0YWtlZCIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjcyMQogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgKz0gYWxnb1RvQWRkCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgdW5jb3ZlciAyCiAgICArCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDQKICAgIC8vIHRvdGFsQWxnb1N0YWtlZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdzdGFrZWQnIH0pCiAgICBieXRlY18zIC8vICJzdGFrZWQiCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MjEKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlICs9IGFsZ29Ub0FkZAogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMjkKICAgIC8vIGNvbnN0IHZhbGlkYXRvckNvbmZpZyA9IGNsb25lKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnKQogICAgYm94X2dldAogICAgcG9wCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDI5LTEwMzAKICAgIC8vIGNvbnN0IHZhbGlkYXRvckNvbmZpZyA9IGNsb25lKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnKQogICAgLy8gaWYgKHZhbGlkYXRvckNvbmZpZy5uZmRGb3JJbmZvICE9PSAwKSB7CiAgICBleHRyYWN0IDAgMjQyCiAgICBkdXAKICAgIHB1c2hpbnQgNzIgLy8gNzIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMzAKICAgIC8vIGlmICh2YWxpZGF0b3JDb25maWcubmZkRm9ySW5mbyAhPT0gMCkgewogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnogc3Rha2VVcGRhdGVkVmlhUmV3YXJkc19hZnRlcl9pZl9lbHNlQDUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMzQKICAgIC8vIGNvbnN0IG5mZE93bmVyID0gQWNjb3VudChvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyh2YWxpZGF0b3JDb25maWcubmZkRm9ySW5mbywgQnl0ZXMoJ2kub3duZXIuYScpKVswXSkKICAgIGR1cAogICAgYnl0ZWMgOSAvLyAiaS5vd25lci5hIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgZHVwCiAgICBidXJ5IDEyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDM3CiAgICAvLyBpZiAodmFsaWRhdG9yQ29uZmlnLm93bmVyICE9PSBuZmRPd25lciAmJiB2YWxpZGF0b3JDb25maWcubWFuYWdlciAhPT0gbmZkT3duZXIpIHsKICAgIGRpZyAyCiAgICBleHRyYWN0IDggMzIKICAgICE9CiAgICBieiBzdGFrZVVwZGF0ZWRWaWFSZXdhcmRzX2FmdGVyX2lmX2Vsc2VANQogICAgZGlnIDEKICAgIGV4dHJhY3QgNDAgMzIKICAgIGRpZyAxMQogICAgIT0KICAgIGJ6IHN0YWtlVXBkYXRlZFZpYVJld2FyZHNfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDM5CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5uZmRGb3JJbmZvID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0b2IKICAgIGRpZyA0CiAgICBwdXNoaW50IDcyIC8vIDcyCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCgpzdGFrZVVwZGF0ZWRWaWFSZXdhcmRzX2FmdGVyX2lmX2Vsc2VANToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjcyOAogICAgLy8gcG9vbE51bTogbmV3IFVpbnQxNihwb29sS2V5LnBvb2xJZCksCiAgICBkaWcgMgogICAgaXRvYgogICAgZHVwCiAgICBiaXRsZW4KICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNiAyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MjkKICAgIC8vIHBvb2xBcHBJZDogcG9vbEtleS5wb29sQXBwSWQsCiAgICBkaWcgNgogICAgZXh0cmFjdCAxNiA4CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3MjYtNzM0CiAgICAvLyBlbWl0PHJldGlPUF9lcG9jaFJld2FyZFVwZGF0ZT4oewogICAgLy8gICAgIGlkOiBwb29sS2V5LmlkLAogICAgLy8gICAgIHBvb2xOdW06IG5ldyBVaW50MTYocG9vbEtleS5wb29sSWQpLAogICAgLy8gICAgIHBvb2xBcHBJZDogcG9vbEtleS5wb29sQXBwSWQsCiAgICAvLyAgICAgYWxnb0FkZGVkOiBhbGdvVG9BZGQsCiAgICAvLyAgICAgcmV3YXJkVG9rZW5IZWxkQmFjazogcmV3YXJkVG9rZW5BbW91bnRSZXNlcnZlZCwKICAgIC8vICAgICBzYXR1cmF0ZWRCdXJuVG9GZWVTaW5rOiBzYXR1cmF0ZWRCdXJuVG9GZWVTaW5rLAogICAgLy8gICAgIHZhbGlkYXRvckNvbW1pc3Npb246IHZhbGlkYXRvckNvbW1pc3Npb24sCiAgICAvLyB9KQogICAgZGlnIDYKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGRpZyA4CiAgICBpdG9iCiAgICBjb25jYXQKICAgIGRpZyA3CiAgICBpdG9iCiAgICBjb25jYXQKICAgIGRpZyAxMAogICAgaXRvYgogICAgY29uY2F0CiAgICBkaWcgOQogICAgaXRvYgogICAgY29uY2F0CiAgICBwdXNoYnl0ZXMgMHhiM2U0N2MzZCAvLyBtZXRob2QgInJldGlPUF9lcG9jaFJld2FyZFVwZGF0ZSh1aW50NjQsdWludDE2LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpIgogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjcwNy03MTMKICAgIC8vIHN0YWtlVXBkYXRlZFZpYVJld2FyZHMoCiAgICAvLyAgICAgcG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSwKICAgIC8vICAgICBhbGdvVG9BZGQ6IHVpbnQ2NCwKICAgIC8vICAgICByZXdhcmRUb2tlbkFtb3VudFJlc2VydmVkOiB1aW50NjQsCiAgICAvLyAgICAgdmFsaWRhdG9yQ29tbWlzc2lvbjogdWludDY0LAogICAgLy8gICAgIHNhdHVyYXRlZEJ1cm5Ub0ZlZVNpbms6IHVpbnQ2NCwKICAgIC8vICk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5zdGFrZVJlbW92ZWRbcm91dGluZ10oKSAtPiB2b2lkOgpzdGFrZVJlbW92ZWQ6CiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiA1CiAgICBieXRlY18yIC8vICIiCiAgICBkdXBuIDEwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3NDktNzU1CiAgICAvLyBzdGFrZVJlbW92ZWQoCiAgICAvLyAgICAgcG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSwKICAgIC8vICAgICBzdGFrZXI6IEFjY291bnQsCiAgICAvLyAgICAgYW1vdW50UmVtb3ZlZDogdWludDY0LAogICAgLy8gICAgIHJld2FyZFJlbW92ZWQ6IHVpbnQ2NCwKICAgIC8vICAgICBzdGFrZXJSZW1vdmVkOiBib29sZWFuLAogICAgLy8gKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBidG9pCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGR1cAogICAgY292ZXIgMwogICAgYnRvaQogICAgY292ZXIgMgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNQogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgY292ZXIgMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzU2CiAgICAvLyBlbnN1cmVCdWRnZXQoMzAwKQogICAgcHVzaGludCAzMDAgLy8gMzAwCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3NTcKICAgIC8vIHRoaXMudmVyaWZ5UG9vbEtleUNhbGxlcihwb29sS2V5KQogICAgc3dhcAogICAgY2FsbHN1YiB2ZXJpZnlQb29sS2V5Q2FsbGVyCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3NjEKICAgIC8vIGFzc2VydChhbW91bnRSZW1vdmVkID4gMCB8fCByZXdhcmRSZW1vdmVkID4gMCwgJ3Nob3VsZCBvbmx5IGJlIGNhbGxlZCBpZiBhbGdvIG9yIHJld2FyZCB3YXMgcmVtb3ZlZCcpCiAgICBibnogc3Rha2VSZW1vdmVkX2Jvb2xfdHJ1ZUAzCiAgICBkaWcgMgogICAgYnogc3Rha2VSZW1vdmVkX2Jvb2xfZmFsc2VANAoKc3Rha2VSZW1vdmVkX2Jvb2xfdHJ1ZUAzOgogICAgaW50Y18xIC8vIDEKCnN0YWtlUmVtb3ZlZF9ib29sX21lcmdlQDU6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3NjEKICAgIC8vIGFzc2VydChhbW91bnRSZW1vdmVkID4gMCB8fCByZXdhcmRSZW1vdmVkID4gMCwgJ3Nob3VsZCBvbmx5IGJlIGNhbGxlZCBpZiBhbGdvIG9yIHJld2FyZCB3YXMgcmVtb3ZlZCcpCiAgICBhc3NlcnQgLy8gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGlmIGFsZ28gb3IgcmV3YXJkIHdhcyByZW1vdmVkCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3NjQKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5wb29sc1twb29sS2V5LnBvb2xJZCAtIDFdLnRvdGFsQWxnb1N0YWtlZCAtPSBhbW91bnRSZW1vdmVkCiAgICBkdXBuIDIKICAgIGV4dHJhY3QgMCA4CiAgICBkdXAKICAgIGJ1cnkgMjEKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgYnVyeSAyMwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzY0CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXS50b3RhbEFsZ29TdGFrZWQgLT0gYW1vdW50UmVtb3ZlZAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgdW5jb3ZlciAyCiAgICBpbnRjXzMgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSAxMAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIHN3YXAKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBkaWcgMQogICAgaW50Y18yIC8vIDE4CiAgICAqCiAgICBkdXAKICAgIGJ1cnkgMjEKICAgIHN3YXAKICAgIGRpZyAxCiAgICBpbnRjXzIgLy8gMTgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgcHVzaGludCAxMCAvLyAxMAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyA4CiAgICBkdXAKICAgIGNvdmVyIDQKICAgIC0KICAgIGl0b2IKICAgIHVuY292ZXIgMgogICAgcHVzaGludCAyNCAvLyAyNAogICAgPAogICAgYXNzZXJ0IC8vIGluZGV4IG91dCBvZiBib3VuZHMKICAgIHN3YXAKICAgIGludGMgMTMgLy8gMjc4CiAgICArCiAgICBkaWcgMwogICAgc3dhcAogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzY1CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUuc3RhdGUudG90YWxBbGdvU3Rha2VkIC09IGFtb3VudFJlbW92ZWQKICAgIGRpZyAxCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgIC0KICAgIGl0b2IKICAgIHVuY292ZXIgMgogICAgaW50YyAxNCAvLyAyNTIKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc2NgogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgLT0gYW1vdW50UmVtb3ZlZAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNAogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjXzMgLy8gInN0YWtlZCIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc2NgogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgLT0gYW1vdW50UmVtb3ZlZAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHN3YXAKICAgIC0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwNAogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjXzMgLy8gInN0YWtlZCIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc2NgogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgLT0gYW1vdW50UmVtb3ZlZAogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc2OAogICAgLy8gaWYgKHJld2FyZFJlbW92ZWQgPiAwKSB7CiAgICBkaWcgMgogICAgYnogc3Rha2VSZW1vdmVkX2Vsc2VfYm9keUAxMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzY5CiAgICAvLyBjb25zdCByZXdhcmRUb2tlbklEID0gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLmNvbmZpZy5yZXdhcmRUb2tlbklkCiAgICBkaWcgMjAKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGR1cAogICAgZXh0cmFjdCAwIDI0MgogICAgZHVwCiAgICBleHRyYWN0IDE1MyA4CiAgICBidXJ5IDI1CiAgICBwdXNoaW50IDE1MyAvLyAxNTMKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGJ1cnkgMTQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc3MAogICAgLy8gYXNzZXJ0KHJld2FyZFRva2VuSUQgIT09IDAsICJyZXdhcmRSZW1vdmVkIGNhbid0IGJlIHNldCBpZiB2YWxpZGF0b3IgZG9lc24ndCBoYXZlIHJld2FyZCB0b2tlbiEiKQogICAgYXNzZXJ0IC8vIHJld2FyZFJlbW92ZWQgY2FuJ3QgYmUgc2V0IGlmIHZhbGlkYXRvciBkb2Vzbid0IGhhdmUgcmV3YXJkIHRva2VuIQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzcyCiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUuc3RhdGUucmV3YXJkVG9rZW5IZWxkQmFjayA+PSByZXdhcmRSZW1vdmVkLAogICAgZXh0cmFjdCAyNDIgMjYKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZGlnIDUKICAgIGR1cAogICAgY292ZXIgMwogICAgPj0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc3MS03NzQKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUuc3RhdGUucmV3YXJkVG9rZW5IZWxkQmFjayA+PSByZXdhcmRSZW1vdmVkLAogICAgLy8gICAgICdyZXdhcmQgYmVpbmcgcmVtb3ZlZCBtdXN0IGJlIGNvdmVyZWQgYnkgaG9sZCBiYWNrIGFtb3VudCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gcmV3YXJkIGJlaW5nIHJlbW92ZWQgbXVzdCBiZSBjb3ZlcmVkIGJ5IGhvbGQgYmFjayBhbW91bnQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc3NwogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnN0YXRlLnJld2FyZFRva2VuSGVsZEJhY2sgLT0gcmV3YXJkUmVtb3ZlZAogICAgc3dhcAogICAgLQogICAgaXRvYgogICAgcHVzaGludCAyNjAgLy8gMjYwCiAgICBzd2FwCiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzgyCiAgICAvLyBpZiAocG9vbEtleS5wb29sSWQgIT09IDEpIHsKICAgIGRpZyA2CiAgICBpbnRjXzEgLy8gMQogICAgIT0KICAgIGJ6IHN0YWtlUmVtb3ZlZF9hZnRlcl9pZl9lbHNlQDkKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc4My03ODYKICAgIC8vIGFiaUNhbGw8dHlwZW9mIFN0YWtpbmdQb29sLnByb3RvdHlwZS5wYXlUb2tlblJld2FyZD4oewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbMF0ucG9vbEFwcElkKSwKICAgIC8vICAgICBhcmdzOiBbc3Rha2VyLCByZXdhcmRUb2tlbklELCByZXdhcmRSZW1vdmVkXSwKICAgIC8vIH0pCiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo3ODQKICAgIC8vIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbMF0ucG9vbEFwcElkKSwKICAgIGRpZyAyMAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGMgNCAvLyAyNjgKICAgIGludGMgNSAvLyA0MzIKICAgIGV4dHJhY3QzCiAgICBleHRyYWN0IDAgMTggLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc4My03ODYKICAgIC8vIGFiaUNhbGw8dHlwZW9mIFN0YWtpbmdQb29sLnByb3RvdHlwZS5wYXlUb2tlblJld2FyZD4oewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbMF0ucG9vbEFwcElkKSwKICAgIC8vICAgICBhcmdzOiBbc3Rha2VyLCByZXdhcmRUb2tlbklELCByZXdhcmRSZW1vdmVkXSwKICAgIC8vIH0pCiAgICBieXRlYyAxNiAvLyBtZXRob2QgInBheVRva2VuUmV3YXJkKGFkZHJlc3MsdWludDY0LHVpbnQ2NCl2b2lkIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGRpZyA2CiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZGlnIDIyCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZGlnIDQKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CgpzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUA5OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6NzkwCiAgICAvLyBwb29sTnVtOiBuZXcgVWludDE2KHBvb2xLZXkucG9vbElkKSwKICAgIGRpZyA2CiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgcHVzaGludCAxNiAvLyAxNgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZXh0cmFjdCA2IDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc5MQogICAgLy8gcG9vbEFwcElkOiBwb29sS2V5LnBvb2xBcHBJZCwKICAgIGRpZyAxCiAgICBleHRyYWN0IDE2IDgKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc4OC03OTYKICAgIC8vIGVtaXQ8cmV0aU9QX3N0YWtlUmVtb3ZlZD4oewogICAgLy8gICAgIGlkOiBwb29sS2V5LmlkLAogICAgLy8gICAgIHBvb2xOdW06IG5ldyBVaW50MTYocG9vbEtleS5wb29sSWQpLAogICAgLy8gICAgIHBvb2xBcHBJZDogcG9vbEtleS5wb29sQXBwSWQsCiAgICAvLyAgICAgc3Rha2VyOiBzdGFrZXIsCiAgICAvLyAgICAgYW1vdW50VW5zdGFrZWQ6IGFtb3VudFJlbW92ZWQsCiAgICAvLyAgICAgcmV3YXJkVG9rZW5Bc3NldElkOiByZXdhcmRUb2tlbklELAogICAgLy8gICAgIHJld2FyZFRva2Vuc1JlY2VpdmVkOiByZXdhcmRSZW1vdmVkLAogICAgLy8gfSkKICAgIGRpZyAyMAogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZGlnIDYKICAgIGNvbmNhdAogICAgZGlnIDUKICAgIGl0b2IKICAgIGNvbmNhdAogICAgZGlnIDMKICAgIGl0b2IKICAgIGNvbmNhdAogICAgZGlnIDExCiAgICBpdG9iCiAgICBjb25jYXQKICAgIGJ5dGVjIDE3IC8vIG1ldGhvZCAicmV0aU9QX3N0YWtlUmVtb3ZlZCh1aW50NjQsdWludDE2LHVpbnQ2NCxhZGRyZXNzLHVpbnQ2NCx1aW50NjQsdWludDY0KSIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCgpzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUAxMToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgxMAogICAgLy8gaWYgKHN0YWtlclJlbW92ZWQpIHsKICAgIGRpZyAxCiAgICBieiBzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUAxNwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODEyCiAgICAvLyBjb25zdCB0b3RhbFN0YWtlcnMgPSB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXS50b3RhbFN0YWtlcnMuYXNVaW50NjQoKQogICAgZGlnIDIwCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgZGlnIDE4CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGNfMiAvLyAxOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBpbnRjXzMgLy8gOAogICAgZXh0cmFjdF91aW50MTYKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgxMwogICAgLy8gdGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLnZhbHVlLnBvb2xzW3Bvb2xLZXkucG9vbElkIC0gMV0udG90YWxTdGFrZXJzID0gbmV3IFVpbnQxNih0b3RhbFN0YWtlcnMgLSAxKQogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGl0b2IKICAgIGR1cAogICAgYml0bGVuCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBleHRyYWN0IDYgMgogICAgc3dhcAogICAgcHVzaGludCAyNzYgLy8gMjc2CiAgICArCiAgICBzd2FwCiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODE4CiAgICAvLyBwb29sQXBwSWQ6IHBvb2xLZXkucG9vbEFwcElkLAogICAgZHVwCiAgICBleHRyYWN0IDE2IDgKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgxNS04MTkKICAgIC8vIGNvbnN0IHJlbW92ZVJldCA9IHRoaXMucmVtb3ZlRnJvbVN0YWtlclBvb2xTZXQoc3Rha2VyLCB7CiAgICAvLyAgICAgaWQ6IHBvb2xLZXkuaWQsCiAgICAvLyAgICAgcG9vbElkOiBwb29sS2V5LnBvb2xJZCwKICAgIC8vICAgICBwb29sQXBwSWQ6IHBvb2xLZXkucG9vbEFwcElkLAogICAgLy8gfSkKICAgIGRpZyA3CiAgICBpdG9iCiAgICBkaWcgMjAKICAgIHN3YXAKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICBidXJ5IDEKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNzMKICAgIC8vIGxldCBpblNhbWVWYWxpZGF0b3JQb29sQ291bnQ6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDEyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTc0CiAgICAvLyBsZXQgaW5BbnlQb29sQ291bnQ6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDEzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTc1CiAgICAvLyBsZXQgZm91bmQgPSBmYWxzZQogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMTUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMgogICAgLy8gc3Rha2VyUG9vbFNldCA9IEJveE1hcDxBY2NvdW50LCBGaXhlZEFycmF5PFZhbGlkYXRvclBvb2xLZXksIHR5cGVvZiBNQVhfUE9PTFNfUEVSX1NUQUtFUj4+KHsga2V5UHJlZml4OiAnc3BzJyB9KQogICAgYnl0ZWMgNiAvLyAic3BzIgogICAgZGlnIDYKICAgIGNvbmNhdAogICAgZHVwCiAgICBidXJ5IDIxCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTc3CiAgICAvLyBjb25zdCBwb29sU2V0ID0gY2xvbmUodGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikudmFsdWUpCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBidXJ5IDE5CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE3OAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxNAoKc3Rha2VSZW1vdmVkX3doaWxlX3RvcEAxOToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNzgKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgZGlnIDE5CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBkaWcgMTMKICAgIHB1c2hpbnQgNiAvLyA2CiAgICA8CiAgICBieiBzdGFrZVJlbW92ZWRfYWZ0ZXJfd2hpbGVAMzEKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNzkKICAgIC8vIGlmIChwb29sU2V0W2ldLmlkID09PSAwKSB7CiAgICBkaWcgMTMKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgICoKICAgIGR1cAogICAgYnVyeSAxNwogICAgZGlnIDE4CiAgICBzd2FwCiAgICBwdXNoaW50IDI0IC8vIDI0CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgYnVyeSAyNAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGJ1cnkgOQogICAgYnogc3Rha2VSZW1vdmVkX2Jsb2NrQDMwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTgyCiAgICAvLyBpbkFueVBvb2xDb3VudCArPSAxCiAgICBkaWcgMTIKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDEzCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTgzCiAgICAvLyBpZiAocG9vbFNldFtpXS5pZCA9PT0gcG9vbEtleS5pZCkgewogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyA4CiAgICA9PQogICAgZHVwCiAgICBidXJ5IDEwCiAgICBieiBzdGFrZVJlbW92ZWRfYmxvY2tAMzAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExODUtMTE4NgogICAgLy8gcG9vbFNldFtpXS5pZCA9PT0gcG9vbEtleS5pZCAmJgogICAgLy8gcG9vbFNldFtpXS5wb29sSWQgPT09IHBvb2xLZXkucG9vbElkICYmCiAgICBkaWcgOAogICAgYnogc3Rha2VSZW1vdmVkX2Vsc2VfYm9keUAyNwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE4NgogICAgLy8gcG9vbFNldFtpXS5wb29sSWQgPT09IHBvb2xLZXkucG9vbElkICYmCiAgICBkaWcgMjIKICAgIGludGNfMyAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgIGludGNfMyAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgPT0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExODUtMTE4NgogICAgLy8gcG9vbFNldFtpXS5pZCA9PT0gcG9vbEtleS5pZCAmJgogICAgLy8gcG9vbFNldFtpXS5wb29sSWQgPT09IHBvb2xLZXkucG9vbElkICYmCiAgICBieiBzdGFrZVJlbW92ZWRfZWxzZV9ib2R5QDI3CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTg3CiAgICAvLyBwb29sU2V0W2ldLnBvb2xBcHBJZCA9PT0gcG9vbEtleS5wb29sQXBwSWQKICAgIGRpZyAyMgogICAgcHVzaGludCAxNiAvLyAxNgogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAxCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgPT0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExODUtMTE4NwogICAgLy8gcG9vbFNldFtpXS5pZCA9PT0gcG9vbEtleS5pZCAmJgogICAgLy8gcG9vbFNldFtpXS5wb29sSWQgPT09IHBvb2xLZXkucG9vbElkICYmCiAgICAvLyBwb29sU2V0W2ldLnBvb2xBcHBJZCA9PT0gcG9vbEtleS5wb29sQXBwSWQKICAgIGJ6IHN0YWtlUmVtb3ZlZF9lbHNlX2JvZHlAMjcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExODkKICAgIC8vIGZvdW5kID0gdHJ1ZQogICAgaW50Y18xIC8vIDEKICAgIGJ1cnkgMTUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExOTEKICAgIC8vIHRoaXMuc3Rha2VyUG9vbFNldChzdGFrZXIpLnZhbHVlW2ldID0geyBpZDogMCwgcG9vbElkOiAwLCBwb29sQXBwSWQ6IDAgfQogICAgZGlnIDE5CiAgICBkaWcgMTYKICAgIHB1c2hieXRlcyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAogICAgYm94X3JlcGxhY2UKCnN0YWtlUmVtb3ZlZF9ibG9ja0AzMDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExNzgKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgZGlnIDEzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxNAogICAgYiBzdGFrZVJlbW92ZWRfd2hpbGVfdG9wQDE5CgpzdGFrZVJlbW92ZWRfZWxzZV9ib2R5QDI3OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTE5MwogICAgLy8gaW5TYW1lVmFsaWRhdG9yUG9vbENvdW50ICs9IDEKICAgIGRpZyAxMQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMTIKICAgIGIgc3Rha2VSZW1vdmVkX2Jsb2NrQDMwCgpzdGFrZVJlbW92ZWRfYWZ0ZXJfd2hpbGVAMzE6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMTk3CiAgICAvLyBpZiAoIWZvdW5kKSB7CiAgICBkaWcgMTQKICAgIGFzc2VydCAvLyBObyBtYXRjaGluZyBzbG90IGZvdW5kIHdoZW4gdG9sZCB0byByZW1vdmUgYSBwb29sIGZyb20gdGhlIHN0YWtlcnMgc2V0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjAxCiAgICAvLyByZXR1cm4gW2luU2FtZVZhbGlkYXRvclBvb2xDb3VudCA9PT0gMCwgaW5BbnlQb29sQ291bnQgPT09IDBdCiAgICBkaWcgMTEKICAgICEKICAgIGRpZyAxMwogICAgIQogICAgYnl0ZWMgNyAvLyAweDAwCiAgICBpbnRjXzAgLy8gMAogICAgdW5jb3ZlciAzCiAgICBzZXRiaXQKICAgIGludGNfMSAvLyAxCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODIwCiAgICAvLyBjb25zdCBzdGFrZXJPdXRPZlRoaXNWYWxpZGF0b3IgPSByZW1vdmVSZXRbMF0KICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODIxCiAgICAvLyBjb25zdCBzdGFrZXJPdXRPZlByb3RvY29sID0gcmVtb3ZlUmV0WzFdCiAgICBzd2FwCiAgICBpbnRjXzEgLy8gMQogICAgZ2V0Yml0CiAgICBidXJ5IDExCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MjMKICAgIC8vIGlmIChzdGFrZXJPdXRPZlRoaXNWYWxpZGF0b3IpIHsKICAgIGJ6IHN0YWtlUmVtb3ZlZF9hZnRlcl9pZl9lbHNlQDE0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MjQKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS52YWx1ZS5zdGF0ZS50b3RhbFN0YWtlcnMgLT0gMQogICAgZGlnIDIwCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDI0MiAyNgogICAgcHVzaGludCAyIC8vIDIKICAgIGV4dHJhY3RfdWludDY0CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgaXRvYgogICAgcHVzaGludCAyNDQgLy8gMjQ0CiAgICBzd2FwCiAgICBib3hfcmVwbGFjZQoKc3Rha2VSZW1vdmVkX2FmdGVyX2lmX2Vsc2VAMTQ6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MjcKICAgIC8vIGlmIChzdGFrZXJPdXRPZlByb3RvY29sKSB7CiAgICBkaWcgOQogICAgYnogc3Rha2VSZW1vdmVkX2FmdGVyX2lmX2Vsc2VAMTcKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgyOAogICAgLy8gdGhpcy5udW1TdGFrZXJzLnZhbHVlIC09IDEKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDEKICAgIC8vIG51bVN0YWtlcnMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbnVtU3Rha2VycycgfSkKICAgIGJ5dGVjIDQgLy8gIm51bVN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MjgKICAgIC8vIHRoaXMubnVtU3Rha2Vycy52YWx1ZSAtPSAxCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMQogICAgLy8gbnVtU3Rha2VycyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdudW1TdGFrZXJzJyB9KQogICAgYnl0ZWMgNCAvLyAibnVtU3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgyOAogICAgLy8gdGhpcy5udW1TdGFrZXJzLnZhbHVlIC09IDEKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CgpzdGFrZVJlbW92ZWRfYWZ0ZXJfaWZfZWxzZUAxNzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjc0OS03NTUKICAgIC8vIHN0YWtlUmVtb3ZlZCgKICAgIC8vICAgICBwb29sS2V5OiBWYWxpZGF0b3JQb29sS2V5LAogICAgLy8gICAgIHN0YWtlcjogQWNjb3VudCwKICAgIC8vICAgICBhbW91bnRSZW1vdmVkOiB1aW50NjQsCiAgICAvLyAgICAgcmV3YXJkUmVtb3ZlZDogdWludDY0LAogICAgLy8gICAgIHN0YWtlclJlbW92ZWQ6IGJvb2xlYW4sCiAgICAvLyApOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCnN0YWtlUmVtb3ZlZF9lbHNlX2JvZHlAMTA6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4MDAKICAgIC8vIHBvb2xOdW06IG5ldyBVaW50MTYocG9vbEtleS5wb29sSWQpLAogICAgZGlnIDYKICAgIGl0b2IKICAgIGR1cAogICAgYml0bGVuCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBleHRyYWN0IDYgMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODAxCiAgICAvLyBwb29sQXBwSWQ6IHBvb2xLZXkucG9vbEFwcElkLAogICAgZGlnIDEKICAgIGV4dHJhY3QgMTYgOAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Nzk4LTgwNwogICAgLy8gZW1pdDxyZXRpT1Bfc3Rha2VSZW1vdmVkPih7CiAgICAvLyAgICAgaWQ6IHBvb2xLZXkuaWQsCiAgICAvLyAgICAgcG9vbE51bTogbmV3IFVpbnQxNihwb29sS2V5LnBvb2xJZCksCiAgICAvLyAgICAgcG9vbEFwcElkOiBwb29sS2V5LnBvb2xBcHBJZCwKICAgIC8vICAgICBzdGFrZXI6IHN0YWtlciwKICAgIC8vICAgICBhbW91bnRVbnN0YWtlZDogYW1vdW50UmVtb3ZlZCwKICAgIC8vICAgICAvLyBubyB0b2tlbnMgcmV3YXJkZWQuLgogICAgLy8gICAgIHJld2FyZFRva2VuQXNzZXRJZDogMCwKICAgIC8vICAgICByZXdhcmRUb2tlbnNSZWNlaXZlZDogMCwKICAgIC8vIH0pCiAgICBkaWcgMjAKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGRpZyA2CiAgICBjb25jYXQKICAgIGRpZyA1CiAgICBpdG9iCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjgwNgogICAgLy8gcmV3YXJkVG9rZW5zUmVjZWl2ZWQ6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Nzk4LTgwNwogICAgLy8gZW1pdDxyZXRpT1Bfc3Rha2VSZW1vdmVkPih7CiAgICAvLyAgICAgaWQ6IHBvb2xLZXkuaWQsCiAgICAvLyAgICAgcG9vbE51bTogbmV3IFVpbnQxNihwb29sS2V5LnBvb2xJZCksCiAgICAvLyAgICAgcG9vbEFwcElkOiBwb29sS2V5LnBvb2xBcHBJZCwKICAgIC8vICAgICBzdGFrZXI6IHN0YWtlciwKICAgIC8vICAgICBhbW91bnRVbnN0YWtlZDogYW1vdW50UmVtb3ZlZCwKICAgIC8vICAgICAvLyBubyB0b2tlbnMgcmV3YXJkZWQuLgogICAgLy8gICAgIHJld2FyZFRva2VuQXNzZXRJZDogMCwKICAgIC8vICAgICByZXdhcmRUb2tlbnNSZWNlaXZlZDogMCwKICAgIC8vIH0pCiAgICBpdG9iCiAgICBzd2FwCiAgICBkaWcgMQogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGJ5dGVjIDE3IC8vIG1ldGhvZCAicmV0aU9QX3N0YWtlUmVtb3ZlZCh1aW50NjQsdWludDE2LHVpbnQ2NCxhZGRyZXNzLHVpbnQ2NCx1aW50NjQsdWludDY0KSIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBiIHN0YWtlUmVtb3ZlZF9hZnRlcl9pZl9lbHNlQDExCgpzdGFrZVJlbW92ZWRfYm9vbF9mYWxzZUA0OgogICAgaW50Y18wIC8vIDAKICAgIGIgc3Rha2VSZW1vdmVkX2Jvb2xfbWVyZ2VANQoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcltyb3V0aW5nXSgpIC0+IHZvaWQ6CmZpbmRQb29sRm9yU3Rha2VyOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODQ0LTg0OQogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBmaW5kUG9vbEZvclN0YWtlcigKICAgIC8vICAgICB2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLAogICAgLy8gICAgIHN0YWtlcjogQWNjb3VudCwKICAgIC8vICAgICBhbW91bnRUb1N0YWtlOiB1aW50NjQsCiAgICAvLyApOiBbVmFsaWRhdG9yUG9vbEtleSwgYm9vbGVhbiwgYm9vbGVhbl0gewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgYnRvaQogICAgY2FsbHN1YiBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZmluZFBvb2xGb3JTdGFrZXIKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkubW92ZVBvb2xUb05vZGVbcm91dGluZ10oKSAtPiB2b2lkOgptb3ZlUG9vbFRvTm9kZToKICAgIGJ5dGVjXzIgLy8gIiIKICAgIGR1cG4gNAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTE4CiAgICAvLyBtb3ZlUG9vbFRvTm9kZSh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLCBwb29sQXBwSWQ6IHVpbnQ2NCwgbm9kZU51bTogdWludDY0KTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICBkdXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIHN3YXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGJ0b2kKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MTkKICAgIC8vIHRoaXMuY2FsbGVyTXVzdEJlT3duZXJPck1hbmFnZXIodmFsaWRhdG9ySWQpCiAgICBkdXAKICAgIGNhbGxzdWIgY2FsbGVyTXVzdEJlT3duZXJPck1hbmFnZXIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkyMQogICAgLy8gY29uc3Qgbm9kZVBvb2xBc3NpZ25tZW50cyA9IGNsb25lKHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUubm9kZVBvb2xBc3NpZ25tZW50cykKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTIxCiAgICAvLyBjb25zdCBub2RlUG9vbEFzc2lnbm1lbnRzID0gY2xvbmUodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5ub2RlUG9vbEFzc2lnbm1lbnRzKQogICAgYm94X2dldAogICAgc3dhcAogICAgY292ZXIgMgogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkyMgogICAgLy8gYXNzZXJ0KG5vZGVOdW0gPj0gMSAmJiBub2RlTnVtIDw9IE1BWF9OT0RFUywgJ25vZGUgbnVtYmVyIG91dCBvZiBhbGxvd2FibGUgcmFuZ2UnKQogICAgYnogbW92ZVBvb2xUb05vZGVfYm9vbF9mYWxzZUA0CiAgICBkaWcgMgogICAgaW50Y18zIC8vIDgKICAgIDw9CiAgICBieiBtb3ZlUG9vbFRvTm9kZV9ib29sX2ZhbHNlQDQKICAgIGludGNfMSAvLyAxCgptb3ZlUG9vbFRvTm9kZV9ib29sX21lcmdlQDU6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MjIKICAgIC8vIGFzc2VydChub2RlTnVtID49IDEgJiYgbm9kZU51bSA8PSBNQVhfTk9ERVMsICdub2RlIG51bWJlciBvdXQgb2YgYWxsb3dhYmxlIHJhbmdlJykKICAgIGFzc2VydCAvLyBub2RlIG51bWJlciBvdXQgb2YgYWxsb3dhYmxlIHJhbmdlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MjQKICAgIC8vIGZvciAobGV0IHNyY05vZGVJZHg6IHVpbnQ2NCA9IDA7IHNyY05vZGVJZHggPCBNQVhfTk9ERVM7IHNyY05vZGVJZHggKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgNwoKbW92ZVBvb2xUb05vZGVfd2hpbGVfdG9wQDY6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MjQKICAgIC8vIGZvciAobGV0IHNyY05vZGVJZHg6IHVpbnQ2NCA9IDA7IHNyY05vZGVJZHggPCBNQVhfTk9ERVM7IHNyY05vZGVJZHggKz0gMSkgewogICAgZGlnIDYKICAgIGludGNfMyAvLyA4CiAgICA8CiAgICBhc3NlcnQgLy8gY291bGRuJ3QgZmluZCBwb29sIGFwcCBpZCBpbiBub2RlcyB0byBtb3ZlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MjUKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBNQVhfUE9PTFNfUEVSX05PREU7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgOAoKbW92ZVBvb2xUb05vZGVfd2hpbGVfdG9wQDg6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MjUKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBNQVhfUE9PTFNfUEVSX05PREU7IGkgKz0gMSkgewogICAgZGlnIDcKICAgIHB1c2hpbnQgMyAvLyAzCiAgICA8CiAgICBkdXAKICAgIGJ1cnkgNwogICAgYnogbW92ZVBvb2xUb05vZGVfYWZ0ZXJfd2hpbGVAMTMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkyNgogICAgLy8gaWYgKG5vZGVQb29sQXNzaWdubWVudHMubm9kZXNbc3JjTm9kZUlkeF0ucG9vbEFwcElkc1tpXSA9PT0gcG9vbEFwcElkKSB7CiAgICBkdXAKICAgIGludGMgOCAvLyA5MDAKICAgIGludGMgOSAvLyAxOTIKICAgIGV4dHJhY3QzCiAgICBleHRyYWN0IDAgMTkyCiAgICBkaWcgNwogICAgcHVzaGludCAyNCAvLyAyNAogICAgKgogICAgZHVwCiAgICBidXJ5IDEyCiAgICBwdXNoaW50IDI0IC8vIDI0CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGV4dHJhY3QgMCAyNAogICAgZGlnIDgKICAgIGludGNfMyAvLyA4CiAgICAqCiAgICBkdXAKICAgIGJ1cnkgMTEKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgNAogICAgPT0KICAgIGJ6IG1vdmVQb29sVG9Ob2RlX2FmdGVyX2lmX2Vsc2VAMTIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkyNwogICAgLy8gYXNzZXJ0KG5vZGVOdW0gLSAxICE9PSBzcmNOb2RlSWR4LCAiY2FuJ3QgbW92ZSB0byBzYW1lIG5vZGUiKQogICAgZGlnIDIKICAgIGR1cAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGRpZyA4CiAgICAhPQogICAgYXNzZXJ0IC8vIGNhbid0IG1vdmUgdG8gc2FtZSBub2RlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MjkKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUubm9kZVBvb2xBc3NpZ25tZW50cy5ub2Rlc1tzcmNOb2RlSWR4XS5wb29sQXBwSWRzW2ldID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0b2IKICAgIGludGMgOCAvLyA5MDAKICAgIGRpZyAxMgogICAgKwogICAgZGlnIDgKICAgIGFzc2VydCAvLyBpbmRleCBvdXQgb2YgYm91bmRzCiAgICBkaWcgMTEKICAgICsKICAgIGRpZyA0CiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5MzItOTM0CiAgICAvLyBhYmlDYWxsPHR5cGVvZiBTdGFraW5nUG9vbC5wcm90b3R5cGUuZ29PZmZsaW5lPih7CiAgICAvLyAgICAgYXBwSWQ6IEFwcGxpY2F0aW9uKHBvb2xBcHBJZCksCiAgICAvLyB9KQogICAgaXR4bl9iZWdpbgogICAgcHVzaGJ5dGVzIDB4NTFlZjNiMjEgLy8gbWV0aG9kICJnb09mZmxpbmUoKXZvaWQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZGlnIDQKICAgIGR1cAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTM3CiAgICAvLyB0aGlzLmFkZFBvb2xUb05vZGUodmFsaWRhdG9ySWQsIHBvb2xBcHBJZCwgbm9kZU51bSkKICAgIGRpZyA2CiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgIGNhbGxzdWIgYWRkUG9vbFRvTm9kZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTE4CiAgICAvLyBtb3ZlUG9vbFRvTm9kZSh2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlLCBwb29sQXBwSWQ6IHVpbnQ2NCwgbm9kZU51bTogdWludDY0KTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptb3ZlUG9vbFRvTm9kZV9hZnRlcl9pZl9lbHNlQDEyOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTI1CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgTUFYX1BPT0xTX1BFUl9OT0RFOyBpICs9IDEpIHsKICAgIGRpZyA3CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSA4CiAgICBiIG1vdmVQb29sVG9Ob2RlX3doaWxlX3RvcEA4Cgptb3ZlUG9vbFRvTm9kZV9hZnRlcl93aGlsZUAxMzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjkyNAogICAgLy8gZm9yIChsZXQgc3JjTm9kZUlkeDogdWludDY0ID0gMDsgc3JjTm9kZUlkeCA8IE1BWF9OT0RFUzsgc3JjTm9kZUlkeCArPSAxKSB7CiAgICBkaWcgNgogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgNwogICAgYiBtb3ZlUG9vbFRvTm9kZV93aGlsZV90b3BANgoKbW92ZVBvb2xUb05vZGVfYm9vbF9mYWxzZUA0OgogICAgaW50Y18wIC8vIDAKICAgIGIgbW92ZVBvb2xUb05vZGVfYm9vbF9tZXJnZUA1CgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmVtcHR5VG9rZW5SZXdhcmRzW3JvdXRpbmddKCkgLT4gdm9pZDoKZW1wdHlUb2tlblJld2FyZHM6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NTYKICAgIC8vIGVtcHR5VG9rZW5SZXdhcmRzKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIHJlY2VpdmVyOiBBY2NvdW50KTogdWludDY0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk1NwogICAgLy8gdGhpcy5jYWxsZXJNdXN0QmVPd25lcih2YWxpZGF0b3JJZCkKICAgIGRpZyAxCiAgICBjYWxsc3ViIGNhbGxlck11c3RCZU93bmVyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NTgKICAgIC8vIGNvbnN0IHJld2FyZFRva2VuSWQgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5yZXdhcmRUb2tlbklkCiAgICBzd2FwCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NTgKICAgIC8vIGNvbnN0IHJld2FyZFRva2VuSWQgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5yZXdhcmRUb2tlbklkCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZHVwCiAgICBleHRyYWN0IDAgMjQyCiAgICBkdXAKICAgIGV4dHJhY3QgMTUzIDgKICAgIHN3YXAKICAgIHB1c2hpbnQgMTUzIC8vIDE1MwogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk1OQogICAgLy8gY29uc3QgcmV3YXJkVG9rZW5IZWxkQmFjayA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuc3RhdGUucmV3YXJkVG9rZW5IZWxkQmFjawogICAgZGlnIDIKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBpbnRjXzIgLy8gMTgKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NjAKICAgIC8vIGFzc2VydChyZXdhcmRUb2tlbklkICE9PSAwLCAidGhpcyB2YWxpZGF0b3IgZG9lc24ndCBoYXZlIGEgcmV3YXJkIHRva2VuIGRlZmluZWQiKQogICAgZGlnIDEKICAgIGFzc2VydCAvLyB0aGlzIHZhbGlkYXRvciBkb2Vzbid0IGhhdmUgYSByZXdhcmQgdG9rZW4gZGVmaW5lZAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTYxCiAgICAvLyBjb25zdCBwb29sT25lQXBwSWQgPSBBcHBsaWNhdGlvbih0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzWzBdLnBvb2xBcHBJZCkKICAgIHVuY292ZXIgMwogICAgaW50YyA0IC8vIDI2OAogICAgaW50YyA1IC8vIDQzMgogICAgZXh0cmFjdDMKICAgIGV4dHJhY3QgMCAxOCAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTY0CiAgICAvLyBvcC5Bc3NldEhvbGRpbmcuYXNzZXRCYWxhbmNlKHBvb2xPbmVBcHBJZC5hZGRyZXNzLCByZXdhcmRUb2tlbklkKVswXSAtIHJld2FyZFRva2VuSGVsZEJhY2sKICAgIGR1cAogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgZGlnIDMKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgcG9wCiAgICBkaWcgMgogICAgLQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTY3LTk3MAogICAgLy8gYWJpQ2FsbDx0eXBlb2YgU3Rha2luZ1Bvb2wucHJvdG90eXBlLnBheVRva2VuUmV3YXJkPih7CiAgICAvLyAgICAgYXBwSWQ6IHBvb2xPbmVBcHBJZCwKICAgIC8vICAgICBhcmdzOiBbcmVjZWl2ZXIsIHJld2FyZFRva2VuSWQsIHRva2VuUmV3YXJkQmFsXSwKICAgIC8vIH0pCiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NjkKICAgIC8vIGFyZ3M6IFtyZWNlaXZlciwgcmV3YXJkVG9rZW5JZCwgdG9rZW5SZXdhcmRCYWxdLAogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTY3LTk3MAogICAgLy8gYWJpQ2FsbDx0eXBlb2YgU3Rha2luZ1Bvb2wucHJvdG90eXBlLnBheVRva2VuUmV3YXJkPih7CiAgICAvLyAgICAgYXBwSWQ6IHBvb2xPbmVBcHBJZCwKICAgIC8vICAgICBhcmdzOiBbcmVjZWl2ZXIsIHJld2FyZFRva2VuSWQsIHRva2VuUmV3YXJkQmFsXSwKICAgIC8vIH0pCiAgICBieXRlYyAxNiAvLyBtZXRob2QgInBheVRva2VuUmV3YXJkKGFkZHJlc3MsdWludDY0LHVpbnQ2NCl2b2lkIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHVuY292ZXIgNQogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHVuY292ZXIgNAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGR1cAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGRpZyAxCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5NzIKICAgIC8vIG9wLkFzc2V0SG9sZGluZy5hc3NldEJhbGFuY2UocG9vbE9uZUFwcElkLmFkZHJlc3MsIHJld2FyZFRva2VuSWQpWzBdID09PSByZXdhcmRUb2tlbkhlbGRCYWNrLAogICAgc3dhcAogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgdW5jb3ZlciAzCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIHBvcAogICAgdW5jb3ZlciAyCiAgICA9PQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTcxLTk3NAogICAgLy8gYXNzZXJ0KAogICAgLy8gICAgIG9wLkFzc2V0SG9sZGluZy5hc3NldEJhbGFuY2UocG9vbE9uZUFwcElkLmFkZHJlc3MsIHJld2FyZFRva2VuSWQpWzBdID09PSByZXdhcmRUb2tlbkhlbGRCYWNrLAogICAgLy8gICAgICdiYWxhbmNlIG9mIHJlbWFpbmluZyByZXdhcmQgdG9rZW5zIHNob3VsZCBtYXRjaCB0aGUgaGVsZCBiYWNrIGFtb3VudCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gYmFsYW5jZSBvZiByZW1haW5pbmcgcmV3YXJkIHRva2VucyBzaG91bGQgbWF0Y2ggdGhlIGhlbGQgYmFjayBhbW91bnQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk1NgogICAgLy8gZW1wdHlUb2tlblJld2FyZHModmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSwgcmVjZWl2ZXI6IEFjY291bnQpOiB1aW50NjQgewogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRDdXJNYXhTdGFrZVBlclBvb2wodmFsaWRhdG9ySWQ6IHVpbnQ2NCkgLT4gdWludDY0Ogpjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0Q3VyTWF4U3Rha2VQZXJQb29sOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mjc1LTI3NgogICAgLy8gQHJlYWRvbmx5CiAgICAvLyBnZXRDdXJNYXhTdGFrZVBlclBvb2wodmFsaWRhdG9ySWQ6IFZhbGlkYXRvcklkVHlwZSk6IHVpbnQ2NCB7CiAgICBwcm90byAxIDEKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI3NwogICAgLy8gY29uc3QgbnVtUG9vbHMgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnN0YXRlLm51bVBvb2xzLmFzVWludDY0KCkKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mjc3CiAgICAvLyBjb25zdCBudW1Qb29scyA9IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuc3RhdGUubnVtUG9vbHMuYXNVaW50NjQoKQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAyNDIgMjYKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mjc4CiAgICAvLyBjb25zdCBoYXJkTWF4RGl2aWRlZEJldHdlZW5Qb29sczogdWludDY0ID0gdGhpcy5tYXhBbGxvd2VkU3Rha2UoKSAvIG51bVBvb2xzCiAgICBjYWxsc3ViIG1heEFsbG93ZWRTdGFrZQogICAgc3dhcAogICAgLwogICAgc3dhcAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6Mjc5CiAgICAvLyBsZXQgbWF4UGVyUG9vbDogdWludDY0ID0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWF4QWxnb1BlclBvb2wKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDAgMjQyCiAgICBwdXNoaW50IDIxNyAvLyAyMTcKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI4MAogICAgLy8gaWYgKG1heFBlclBvb2wgPT09IDApIHsKICAgIGJueiBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0Q3VyTWF4U3Rha2VQZXJQb29sX2FmdGVyX2lmX2Vsc2VAMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTM2OQogICAgLy8gcmV0dXJuIEdsb2JhbC5wYXlvdXRzTWF4QmFsYW5jZQogICAgZ2xvYmFsIFBheW91dHNNYXhCYWxhbmNlCiAgICBmcmFtZV9idXJ5IDEKCmNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRDdXJNYXhTdGFrZVBlclBvb2xfYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MjgzCiAgICAvLyBpZiAoaGFyZE1heERpdmlkZWRCZXR3ZWVuUG9vbHMgPCBtYXhQZXJQb29sKSB7CiAgICBmcmFtZV9kaWcgMAogICAgZnJhbWVfZGlnIDEKICAgIDwKICAgIGJ6IGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRDdXJNYXhTdGFrZVBlclBvb2xfYWZ0ZXJfaWZfZWxzZUA0CiAgICBmcmFtZV9kaWcgMAogICAgZnJhbWVfYnVyeSAxCgpjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZ2V0Q3VyTWF4U3Rha2VQZXJQb29sX2FmdGVyX2lmX2Vsc2VANDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjI4NgogICAgLy8gcmV0dXJuIG1heFBlclBvb2wKICAgIGZyYW1lX2RpZyAxCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcih2YWxpZGF0b3JJZDogdWludDY0LCBzdGFrZXI6IGJ5dGVzLCBhbW91bnRUb1N0YWtlOiB1aW50NjQpIC0+IGJ5dGVzOgpjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZmluZFBvb2xGb3JTdGFrZXI6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NDQtODQ5CiAgICAvLyBAcmVhZG9ubHkKICAgIC8vIGZpbmRQb29sRm9yU3Rha2VyKAogICAgLy8gICAgIHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsCiAgICAvLyAgICAgc3Rha2VyOiBBY2NvdW50LAogICAgLy8gICAgIGFtb3VudFRvU3Rha2U6IHVpbnQ2NCwKICAgIC8vICk6IFtWYWxpZGF0b3JQb29sS2V5LCBib29sZWFuLCBib29sZWFuXSB7CiAgICBwcm90byAzIDEKICAgIGludGNfMCAvLyAwCiAgICBkdXBuIDQKICAgIGJ5dGVjXzIgLy8gIiIKICAgIGR1cG4gMwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODUwCiAgICAvLyBsZXQgaXNOZXdTdGFrZXJUb1ZhbGlkYXRvciA9IHRydWUKICAgIGludGNfMSAvLyAxCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NTEKICAgIC8vIGxldCBpc05ld1N0YWtlclRvUHJvdG9jb2wgPSB0cnVlCiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg1OQogICAgLy8gY29uc3QgbWF4UGVyUG9vbCA9IHRoaXMuZ2V0Q3VyTWF4U3Rha2VQZXJQb29sKHZhbGlkYXRvcklkKQogICAgZnJhbWVfZGlnIC0zCiAgICBjYWxsc3ViIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5nZXRDdXJNYXhTdGFrZVBlclBvb2wKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjExMgogICAgLy8gc3Rha2VyUG9vbFNldCA9IEJveE1hcDxBY2NvdW50LCBGaXhlZEFycmF5PFZhbGlkYXRvclBvb2xLZXksIHR5cGVvZiBNQVhfUE9PTFNfUEVSX1NUQUtFUj4+KHsga2V5UHJlZml4OiAnc3BzJyB9KQogICAgYnl0ZWMgNiAvLyAic3BzIgogICAgZnJhbWVfZGlnIC0yCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODYyCiAgICAvLyBpZiAodGhpcy5zdGFrZXJQb29sU2V0KHN0YWtlcikuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJ6IGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcl9hZnRlcl9pZl9lbHNlQDEyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NjMKICAgIC8vIGNvbnN0IHBvb2xTZXQgPSBjbG9uZSh0aGlzLnN0YWtlclBvb2xTZXQoc3Rha2VyKS52YWx1ZSkKICAgIGZyYW1lX2RpZyAxMgogICAgYm94X2dldAogICAgc3dhcAogICAgZnJhbWVfYnVyeSA0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODY0CiAgICAvLyBhc3NlcnQodmFsaWRhdG9ySWQgIT09IDApCiAgICBmcmFtZV9kaWcgLTMKICAgIGFzc2VydAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODY1CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgcG9vbFNldC5sZW5ndGg7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgNgoKY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyX3doaWxlX3RvcEAyOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODY1CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgcG9vbFNldC5sZW5ndGg7IGkgKz0gMSkgewogICAgZnJhbWVfZGlnIDYKICAgIHB1c2hpbnQgNiAvLyA2CiAgICA8CiAgICBieiBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZmluZFBvb2xGb3JTdGFrZXJfYWZ0ZXJfaWZfZWxzZUAxMgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODY2CiAgICAvLyBlbnN1cmVCdWRnZXQoMzAwKQogICAgcHVzaGludCAzMDAgLy8gMzAwCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NjcKICAgIC8vIGlmIChwb29sU2V0W2ldLmlkID09PSAwKSB7CiAgICBmcmFtZV9kaWcgNgogICAgcHVzaGludCAyNCAvLyAyNAogICAgKgogICAgZnJhbWVfZGlnIDQKICAgIHN3YXAKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDEKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDgKICAgIGJ6IGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcl9ibG9ja0AxMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODcwCiAgICAvLyBpc05ld1N0YWtlclRvUHJvdG9jb2wgPSBmYWxzZQogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgMTAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg3MQogICAgLy8gaWYgKHBvb2xTZXRbaV0uaWQgPT09IHZhbGlkYXRvcklkKSB7CiAgICBmcmFtZV9kaWcgOAogICAgZnJhbWVfZGlnIC0zCiAgICA9PQogICAgYnogY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyX2Jsb2NrQDEwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NzMKICAgIC8vIGlzTmV3U3Rha2VyVG9WYWxpZGF0b3IgPSBmYWxzZQogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgOQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODc1CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzW3Bvb2xTZXRbaV0ucG9vbElkIC0gMV0udG90YWxBbGdvU3Rha2VkICsKICAgIGZyYW1lX2RpZyAtMwogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODc1CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzW3Bvb2xTZXRbaV0ucG9vbElkIC0gMV0udG90YWxBbGdvU3Rha2VkICsKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBmcmFtZV9kaWcgMQogICAgaW50Y18zIC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgc3dhcAogICAgaW50YyA0IC8vIDI2OAogICAgaW50YyA1IC8vIDQzMgogICAgZXh0cmFjdDMKICAgIHN3YXAKICAgIGludGNfMiAvLyAxOAogICAgKgogICAgaW50Y18yIC8vIDE4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NzUtODc2CiAgICAvLyB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzW3Bvb2xTZXRbaV0ucG9vbElkIC0gMV0udG90YWxBbGdvU3Rha2VkICsKICAgIC8vICAgICBhbW91bnRUb1N0YWtlIDw9CiAgICBmcmFtZV9kaWcgLTEKICAgICsKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg3NS04NzcKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUucG9vbHNbcG9vbFNldFtpXS5wb29sSWQgLSAxXS50b3RhbEFsZ29TdGFrZWQgKwogICAgLy8gICAgIGFtb3VudFRvU3Rha2UgPD0KICAgIC8vIG1heFBlclBvb2wKICAgIGZyYW1lX2RpZyAxMQogICAgPD0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg3NC04NzgKICAgIC8vIGlmICgKICAgIC8vICAgICB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnBvb2xzW3Bvb2xTZXRbaV0ucG9vbElkIC0gMV0udG90YWxBbGdvU3Rha2VkICsKICAgIC8vICAgICAgICAgYW1vdW50VG9TdGFrZSA8PQogICAgLy8gICAgIG1heFBlclBvb2wKICAgIC8vICkgewogICAgYnogY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyX2Jsb2NrQDEwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4NzkKICAgIC8vIHJldHVybiBbcG9vbFNldFtpXSwgaXNOZXdTdGFrZXJUb1ZhbGlkYXRvciwgaXNOZXdTdGFrZXJUb1Byb3RvY29sXQogICAgZnJhbWVfZGlnIDEKICAgIGJ5dGVjIDcgLy8gMHgwMAogICAgY29uY2F0CiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyX2Jsb2NrQDEwOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODY1CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgcG9vbFNldC5sZW5ndGg7IGkgKz0gMSkgewogICAgZnJhbWVfZGlnIDYKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDYKICAgIGIgY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyX3doaWxlX3RvcEAyCgpjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZmluZFBvb2xGb3JTdGFrZXJfYWZ0ZXJfaWZfZWxzZUAxMjoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg4NwogICAgLy8gYW1vdW50VG9TdGFrZSA+PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5taW5FbnRyeVN0YWtlLAogICAgZnJhbWVfZGlnIC0zCiAgICBpdG9iCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMwogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODg3CiAgICAvLyBhbW91bnRUb1N0YWtlID49IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm1pbkVudHJ5U3Rha2UsCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGZyYW1lX2J1cnkgMAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGR1cAogICAgZXh0cmFjdCAwIDI0MgogICAgcHVzaGludCAyMDkgLy8gMjA5CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZnJhbWVfZGlnIC0xCiAgICA8PQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODg2LTg4OQogICAgLy8gYXNzZXJ0KAogICAgLy8gICAgIGFtb3VudFRvU3Rha2UgPj0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcubWluRW50cnlTdGFrZSwKICAgIC8vICAgICAnbXVzdCBzdGFrZSBhdCBsZWFzdCB0aGUgbWluaW11bSBmb3IgdGhpcyBwb29sJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBtdXN0IHN0YWtlIGF0IGxlYXN0IHRoZSBtaW5pbXVtIGZvciB0aGlzIHBvb2wKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg5MwogICAgLy8gY29uc3QgY3VyTnVtUG9vbHMgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLnN0YXRlLm51bVBvb2xzLmFzVWludDY0KCkKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGZyYW1lX2J1cnkgNQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODk0CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgY3VyTnVtUG9vbHM7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgNwoKY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyX3doaWxlX3RvcEAxMzoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg5NAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGN1ck51bVBvb2xzOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyA3CiAgICBmcmFtZV9kaWcgNQogICAgPAogICAgYnogY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyX2FmdGVyX3doaWxlQDE3CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo4OTUKICAgIC8vIGlmIChwb29sc1tpXS50b3RhbEFsZ29TdGFrZWQgKyBhbW91bnRUb1N0YWtlIDw9IG1heFBlclBvb2wpIHsKICAgIGZyYW1lX2RpZyAwCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgZnJhbWVfZGlnIDcKICAgIGludGNfMiAvLyAxOAogICAgKgogICAgaW50Y18yIC8vIDE4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgZnJhbWVfYnVyeSAyCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZnJhbWVfZGlnIC0xCiAgICArCiAgICBmcmFtZV9kaWcgMTEKICAgIDw9CiAgICBieiBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuZmluZFBvb2xGb3JTdGFrZXJfYWZ0ZXJfaWZfZWxzZUAxNgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODk3CiAgICAvLyB7IGlkOiB2YWxpZGF0b3JJZCwgcG9vbElkOiBpICsgMSwgcG9vbEFwcElkOiBwb29sc1tpXS5wb29sQXBwSWQgfSwKICAgIGZyYW1lX2RpZyA3CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfZGlnIDIKICAgIGV4dHJhY3QgMCA4CiAgICBzd2FwCiAgICBpdG9iCiAgICBmcmFtZV9kaWcgMwogICAgc3dhcAogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjg5Ni05MDAKICAgIC8vIHJldHVybiBbCiAgICAvLyAgICAgeyBpZDogdmFsaWRhdG9ySWQsIHBvb2xJZDogaSArIDEsIHBvb2xBcHBJZDogcG9vbHNbaV0ucG9vbEFwcElkIH0sCiAgICAvLyAgICAgaXNOZXdTdGFrZXJUb1ZhbGlkYXRvciwKICAgIC8vICAgICBpc05ld1N0YWtlclRvUHJvdG9jb2wsCiAgICAvLyBdCiAgICBieXRlYyA3IC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9kaWcgOQogICAgc2V0Yml0CiAgICBpbnRjXzEgLy8gMQogICAgZnJhbWVfZGlnIDEwCiAgICBzZXRiaXQKICAgIGNvbmNhdAogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCmNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5maW5kUG9vbEZvclN0YWtlcl9hZnRlcl9pZl9lbHNlQDE2OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6ODk0CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgY3VyTnVtUG9vbHM7IGkgKz0gMSkgewogICAgZnJhbWVfZGlnIDcKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDcKICAgIGIgY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyX3doaWxlX3RvcEAxMwoKY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmZpbmRQb29sRm9yU3Rha2VyX2FmdGVyX3doaWxlQDE3OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTA0CiAgICAvLyByZXR1cm4gW3sgaWQ6IHZhbGlkYXRvcklkLCBwb29sSWQ6IDAsIHBvb2xBcHBJZDogMCB9LCBpc05ld1N0YWtlclRvVmFsaWRhdG9yLCBpc05ld1N0YWtlclRvUHJvdG9jb2xdCiAgICBpbnRjXzAgLy8gMAogICAgaXRvYgogICAgZnJhbWVfZGlnIDMKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgYnl0ZWMgNyAvLyAweDAwCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfZGlnIDkKICAgIHNldGJpdAogICAgaW50Y18xIC8vIDEKICAgIGZyYW1lX2RpZyAxMAogICAgc2V0Yml0CiAgICBjb25jYXQKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgoKLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OlZhbGlkYXRvclJlZ2lzdHJ5LmNhbGxlck11c3RCZU93bmVyKHZhbGlkYXRvcklkOiB1aW50NjQpIC0+IHZvaWQ6CmNhbGxlck11c3RCZU93bmVyOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTgyCiAgICAvLyBwcml2YXRlIGNhbGxlck11c3RCZU93bmVyKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUpOiB2b2lkIHsKICAgIHByb3RvIDEgMAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTg0CiAgICAvLyBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lciwKICAgIHR4biBTZW5kZXIKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTg0CiAgICAvLyBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lciwKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDAgMjQyCiAgICBleHRyYWN0IDggMzIKICAgID09CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5ODMtOTg2CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgICAgVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIsCiAgICAvLyAgICAgJ2NhbiBvbmx5IGJlIGNhbGxlZCBieSB2YWxpZGF0b3Igb3duZXInLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGJlIGNhbGxlZCBieSB2YWxpZGF0b3Igb3duZXIKICAgIHJldHN1YgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5jYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcih2YWxpZGF0b3JJZDogdWludDY0KSAtPiB2b2lkOgpjYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcjoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk4OQogICAgLy8gcHJpdmF0ZSBjYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcih2YWxpZGF0b3JJZDogVmFsaWRhdG9ySWRUeXBlKTogdm9pZCB7CiAgICBwcm90byAxIDAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk5MQogICAgLy8gVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIgfHwKICAgIHR4biBTZW5kZXIKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTA4CiAgICAvLyB2YWxpZGF0b3JMaXN0ID0gQm94TWFwPFZhbGlkYXRvcklkVHlwZSwgVmFsaWRhdG9ySW5mbz4oeyBrZXlQcmVmaXg6ICd2JyB9KQogICAgYnl0ZWNfMCAvLyAidiIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5OTEKICAgIC8vIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm93bmVyIHx8CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDI0MgogICAgZXh0cmFjdCA4IDMyCiAgICA9PQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6OTkxLTk5MgogICAgLy8gVHhuLnNlbmRlciA9PT0gdGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5jb25maWcub3duZXIgfHwKICAgIC8vICAgICBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5tYW5hZ2VyLAogICAgYm56IGNhbGxlck11c3RCZU93bmVyT3JNYW5hZ2VyX2Jvb2xfdHJ1ZUAyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5OTIKICAgIC8vIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm1hbmFnZXIsCiAgICB0eG4gU2VuZGVyCiAgICBmcmFtZV9kaWcgMAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMCAyNDIKICAgIGV4dHJhY3QgNDAgMzIKICAgID09CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo5OTEtOTkyCiAgICAvLyBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lciB8fAogICAgLy8gICAgIFR4bi5zZW5kZXIgPT09IHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUuY29uZmlnLm1hbmFnZXIsCiAgICBieiBjYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcl9ib29sX2ZhbHNlQDMKCmNhbGxlck11c3RCZU93bmVyT3JNYW5hZ2VyX2Jvb2xfdHJ1ZUAyOgogICAgaW50Y18xIC8vIDEKCmNhbGxlck11c3RCZU93bmVyT3JNYW5hZ2VyX2Jvb2xfbWVyZ2VANDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjk5MC05OTQKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5vd25lciB8fAogICAgLy8gICAgICAgICBUeG4uc2VuZGVyID09PSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5tYW5hZ2VyLAogICAgLy8gICAgICdjYW4gb25seSBiZSBjYWxsZWQgYnkgb3duZXIgb3IgbWFuYWdlciBvZiB2YWxpZGF0b3InLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGJlIGNhbGxlZCBieSBvd25lciBvciBtYW5hZ2VyIG9mIHZhbGlkYXRvcgogICAgcmV0c3ViCgpjYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcl9ib29sX2ZhbHNlQDM6CiAgICBpbnRjXzAgLy8gMAogICAgYiBjYWxsZXJNdXN0QmVPd25lck9yTWFuYWdlcl9ib29sX21lcmdlQDQKCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkudmVyaWZ5UG9vbEtleUNhbGxlcihwb29sS2V5OiBieXRlcykgLT4gYnl0ZXM6CnZlcmlmeVBvb2xLZXlDYWxsZXI6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDAyCiAgICAvLyBwcml2YXRlIHZlcmlmeVBvb2xLZXlDYWxsZXIocG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSk6IHZvaWQgewogICAgcHJvdG8gMSAxCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDAzCiAgICAvLyBhc3NlcnQodGhpcy52YWxpZGF0b3JMaXN0KHBvb2xLZXkuaWQpLmV4aXN0cywgInRoZSBzcGVjaWZpZWQgdmFsaWRhdG9yIGlkIGlzbid0IHZhbGlkIikKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwOAogICAgLy8gdmFsaWRhdG9yTGlzdCA9IEJveE1hcDxWYWxpZGF0b3JJZFR5cGUsIFZhbGlkYXRvckluZm8+KHsga2V5UHJlZml4OiAndicgfSkKICAgIGJ5dGVjXzAgLy8gInYiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAwMwogICAgLy8gYXNzZXJ0KHRoaXMudmFsaWRhdG9yTGlzdChwb29sS2V5LmlkKS5leGlzdHMsICJ0aGUgc3BlY2lmaWVkIHZhbGlkYXRvciBpZCBpc24ndCB2YWxpZCIpCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyB0aGUgc3BlY2lmaWVkIHZhbGlkYXRvciBpZCBpc24ndCB2YWxpZAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAwNAogICAgLy8gYXNzZXJ0KHBvb2xLZXkucG9vbElkIDw9IE1BWF9QT09MUywgJ3Bvb2wgaWQgbm90IGluIHZhbGlkIHJhbmdlJykKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18zIC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXBuIDIKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgIDw9CiAgICBhc3NlcnQgLy8gcG9vbCBpZCBub3QgaW4gdmFsaWQgcmFuZ2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMDYKICAgIC8vIHBvb2xLZXkucG9vbElkID4gMCAmJiBwb29sS2V5LnBvb2xJZCA8PSB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUuc3RhdGUubnVtUG9vbHMuYXNVaW50NjQoKSwKICAgIGJ6IHZlcmlmeVBvb2xLZXlDYWxsZXJfYm9vbF9mYWxzZUAzCiAgICBmcmFtZV9kaWcgMQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMjQyIDI2CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGZyYW1lX2RpZyAyCiAgICA+PQogICAgYnogdmVyaWZ5UG9vbEtleUNhbGxlcl9ib29sX2ZhbHNlQDMKICAgIGludGNfMSAvLyAxCgp2ZXJpZnlQb29sS2V5Q2FsbGVyX2Jvb2xfbWVyZ2VANDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMDUtMTAwOAogICAgLy8gYXNzZXJ0KAogICAgLy8gICAgIHBvb2xLZXkucG9vbElkID4gMCAmJiBwb29sS2V5LnBvb2xJZCA8PSB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUuc3RhdGUubnVtUG9vbHMuYXNVaW50NjQoKSwKICAgIC8vICAgICAncG9vbCBpZCBvdXRzaWRlIG9mIHJhbmdlIG9mIHBvb2xzIGNyZWF0ZWQgZm9yIHRoaXMgdmFsaWRhdG9yJywKICAgIC8vICkKICAgIGFzc2VydCAvLyBwb29sIGlkIG91dHNpZGUgb2YgcmFuZ2Ugb2YgcG9vbHMgY3JlYXRlZCBmb3IgdGhpcyB2YWxpZGF0b3IKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMTIKICAgIC8vIHBvb2xLZXkucG9vbEFwcElkID09PSB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXS5wb29sQXBwSWQsCiAgICBmcmFtZV9kaWcgLTEKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICBmcmFtZV9kaWcgMQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyAyCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBzd2FwCiAgICBpbnRjIDQgLy8gMjY4CiAgICBpbnRjIDUgLy8gNDMyCiAgICBleHRyYWN0MwogICAgc3dhcAogICAgaW50Y18yIC8vIDE4CiAgICAqCiAgICBpbnRjXzIgLy8gMTgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgPT0KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMTEtMTAxNAogICAgLy8gYXNzZXJ0KAogICAgLy8gICAgIHBvb2xLZXkucG9vbEFwcElkID09PSB0aGlzLnZhbGlkYXRvckxpc3QocG9vbEtleS5pZCkudmFsdWUucG9vbHNbcG9vbEtleS5wb29sSWQgLSAxXS5wb29sQXBwSWQsCiAgICAvLyAgICAgIlRoZSBwYXNzZWQgaW4gYXBwIGlkIGRvZXNuJ3QgbWF0Y2ggdGhlIHBhc3NlZCBpbiBpZHMiLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIFRoZSBwYXNzZWQgaW4gYXBwIGlkIGRvZXNuJ3QgbWF0Y2ggdGhlIHBhc3NlZCBpbiBpZHMKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEwMTYKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSBBcHBsaWNhdGlvbihwb29sS2V5LnBvb2xBcHBJZCkuYWRkcmVzcykKICAgIHR4biBTZW5kZXIKICAgIGRpZyAxCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDE4CiAgICAvLyBhc3NlcnQocG9vbEtleS5pZCA9PT0gb3AuQXBwR2xvYmFsLmdldEV4VWludDY0KHBvb2xLZXkucG9vbEFwcElkLCBCeXRlcygndmFsaWRhdG9ySWQnKSlbMF0pCiAgICBkdXAKICAgIHB1c2hieXRlcyAidmFsaWRhdG9ySWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICBmcmFtZV9kaWcgMAogICAgPT0KICAgIGFzc2VydAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTAxOQogICAgLy8gYXNzZXJ0KHBvb2xLZXkucG9vbElkID09PSBvcC5BcHBHbG9iYWwuZ2V0RXhVaW50NjQocG9vbEtleS5wb29sQXBwSWQsIEJ5dGVzKCdwb29sSWQnKSlbMF0pCiAgICBwdXNoYnl0ZXMgInBvb2xJZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgID09CiAgICBhc3NlcnQKICAgIGZyYW1lX2RpZyAtMQogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCnZlcmlmeVBvb2xLZXlDYWxsZXJfYm9vbF9mYWxzZUAzOgogICAgaW50Y18wIC8vIDAKICAgIGIgdmVyaWZ5UG9vbEtleUNhbGxlcl9ib29sX21lcmdlQDQKCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuYWRkUG9vbFRvTm9kZSh2YWxpZGF0b3JJZDogdWludDY0LCBwb29sQXBwSWQ6IHVpbnQ2NCwgbm9kZU51bTogdWludDY0KSAtPiB2b2lkOgphZGRQb29sVG9Ob2RlOgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIwNAogICAgLy8gcHJpdmF0ZSBhZGRQb29sVG9Ob2RlKHZhbGlkYXRvcklkOiBWYWxpZGF0b3JJZFR5cGUsIHBvb2xBcHBJZDogdWludDY0LCBub2RlTnVtOiB1aW50NjQpIHsKICAgIHByb3RvIDMgMAogICAgYnl0ZWNfMiAvLyAiIgogICAgZHVwbiAyCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjA1CiAgICAvLyBjb25zdCBub2RlUG9vbEFzc2lnbm1lbnRzID0gY2xvbmUodGhpcy52YWxpZGF0b3JMaXN0KHZhbGlkYXRvcklkKS52YWx1ZS5ub2RlUG9vbEFzc2lnbm1lbnRzKQogICAgZnJhbWVfZGlnIC0zCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMDgKICAgIC8vIHZhbGlkYXRvckxpc3QgPSBCb3hNYXA8VmFsaWRhdG9ySWRUeXBlLCBWYWxpZGF0b3JJbmZvPih7IGtleVByZWZpeDogJ3YnIH0pCiAgICBieXRlY18wIC8vICJ2IgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMDUKICAgIC8vIGNvbnN0IG5vZGVQb29sQXNzaWdubWVudHMgPSBjbG9uZSh0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLm5vZGVQb29sQXNzaWdubWVudHMpCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMDYKICAgIC8vIGNvbnN0IG1heFBvb2xzUGVyTm9kZUZvclRoaXNWYWxpZGF0b3IgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5wb29sc1Blck5vZGUKICAgIGV4dHJhY3QgMCAyNDIKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMDgKICAgIC8vIGFzc2VydChub2RlTnVtID49IDEgJiYgbm9kZU51bSA8PSBNQVhfTk9ERVMsICdub2RlIG51bWJlciBub3QgaW4gdmFsaWQgcmFuZ2UnKQogICAgZnJhbWVfZGlnIC0xCiAgICBieiBhZGRQb29sVG9Ob2RlX2Jvb2xfZmFsc2VAMwogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjXzMgLy8gOAogICAgPD0KICAgIGJ6IGFkZFBvb2xUb05vZGVfYm9vbF9mYWxzZUAzCiAgICBpbnRjXzEgLy8gMQoKYWRkUG9vbFRvTm9kZV9ib29sX21lcmdlQDQ6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjA4CiAgICAvLyBhc3NlcnQobm9kZU51bSA+PSAxICYmIG5vZGVOdW0gPD0gTUFYX05PREVTLCAnbm9kZSBudW1iZXIgbm90IGluIHZhbGlkIHJhbmdlJykKICAgIGFzc2VydCAvLyBub2RlIG51bWJlciBub3QgaW4gdmFsaWQgcmFuZ2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMTAKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBtYXhQb29sc1Blck5vZGVGb3JUaGlzVmFsaWRhdG9yLmFzVWludDY0KCk7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgMgoKYWRkUG9vbFRvTm9kZV93aGlsZV90b3BANToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMTAKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBtYXhQb29sc1Blck5vZGVGb3JUaGlzVmFsaWRhdG9yLmFzVWludDY0KCk7IGkgKz0gMSkgewogICAgZnJhbWVfZGlnIDUKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMDYKICAgIC8vIGNvbnN0IG1heFBvb2xzUGVyTm9kZUZvclRoaXNWYWxpZGF0b3IgPSB0aGlzLnZhbGlkYXRvckxpc3QodmFsaWRhdG9ySWQpLnZhbHVlLmNvbmZpZy5wb29sc1Blck5vZGUKICAgIHB1c2hpbnQgMjI1IC8vIDIyNQogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIxMAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IG1heFBvb2xzUGVyTm9kZUZvclRoaXNWYWxpZGF0b3IuYXNVaW50NjQoKTsgaSArPSAxKSB7CiAgICBnZXRieXRlCiAgICBmcmFtZV9kaWcgMgogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIDwKICAgIGFzc2VydCAvLyBubyBhdmFpbGFibGUgc3BhY2UgaW4gc3BlY2lmaWVkIG5vZGUgZm9yIHRoaXMgcG9vbAogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTIxMQogICAgLy8gaWYgKG5vZGVQb29sQXNzaWdubWVudHMubm9kZXNbbm9kZU51bSAtIDFdLnBvb2xBcHBJZHNbaV0gPT09IDApIHsKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGZyYW1lX2RpZyA0CiAgICBpbnRjIDggLy8gOTAwCiAgICBpbnRjIDkgLy8gMTkyCiAgICBleHRyYWN0MwogICAgZXh0cmFjdCAwIDE5MgogICAgc3dhcAogICAgcHVzaGludCAyNCAvLyAyNAogICAgKgogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZXh0cmFjdCAwIDI0CiAgICBzd2FwCiAgICBpbnRjXzMgLy8gOAogICAgKgogICAgZHVwCiAgICBmcmFtZV9idXJ5IDEKICAgIGV4dHJhY3RfdWludDY0CiAgICBibnogYWRkUG9vbFRvTm9kZV9hZnRlcl9pZl9lbHNlQDgKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEyMTMKICAgIC8vIHRoaXMudmFsaWRhdG9yTGlzdCh2YWxpZGF0b3JJZCkudmFsdWUubm9kZVBvb2xBc3NpZ25tZW50cy5ub2Rlc1tub2RlTnVtIC0gMV0ucG9vbEFwcElkc1tpXSA9IHBvb2xBcHBJZAogICAgZnJhbWVfZGlnIC0yCiAgICBpdG9iCiAgICBpbnRjIDggLy8gOTAwCiAgICBmcmFtZV9kaWcgMAogICAgKwogICAgZnJhbWVfZGlnIDIKICAgIHB1c2hpbnQgMyAvLyAzCiAgICA8CiAgICBhc3NlcnQgLy8gaW5kZXggb3V0IG9mIGJvdW5kcwogICAgZnJhbWVfZGlnIDEKICAgICsKICAgIGZyYW1lX2RpZyAzCiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjE0CiAgICAvLyByZXR1cm4KICAgIHJldHN1YgoKYWRkUG9vbFRvTm9kZV9hZnRlcl9pZl9lbHNlQDg6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMjEwCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgbWF4UG9vbHNQZXJOb2RlRm9yVGhpc1ZhbGlkYXRvci5hc1VpbnQ2NCgpOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyAyCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSAyCiAgICBiIGFkZFBvb2xUb05vZGVfd2hpbGVfdG9wQDUKCmFkZFBvb2xUb05vZGVfYm9vbF9mYWxzZUAzOgogICAgaW50Y18wIC8vIDAKICAgIGIgYWRkUG9vbFRvTm9kZV9ib29sX21lcmdlQDQKCgovLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czo6VmFsaWRhdG9yUmVnaXN0cnkuaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0KG5mZEFwcElEOiB1aW50NjQsIGFkZHJUb0ZpbmQ6IGJ5dGVzKSAtPiB1aW50NjQ6CmlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdDoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMjkKICAgIC8vIHByaXZhdGUgaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0KG5mZEFwcElEOiB1aW50NjQsIGFkZHJUb0ZpbmQ6IEFjY291bnQpOiBib29sZWFuIHsKICAgIHByb3RvIDIgMQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMzAtMTMzMwogICAgLy8gaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbihuZmRBcHBJRCksCiAgICAvLyAgICAgYXBwQXJnczogW0J5dGVzKCdyZWFkX3Byb3BlcnR5JyksIEJ5dGVzKCd2LmNhQWxnby4wLmFzJyldLAogICAgLy8gfSkuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMzIKICAgIC8vIGFwcEFyZ3M6IFtCeXRlcygncmVhZF9wcm9wZXJ0eScpLCBCeXRlcygndi5jYUFsZ28uMC5hcycpXSwKICAgIHB1c2hieXRlcyAicmVhZF9wcm9wZXJ0eSIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBwdXNoYnl0ZXMgInYuY2FBbGdvLjAuYXMiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIC0yCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMzAtMTMzMwogICAgLy8gaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbihuZmRBcHBJRCksCiAgICAvLyAgICAgYXBwQXJnczogW0J5dGVzKCdyZWFkX3Byb3BlcnR5JyksIEJ5dGVzKCd2LmNhQWxnby4wLmFzJyldLAogICAgLy8gfSkuc3VibWl0KCkKICAgIHB1c2hpbnQgNiAvLyA2CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzM0CiAgICAvLyBjb25zdCBjYUFsZ29EYXRhID0gb3AuSVR4bi5sYXN0TG9nCiAgICBpdHhuIExhc3RMb2cKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMzUKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBjYUFsZ29EYXRhLmxlbmd0aDsgaSArPSAzMikgewogICAgaW50Y18wIC8vIDAKCmlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdF93aGlsZV90b3BAMjoKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzMzUKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBjYUFsZ29EYXRhLmxlbmd0aDsgaSArPSAzMikgewogICAgZnJhbWVfZGlnIDEKICAgIGxlbgogICAgZnJhbWVfZGlnIDIKICAgID4KICAgIGJ6IGlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdF9hZnRlcl93aGlsZUA3CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzM2CiAgICAvLyBjb25zdCBhZGRyID0gb3AuZXh0cmFjdChjYUFsZ29EYXRhLCBpLCAzMikKICAgIGZyYW1lX2RpZyAxCiAgICBmcmFtZV9kaWcgMgogICAgcHVzaGludCAzMiAvLyAzMgogICAgZXh0cmFjdDMKICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzM3CiAgICAvLyBpZiAoYWRkciAhPT0gZW5jb2RlQXJjNChHbG9iYWwuemVyb0FkZHJlc3MpICYmIGFkZHIgPT09IGVuY29kZUFyYzQoYWRkclRvRmluZCkpIHsKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgIT0KICAgIGJ6IGlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdF9hZnRlcl9pZl9lbHNlQDYKICAgIGZyYW1lX2RpZyAwCiAgICBmcmFtZV9kaWcgLTEKICAgID09CiAgICBieiBpc0FkZHJlc3NJbk5GRENBQWxnb0xpc3RfYWZ0ZXJfaWZfZWxzZUA2CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzM4CiAgICAvLyByZXR1cm4gdHJ1ZQogICAgaW50Y18xIC8vIDEKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgppc0FkZHJlc3NJbk5GRENBQWxnb0xpc3RfYWZ0ZXJfaWZfZWxzZUA2OgogICAgLy8gY29udHJhY3RzL3ZhbGlkYXRvclJlZ2lzdHJ5LmFsZ28udHM6MTMzNQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGNhQWxnb0RhdGEubGVuZ3RoOyBpICs9IDMyKSB7CiAgICBmcmFtZV9kaWcgMgogICAgcHVzaGludCAzMiAvLyAzMgogICAgKwogICAgZnJhbWVfYnVyeSAyCiAgICBiIGlzQWRkcmVzc0luTkZEQ0FBbGdvTGlzdF93aGlsZV90b3BAMgoKaXNBZGRyZXNzSW5ORkRDQUFsZ29MaXN0X2FmdGVyX3doaWxlQDc6CiAgICAvLyBjb250cmFjdHMvdmFsaWRhdG9yUmVnaXN0cnkuYWxnby50czoxMzQxCiAgICAvLyByZXR1cm4gZmFsc2UKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKCi8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjpWYWxpZGF0b3JSZWdpc3RyeS5tYXhBbGxvd2VkU3Rha2UoKSAtPiB1aW50NjQ6Cm1heEFsbG93ZWRTdGFrZToKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNzMKICAgIC8vIHJldHVybiBvcC5vbmxpbmVTdGFrZSgpCiAgICBvbmxpbmVfc3Rha2UKICAgIC8vIGNvbnRyYWN0cy92YWxpZGF0b3JSZWdpc3RyeS5hbGdvLnRzOjEzNjIKICAgIC8vIHJldHVybiB3aWRlUmF0aW8oW29ubGluZSwgTUFYX1ZBTElEQVRPUl9IQVJEX1BDVF9PRl9PTkxJTkVfMURFQ0lNQUxdLCBbMTAwMF0pCiAgICBpdG9iCiAgICBieXRlYyAxMSAvLyAweDAwMDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgcHVzaGludCAxNTAgLy8gMTUwCiAgICBpdG9iCiAgICBjb25jYXQKICAgIGJ5dGVjIDE1IC8vIDB4MDAwMTAwMDAwMDAwMDAwMDAzZTgKICAgIGNhbGxzdWIgd2lkZVJhdGlvCiAgICBwb3BuIDIKICAgIHJldHN1Ygo=",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "byteCode": {
        "approval": "CyARAAESCIwCsAPIAbwFhAfAAcCEPeIBgCCWAvwB9MIEACYSAXYEFR98dQAGc3Rha2VkCm51bVN0YWtlcnMZcG9vbFRlbXBsYXRlQXBwcm92YWxCeXRlcwNzcHMBAARudW1WCWkub3duZXIuYQRpbml0AgACAgAAAwaBARAAAAAAAAAAAAAAAAAAAAABCgABAAAAAAAAA+gEY/PyiwQS9L1LMRkURDEYQQEggiEEG16CxgR5Ry2DBF96z9kEMXLKnQSKhxQtBNE2bMMEOwRcXAR1r/YdBB8vAQkEL6IsSwSRDpSsBFcnZ9EEm1BKrwT7xjF4BCRJjPQE+EbdegSDBQUBBHu7bI0E+DlBSgQMMXz7BD4oiXIE3V+q2gQYqsenBPme9U0EEICdTQTneN1aBL9SWdAETfjYbgRBj878BKLcUbUEKHP1BAQFR/T+BMtmg1g2GgCOIQEXASIALAAqAAEBOgGXAaMBtgHJAeUCMgJ1ApcCpQK7Ax0DMgNMA1UEcASNBLAE0wTxBVQGTQmXCqoLpg4lDjkO9gCAJBUffHUAAAAAAAbCFAAAAAAADrOsAAAAAABPu1QAAAAAAAEhdLAjQyNDJwojZyNDgAS4RHs2NhoAjgEAxwCKAgCL/oEKCIsAMgwNQQAqsYEGshCBBbIZJw2yHicNsh+L/40CAAsABLNC/9syALIBQv/1IrIBQv/viYoCAyIqSScOi/4iWSKLBYsEDEEAJIv+VwIAiwVJTgIlCyVYiwOjSRWBEA5EgRCvq4wDIwiMBUL/1CcOjACL/yJZjAEijAKLAosBDEEAJIv/VwIAiwJJTgIlCyVYiwCjSRWBEA5EgRCvq4wAIwiMAkL/1IsDiwCiSRUlDkQlr6sXi/6L/4wCjAGMAIknCiJnJwgiZycEImcrImcjQzYaARcnBUy5SCNDNhoBFzYaAlcCACInCmVEFEQnBU4CuyNDMhaIES51FicLTFCBZBZQJw+I/y1GAk8CFoAoAAAAAAAAAAEAAAAAAA9CQAAAAAAAAAAAAAAAAAAPQkAAAAAAAA9CQExQTwIWUEwWUCUWUIEDFlAhBhZQKUxQsCNDIicIZUQWKUxQsCNDNhoBFxYoTFC+RFcA8ilMULAjQzYaARcWKExQvkRX8hopTFCwI0M2GgEXFihMUL5EVwDySVcIIExXKCBQKUxQsCNDIjYaARcnDEwWKExQvkQiSYEYDEEAMEsBIQQhBVhLASQLJFhJRQUiW0EAG0sCSUsFUEwiWSMIFlcGAlwARQNJIwhFAUL/ySlLA1CwI0M2GgEXNhoCF0lBADNLARYoTFC9RQFESYEYDkEAIiNESwEWKExQvkRLASMJTCEEIQVYTCQLJFhXAAgpTFCwI0MiQv/bNhoBSVcACChMUL5ETCVbIwlMIQQhBVhMJAskWClMULAjQzYaAReIDMoWKUxQsCNDJwY2GgFQvUUBFCcHIk8CVClMULAjQyJHAionBjYaAVBJvUUBQAAIJwwpTFCwI0MnDEUDSb5MRQVEIkUCSwGBBgxBAC9LAYEYC0sETIEYWElFBiJbQQATSwJJSwZQTCJZIwgWVwYCXABFA0sBIwhFAkL/yUsCQv+xNhoBFxYoTFC+RCEHIQZYKUxQsCNDNhoBFxYoTFBJvUUBRL5IIQghCVgpTFCwI0MhEBYpTFCwI0MiKkcEMRYjCUk4ECMSRDYaAkcCVwggSU4CSTIDE0RLAVcoIElOAzIDE0QxABJEgVBVgQQOQQDgI0RLAoGpAVpJRQlBAM5LByEKDkEAxiNESwKBrQFaSUUIIQoOQQCxI0RLBkEACUsCV7EgMgMTREsCSYHRAVshCg9EgeEBVUlFB0EAiEsFgQMOQQCAI0RLAiELW0lFBkEABksEMgcNREsDSTgHMgoSSwE4CIGUhBsSEEQ4AYGAreIEDUQiJwhlRCMIJwhLAWcWSUULKEsBUEmBxAi5SEkiSwZJTgS7Ik8Du4FIW0lFCkEACjEASwknCWVIEkRLCUlLA1BLAlCABKjdIctMULApTFCwI0MiQv99IkL/TCJC/zciQv8dNhoBFzYaAksBiAxBSTIDE0RMFihMUIEoTwK7I0M2GgEXNhoCNhoDSwKIDCFPAhYoTFBJIQtPBLuB6gFPArsjQzYaARc2GgJJF0sCiAv/MQBMJwllSBJETBYoTFCBSE8CuyNDNhoBFzYaAksBiAveSTIDE0RMFihMUIGxAU8CuyNDNhoBF0k2GgJJTwI2GgNOAjYaBE4CNhoFTgI2GgZOAogLqhdJgQQMQQA1I0RJIxJBAAZLBDIDE0RLBhYoTFBJgVBLCLtJgVFLB7tJgXFLBrtJgZEBSwW7gaEBSwO7I0MiQv/IMRYjCUk4ECMSRDYaARc2GgIXSwGIC2hLAjgHMgoSTwM4CIGs5zoSEERLARYoSwFQSb1FAURJvkhJV/IaIllJgRgPFEQjCLEnBSIhDLonBb1IIQwJJwUhDE8CujIIFksDFk8FVwDyV9EIgARZ6QqmshpPArIaSwayGksBshqyGoEDsjiBA7I1gQuyNIAEC4EBQ7JCTwKyQEyyQCKyGYEGshAisgGzSZOBEA5ESVcGAksDgfIBSwK7tD1PAyMJSwEWSwGBGAxETCQLIQQITwVMSwK7TwZPAk8GiAtXSwNPAlBMUIAE+8wPa0xQsLQ9TgJQTBZQKUxQsCNDIkcHKkcOMRYjCUk4ECMSRDYaARdJNhoCF0wWSShMUEcCvUUBRL5IVwDyIQtbQQANSb5EVwDyIQtbMgcNRDEASUUYSwVJTgI4AElFGBJMOAcyChIQREm+RFcA8oFQVUlFCkEA4zEARRZJvkxFHURLCCMSSUUJQAAQSwiBAhJAAAhLCIEDEkEAIUsCREm+RFcA8oGRAVtJRRVAAAMjRRRLFUsDcABISxQPREsHQQAPSwJxC0RLHFcA8ldRIBJESwiBAhJBACciRRIiRQ1LDIEEDEEAFksbVwDyV3EgSw0lC1tLAxJBAlsjRRJLEURLCIEDEkEAE0sbVwDyV3EgIltLA3ELRIgKsURLCIEEEkEAOEsCJwllSEsWEkAACksCSxaICpVBAhgjREsCgA1pLnBhcmVudEFwcElEZUgXSxxXAPJXcSAiWxJESwQ4CEULIkUMJwZLF1BJRRu9RQFBAcpLCkUKSb5EV/IagQpbSwpJTgIIiAqsDERLBEsYTwKIB9VJVwAYSU4CRRtJIQlTRRCBwQFTRRAlW0lFBxQUREsZSb1FAUS+SEUYIkUTIkURSxm9RQFESxCBBgxBAVlLEIEYC0sYTIEYWElFHCJbSUUISxkiWxJBABhLGiVbSwYSQQAOSxqBEFtLGYEQWxJAABlLEkAAC0sGQAAGSxAjCEUTSxAjCEURQv+mSxhXAAgoTFBJRQJJvkRLByMJTCEEIQVYSwEkC0xLASRYIluxSw5LEAlJTgJFFUlyCESyB0yyCCOyECKyAbaABPnHDL2yGksYshpJshiBBrIQIrIBs7cBPlcABCkSRIH0AyKI94dJJwRlTwIrZU8CRERMFkmTgRAORFcGAk8DgRgMREsCgZQCCEsETE8CuxZMIQ0ITLtLDUEAEkcCvkRX8hqBAlsjCBaB9AFMu0sOQQALIicEZUQjCCcETGdHAr5EV/IagQpbSxFJTgIIFk8CIQ5PArsiK2VECCtMZ0sFFkmTgRAORFcGAksZSU4CVxAISwRPAlBMUEsYUEsLFlCABJYrQUNMULApTFCwI0NLEkkUFEQjCYEYC0saTEsau0L+3yEPRQxLCiEPCUUKSxmBkAG5SEL+JSJC/eVLDCMIRQ1C/YEiKkcDNhoBFxYoTFBJvkQhBCEFWFcAEiJbRwJEMQBMcghEE0EAD0sBvkQhByEGWClMULAjQzIGRQVLAb5EIQchBlghCVtJRQRBAE9JgApsYXN0UGF5b3V0ZUhLAxJBAAxLAb5EIQchBlhC/8NLAb5EVwDygakBWksFSU4CSwEYTwJMCUsESU8DGAkSQQAMSwG+RCEHIQZYQv+VSwQWSwJJTgKB/AZPAru+SFfyGkkiWUUHVwoIRQciRQRLA0sGDEEARUsBSb5EIQQhBVhLBUlOAiQLJFhXCggnC0xQIQoWUIACAAFLClCI9fpGAhZLAYEYDERLASULIQcITwNMTwK7IwhFBEL/s0sBvkQhByEGWEL/HCI2GgE2GgIXSU8CNhoDF0lOA04DNhoEF04DNhoFF04DiAY3SU4DSVcACElOBChMUElOBEm+RE8CJVtJTgUjCUwhBCEFWEsBJAtMSwEkWIEKW0sECBZPAoEYDERMIQ0ISwJMTwK7Sb5IV/IagQpbSwIIFksBIQ5PArtJvkhX8hokW08DCBZLAYGEAk8CuyIrZURPAggrTGe+SFcA8kmBSFtJQQAlSScJZUhJRQxLAlcIIBNBABRLAVcoIEsLE0EACSIWSwSBSE8Cu0sCFkmTgRAORFcGAksGVxAISwZPAlBMUEsIFlBLBxZQSwoWUEsJFlCABLPkfD1MULAjQyJHBSpHCjYaAjYaATYaAxdJTgI2GgRJTgMXTgI2GgUiU04CgawCIoj0cEyIBTBMQAAFSwJBAkQjREcCVwAISUUVKExQSUUXSb5ETwIlW0lFCiMJTCEEIQVYSwEkC0lFFUxLASRYgQpbSwhJTgQJFk8CgRgMREwhDQhLA0xPArtLAb5IV/IagQpbSwEJFk8CIQ5PArsiK2VETAkrTGdLAkEBqksUSb5ESVcA8klXmQhFGYGZAVtJRQ5EV/IaJFtJSwVJTgMPREwJFoGEAky7SwYjE0EAKbFLFL5EIQQhBVhXABIiWycQshpLBrIaSxayGksEshqyGIEGshAisgGzSwYWSZOBEA5EVwYCSwFXEAhLFE8CUExQSwZQSwUWUEsDFlBLCxZQJxFMULBLAUEBG0sUSb5EIQQhBVhLEklOAiRYJVkjCRZJk4EQDkRXBgJMgZQCCEy7SVcQCEsHFksUTFBMUEUBIkUMIkUNIkUPJwZLBlBJRRW+TEUTRCJFDksTvUUBREsNgQYMQQB+Sw2BGAtJRRFLEkyBGFhJRRgiW0lFCUEAU0sMIwhFDUkiW0sIEklFCkEAQUsIQQBFSxYlW0sBJVsSQQA5SxaBEFtLAYEQWxJBACsjRQ9LE0sQgBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC7Sw0jCEUOQv99SwsjCEUMQv/uSw5ESwsUSw0UJwciTwNUI08CVEkiU0wjU0ULQQATSxRJvkRX8hqBAlsjCRaB9AFMu0sJQQALIicEZUQjCScETGcjQ0sGFkmTgRAORFcGAksBVxAISxRPAlBMUEsGUEsFFlAiFkxLAVBMUCcRTFCwQv6vIkL9uTYaARc2GgI2GgMXiAFuKUxQsCNDKkcENhoBF0k2GgIXTDYaAxdJTwJJiAKCFihMUElOAr5MTgJEQQCSSwIlDkEAiyNEIkUHSwYlDEQiRQhLB4EDDElFB0EAakkhCCEJWFcAwEsHgRgLSUUMgRhYVwAYSwglC0lFC1tLBBJBADxLAkkjCUsIE0QiFiEISwwISwhESwsISwRMTwK7sYAEUe87IbIaSwRJshiBBrIQIrIBs0sGTE8CiAKoI0NLByMIRQhC/4tLBiMIRQdC/3oiQv9yNhoBFzYaAksBiAG7TBYoTFC+RElXAPJJV5kITIGZAVtLAlfyGiRbSwFETwMhBCEFWFcAEiJbSXIIREsDcABISwIJsRYnELIaTwWyGk8EshpJshpLAbIYgQayECKyAbNMcghETwNwAEhPAhJEKUxQsCNDigEBi/8WKExQSb5EV/IaIlmIAvFMCky+RFcA8oHZAVtJQAAEMhaMAYsAiwEMQQAEiwCMAYsBjACJigMBIkcEKkcDI0mL/Yj/tycGi/5QSb1FAUEAdosMvkyMBESL/UQijAaLBoEGDEEAYYGsAiKI8GeLBoEYC4sETIEYWEmMASJbSYwIQQA7IowKiwiL/RJBADAijAmL/RYoTFC+RIsBJVsjCUwhBCEFWEwkCyRYgQpbi/8IiwsOQQAIiwEnB1CMAImLBiMIjAZC/5eL/RZJjAMoTFC+TElOAowARElXAPKB0QFbi/8ORFfyGiJZjAUijAeLB4sFDEEARIsAIQQhBViLByQLJFhJjAKBCluL/wiLCw5BAB+LByMIiwJXAAhMFosDTFBMUCcHIosJVCOLClRQjACJiwcjCIwHQv+0IhaLA0sBUExQJwciiwlUI4sKVFCMAImKAQAxAIv/FihMUL5EVwDyVwggEkSJigEAMQCL/xYoTFBJTgK+RFcA8lcIIBJAABAxAIsAvkRXAPJXKCASQQADI0SJIkL/+ooBAYv/IltJFihMUEm9RQFEi/8lW0cCgRgOREEAYIsBvkRX8hoiWYsCD0EAUSNEi/+BEFuLAb5EiwJJTgMjCUwhBCEFWEwkCyRYIltLARJEMQBLAXIIRBJESYALdmFsaWRhdG9ySWRlSIsAEkSABnBvb2xJZGVIEkSL/4wAiSJC/6yKAwAqRwKL/RYoTFBJvkxJTwJEVwDyi/9BAF+L/yUOQQBYI0QijAKLBYHhAVWLAklPAgxEi/8jCYsEIQghCVhXAMBMgRgLSYwAgRhYVwAYTCULSYwBW0AAGIv+FiEIiwAIiwKBAwxEiwEIiwNMTwK7iYsCIwiMAkL/rSJC/6WKAgEisYANcmVhZF9wcm9wZXJ0ebIagA12LmNhQWxnby4wLmFzshqL/rIYgQayECKyAbO0PiKLARWLAg1BACaLAYsCgSBYSYwAMgMTQQAMiwCL/xJBAAQjjACJiwKBIAiMAkL/0SKMAIl1FicLTFCBlgEWUCcPiO3+RgKJ",
        "clear": "C4EBQw=="
    },
    "compilerInfo": {
        "compiler": "puya",
        "compilerVersion": {
            "major": 5,
            "minor": 0,
            "patch": 0
        }
    },
    "events": [
        {
            "name": "retiOP_addedValidator",
            "args": [
                {
                    "type": "uint64",
                    "name": "id"
                },
                {
                    "type": "address",
                    "name": "owner"
                },
                {
                    "type": "address",
                    "name": "manager"
                }
            ]
        },
        {
            "name": "retiOP_validatorAddedPool",
            "args": [
                {
                    "type": "uint64",
                    "name": "id"
                },
                {
                    "type": "uint16",
                    "name": "num"
                },
                {
                    "type": "uint64",
                    "name": "poolAppId"
                }
            ]
        },
        {
            "name": "retiOP_stakeAdded",
            "args": [
                {
                    "type": "uint64",
                    "name": "id"
                },
                {
                    "type": "uint16",
                    "name": "poolNum"
                },
                {
                    "type": "uint64",
                    "name": "poolAppId"
                },
                {
                    "type": "address",
                    "name": "staker"
                },
                {
                    "type": "uint64",
                    "name": "amountStaked"
                }
            ]
        },
        {
            "name": "retiOP_epochRewardUpdate",
            "args": [
                {
                    "type": "uint64",
                    "name": "id"
                },
                {
                    "type": "uint16",
                    "name": "poolNum"
                },
                {
                    "type": "uint64",
                    "name": "poolAppId"
                },
                {
                    "type": "uint64",
                    "name": "validatorCommission"
                },
                {
                    "type": "uint64",
                    "name": "saturatedBurnToFeeSink"
                },
                {
                    "type": "uint64",
                    "name": "algoAdded"
                },
                {
                    "type": "uint64",
                    "name": "rewardTokenHeldBack"
                }
            ]
        },
        {
            "name": "retiOP_stakeRemoved",
            "args": [
                {
                    "type": "uint64",
                    "name": "id"
                },
                {
                    "type": "uint16",
                    "name": "poolNum"
                },
                {
                    "type": "uint64",
                    "name": "poolAppId"
                },
                {
                    "type": "address",
                    "name": "staker"
                },
                {
                    "type": "uint64",
                    "name": "amountUnstaked"
                },
                {
                    "type": "uint64",
                    "name": "rewardTokensReceived"
                },
                {
                    "type": "uint64",
                    "name": "rewardTokenAssetId"
                }
            ]
        }
    ],
    "templateVariables": {
        "NFD_REGISTRY_APP_ID": {
            "type": "AVMUint64"
        }
    }
}