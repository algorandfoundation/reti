{
    "hints": {
        "createApplication(uint64,uint64,uint64,uint64)void": {
            "call_config": {
                "no_op": "CREATE"
            }
        },
        "gas()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "initStorage(pay)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "addStake(pay,address)uint64": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "removeStake(address,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "claimTokens()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getStakerInfo(address)(address,uint64,uint64,uint64,uint64)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "StakedInfo",
                    "elements": [
                        [
                            "account",
                            "address"
                        ],
                        [
                            "balance",
                            "uint64"
                        ],
                        [
                            "totalRewarded",
                            "uint64"
                        ],
                        [
                            "rewardTokenBalance",
                            "uint64"
                        ],
                        [
                            "entryRound",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "payTokenReward(address,uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "updateAlgodVer(string)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "epochBalanceUpdate()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "goOnline(pay,byte[32],byte[32],byte[64],uint64,uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "goOffline()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "linkToNFD(uint64,string)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "proxiedSetTokenPayoutRatio((uint64,uint64,uint64))(uint64[24],uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "poolKey": {
                    "name": "ValidatorPoolKey",
                    "elements": [
                        [
                            "id",
                            "uint64"
                        ],
                        [
                            "poolId",
                            "uint64"
                        ],
                        [
                            "poolAppId",
                            "uint64"
                        ]
                    ]
                },
                "output": {
                    "name": "PoolTokenPayoutRatio",
                    "elements": [
                        [
                            "poolPctOfWhole",
                            "uint64[24]"
                        ],
                        [
                            "updatedForPayout",
                            "uint64"
                        ]
                    ]
                }
            }
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDY0IDE2IDIwMCAxNTcgMzAwIDIxMDAwMDAgMTAwMDAwMCAzMDg1NyBUTVBMX05GRF9SRUdJU1RSWV9BUFBfSUQKICAgIGJ5dGVjYmxvY2sgInN0YWtlcnMiICJjcmVhdG9yQXBwIiAidmFsaWRhdG9ySWQiICJwb29sSWQiIDB4MTUxZjdjNzUgInN0YWtlZCIgInJvdW5kc1BlckRheSIgInN0YWtlQWNjdW11bGF0b3IiIDB4MDAwMiAiYmluUm91bmRTdGFydCIgIm51bVN0YWtlcnMiICJyZXdhcmRBY2N1bXVsYXRvciIgImV3bWEiIDB4NzVhZmY2MWQgMHg2NCAibWluRW50cnlTdGFrZSIgImxhc3RQYXlvdXQiICJlcG9jaE51bWJlciIgMHgwMDAxMDAwMDAwMDAwMDBmNDI0MCAweDAwMDEgMHgwYzIyNDVlMSAweDA2ODEwMSAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAgMHhhMmRjNTFiNSAweDU3Mjc2N2QxIDB4NGRmOGQ4NmUgMHgwMDAzCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2MS02MgogICAgLy8gQGNvbnRyYWN0KHsgYXZtVmVyc2lvbjogMTEgfSkKICAgIC8vIGV4cG9ydCBjbGFzcyBTdGFraW5nUG9vbCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gbXVzdCBiZSBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYnogbWFpbl9jcmVhdGVfTm9PcEAxNwogICAgcHVzaGJ5dGVzcyAweDMxNzJjYTlkIDB4NDdjZmNjMDQgMHhmOWM3MGNiZCAweDQyMWI1YWJlIDB4ZjU4OTJkNTYgMHg1Y2ZiYjA1NyAweDYzZjNmMjhiIDB4ODZhMzcyNWMgMHhlZmMyNjA4ZCAweDljZWUyZTQwIDB4NTFlZjNiMjEgMHhhMjRlMjcxNyAvLyBtZXRob2QgImdhcygpdm9pZCIsIG1ldGhvZCAiaW5pdFN0b3JhZ2UocGF5KXZvaWQiLCBtZXRob2QgImFkZFN0YWtlKHBheSxhZGRyZXNzKXVpbnQ2NCIsIG1ldGhvZCAicmVtb3ZlU3Rha2UoYWRkcmVzcyx1aW50NjQpdm9pZCIsIG1ldGhvZCAiY2xhaW1Ub2tlbnMoKXZvaWQiLCBtZXRob2QgImdldFN0YWtlckluZm8oYWRkcmVzcykoYWRkcmVzcyx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpIiwgbWV0aG9kICJwYXlUb2tlblJld2FyZChhZGRyZXNzLHVpbnQ2NCx1aW50NjQpdm9pZCIsIG1ldGhvZCAidXBkYXRlQWxnb2RWZXIoc3RyaW5nKXZvaWQiLCBtZXRob2QgImVwb2NoQmFsYW5jZVVwZGF0ZSgpdm9pZCIsIG1ldGhvZCAiZ29PbmxpbmUocGF5LGJ5dGVbMzJdLGJ5dGVbMzJdLGJ5dGVbNjRdLHVpbnQ2NCx1aW50NjQsdWludDY0KXZvaWQiLCBtZXRob2QgImdvT2ZmbGluZSgpdm9pZCIsIG1ldGhvZCAibGlua1RvTkZEKHVpbnQ2NCxzdHJpbmcpdm9pZCIKICAgIGJ5dGVjIDIwIC8vIG1ldGhvZCAicHJveGllZFNldFRva2VuUGF5b3V0UmF0aW8oKHVpbnQ2NCx1aW50NjQsdWludDY0KSkodWludDY0WzI0XSx1aW50NjQpIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggbWFpbl9nYXNfcm91dGVAMyBpbml0U3RvcmFnZSBhZGRTdGFrZSByZW1vdmVTdGFrZSBjbGFpbVRva2VucyBnZXRTdGFrZXJJbmZvIHBheVRva2VuUmV3YXJkIHVwZGF0ZUFsZ29kVmVyIGVwb2NoQmFsYW5jZVVwZGF0ZSBnb09ubGluZSBnb09mZmxpbmUgbGlua1RvTkZEIHByb3hpZWRTZXRUb2tlblBheW91dFJhdGlvCiAgICBlcnIKCm1haW5fZ2FzX3JvdXRlQDM6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxNTYKICAgIC8vIGdhcygpOiB2b2lkIHt9CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2NyZWF0ZV9Ob09wQDE3OgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjEtNjIKICAgIC8vIEBjb250cmFjdCh7IGF2bVZlcnNpb246IDExIH0pCiAgICAvLyBleHBvcnQgY2xhc3MgU3Rha2luZ1Bvb2wgZXh0ZW5kcyBDb250cmFjdCB7CiAgICBwdXNoYnl0ZXMgMHg1OWU5MGFhNiAvLyBtZXRob2QgImNyZWF0ZUFwcGxpY2F0aW9uKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggY3JlYXRlQXBwbGljYXRpb24KICAgIGVycgoKCi8vIF9wdXlhX2xpYi51dGlsLmVuc3VyZV9idWRnZXQocmVxdWlyZWRfYnVkZ2V0OiB1aW50NjQsIGZlZV9zb3VyY2U6IHVpbnQ2NCkgLT4gdm9pZDoKZW5zdXJlX2J1ZGdldDoKICAgIHByb3RvIDIgMAogICAgZnJhbWVfZGlnIC0yCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICArCgplbnN1cmVfYnVkZ2V0X3doaWxlX3RvcEAxOgogICAgZnJhbWVfZGlnIDAKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgID4KICAgIGJ6IGVuc3VyZV9idWRnZXRfYWZ0ZXJfd2hpbGVANgogICAgaXR4bl9iZWdpbgogICAgcHVzaGludCA2IC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIHB1c2hpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgogICAgaXR4bl9maWVsZCBPbkNvbXBsZXRpb24KICAgIGJ5dGVjIDIxIC8vIDB4MDY4MTAxCiAgICBpdHhuX2ZpZWxkIEFwcHJvdmFsUHJvZ3JhbQogICAgYnl0ZWMgMjEgLy8gMHgwNjgxMDEKICAgIGl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW0KICAgIGZyYW1lX2RpZyAtMQogICAgc3dpdGNoIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMEAzIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMUA0CgplbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlX25leHRANToKICAgIGl0eG5fc3VibWl0CiAgICBiIGVuc3VyZV9idWRnZXRfd2hpbGVfdG9wQDEKCmVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMUA0OgogICAgZ2xvYmFsIE1pblR4bkZlZQogICAgaXR4bl9maWVsZCBGZWUKICAgIGIgZW5zdXJlX2J1ZGdldF9zd2l0Y2hfY2FzZV9uZXh0QDUKCmVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMEAzOgogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBiIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfbmV4dEA1CgplbnN1cmVfYnVkZ2V0X2FmdGVyX3doaWxlQDY6CiAgICByZXRzdWIKCgovLyBjb250cmFjdHMvdXRpbHMuYWxnby50czo6d2lkZVJhdGlvKG51bWVyYXRvckZhY3RvcnM6IGJ5dGVzLCBkZW5vbWluYXRvckZhY3RvcnM6IGJ5dGVzKSAtPiB1aW50NjQsIGJ5dGVzLCBieXRlczoKd2lkZVJhdGlvOgogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6NAogICAgLy8gZXhwb3J0IGZ1bmN0aW9uIHdpZGVSYXRpbyhudW1lcmF0b3JGYWN0b3JzOiB1aW50NjRbXSwgZGVub21pbmF0b3JGYWN0b3JzOiB1aW50NjRbXSk6IHVpbnQ2NCB7CiAgICBwcm90byAyIDMKICAgIGludGNfMCAvLyAwCiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cAogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6NQogICAgLy8gbGV0IG51bWVyYXRvciA9IG5ldyBVaW50MTI4KDFuKQogICAgYnl0ZWMgMjIgLy8gMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMQogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6NgogICAgLy8gZm9yIChjb25zdCBmYWN0b3Igb2YgbnVtZXJhdG9yRmFjdG9ycykgewogICAgZnJhbWVfZGlnIC0yCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGludGNfMCAvLyAwCgp3aWRlUmF0aW9fZm9yX2hlYWRlckAxOgogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6NgogICAgLy8gZm9yIChjb25zdCBmYWN0b3Igb2YgbnVtZXJhdG9yRmFjdG9ycykgewogICAgZnJhbWVfZGlnIDUKICAgIGZyYW1lX2RpZyA0CiAgICA8CiAgICBieiB3aWRlUmF0aW9fYWZ0ZXJfZm9yQDQKICAgIGZyYW1lX2RpZyAtMgogICAgZXh0cmFjdCAyIDAKICAgIGZyYW1lX2RpZyA1CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIHB1c2hpbnQgOCAvLyA4CiAgICAqCiAgICBwdXNoaW50IDggLy8gOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICAvLyBjb250cmFjdHMvdXRpbHMuYWxnby50czo3CiAgICAvLyBudW1lcmF0b3IgPSBuZXcgVWludDEyOChCaWdVaW50KGZhY3RvcikgKiBudW1lcmF0b3IuYXNCaWdVaW50KCkpCiAgICBmcmFtZV9kaWcgMwogICAgYioKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGludGNfMyAvLyAxNgogICAgYnplcm8KICAgIGJ8CiAgICBmcmFtZV9idXJ5IDMKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDUKICAgIGIgd2lkZVJhdGlvX2Zvcl9oZWFkZXJAMQoKd2lkZVJhdGlvX2FmdGVyX2ZvckA0OgogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6MTAKICAgIC8vIGxldCBkZW5vbWluYXRvciA9IG5ldyBVaW50MTI4KDFuKQogICAgYnl0ZWMgMjIgLy8gMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMQogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBjb250cmFjdHMvdXRpbHMuYWxnby50czoxMQogICAgLy8gZm9yIChjb25zdCBmYWN0b3Igb2YgZGVub21pbmF0b3JGYWN0b3JzKSB7CiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZnJhbWVfYnVyeSAxCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAyCgp3aWRlUmF0aW9fZm9yX2hlYWRlckA1OgogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6MTEKICAgIC8vIGZvciAoY29uc3QgZmFjdG9yIG9mIGRlbm9taW5hdG9yRmFjdG9ycykgewogICAgZnJhbWVfZGlnIDIKICAgIGZyYW1lX2RpZyAxCiAgICA8CiAgICBieiB3aWRlUmF0aW9fYWZ0ZXJfZm9yQDgKICAgIGZyYW1lX2RpZyAtMQogICAgZXh0cmFjdCAyIDAKICAgIGZyYW1lX2RpZyAyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIHB1c2hpbnQgOCAvLyA4CiAgICAqCiAgICBwdXNoaW50IDggLy8gOAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICAvLyBjb250cmFjdHMvdXRpbHMuYWxnby50czoxMgogICAgLy8gZGVub21pbmF0b3IgPSBuZXcgVWludDEyOChCaWdVaW50KGZhY3RvcikgKiBkZW5vbWluYXRvci5hc0JpZ1VpbnQoKSkKICAgIGZyYW1lX2RpZyAwCiAgICBiKgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyAxNgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgaW50Y18zIC8vIDE2CiAgICBiemVybwogICAgYnwKICAgIGZyYW1lX2J1cnkgMAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMgogICAgYiB3aWRlUmF0aW9fZm9yX2hlYWRlckA1Cgp3aWRlUmF0aW9fYWZ0ZXJfZm9yQDg6CiAgICAvLyBjb250cmFjdHMvdXRpbHMuYWxnby50czoxNQogICAgLy8gY29uc3QgcmF0aW86IGJpZ3VpbnQgPSBudW1lcmF0b3IuYXNCaWdVaW50KCkgLyBkZW5vbWluYXRvci5hc0JpZ1VpbnQoKQogICAgZnJhbWVfZGlnIDMKICAgIGZyYW1lX2RpZyAwCiAgICBiLwogICAgLy8gY29udHJhY3RzL3V0aWxzLmFsZ28udHM6MTYKICAgIC8vIHJldHVybiBuZXcgVWludDY0KHJhdGlvKS5hc1VpbnQ2NCgpCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCA4IC8vIDgKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBiemVybwogICAgYnwKICAgIGJ0b2kKICAgIGZyYW1lX2RpZyAtMgogICAgZnJhbWVfZGlnIC0xCiAgICBmcmFtZV9idXJ5IDIKICAgIGZyYW1lX2J1cnkgMQogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCgovLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo6U3Rha2luZ1Bvb2wuY3JlYXRlQXBwbGljYXRpb25bcm91dGluZ10oKSAtPiB2b2lkOgpjcmVhdGVBcHBsaWNhdGlvbjoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEyMi0xMjcKICAgIC8vIGNyZWF0ZUFwcGxpY2F0aW9uKAogICAgLy8gICAgIGNyZWF0aW5nQ29udHJhY3RJZDogQXBwbGljYXRpb24sCiAgICAvLyAgICAgdmFsaWRhdG9ySWQ6IHVpbnQ2NCwKICAgIC8vICAgICBwb29sSWQ6IHVpbnQ2NCwKICAgIC8vICAgICBtaW5FbnRyeVN0YWtlOiB1aW50NjQsCiAgICAvLyApOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIGR1cAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgYnRvaQogICAgc3dhcAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgYnRvaQogICAgc3dhcAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAogICAgYnRvaQogICAgc3dhcAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTI4CiAgICAvLyBpZiAoY3JlYXRpbmdDb250cmFjdElkID09PSBBcHBsaWNhdGlvbigwKSkgewogICAgYm56IGNyZWF0ZUFwcGxpY2F0aW9uX2Vsc2VfYm9keUAzCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMzAKICAgIC8vIGFzc2VydCh2YWxpZGF0b3JJZCA9PT0gMCkKICAgIGRpZyAyCiAgICAhCiAgICBhc3NlcnQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEzMQogICAgLy8gYXNzZXJ0KHBvb2xJZCA9PT0gMCkKICAgIGRpZyAxCiAgICAhCiAgICBhc3NlcnQKCmNyZWF0ZUFwcGxpY2F0aW9uX2FmdGVyX2lmX2Vsc2VANDoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEzNgogICAgLy8gYXNzZXJ0KG1pbkVudHJ5U3Rha2UgPj0gTUlOX0FMR09fU1RBS0VfUEVSX1BPT0wsICdzdGFraW5nIHBvb2wgbXVzdCBoYXZlIG1pbmltdW0gZW50cnkgb2YgMSBhbGdvJykKICAgIGR1cG4gMgogICAgaW50YyA4IC8vIDEwMDAwMDAKICAgID49CiAgICBhc3NlcnQgLy8gc3Rha2luZyBwb29sIG11c3QgaGF2ZSBtaW5pbXVtIGVudHJ5IG9mIDEgYWxnbwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjcKICAgIC8vIGNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdjcmVhdG9yQXBwJyB9KQogICAgYnl0ZWNfMSAvLyAiY3JlYXRvckFwcCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEzNwogICAgLy8gdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUgPSBjcmVhdGluZ0NvbnRyYWN0SWQuaWQKICAgIGRpZyA1CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzAKICAgIC8vIHZhbGlkYXRvcklkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3ZhbGlkYXRvcklkJyB9KQogICAgYnl0ZWNfMiAvLyAidmFsaWRhdG9ySWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMzgKICAgIC8vIHRoaXMudmFsaWRhdG9ySWQudmFsdWUgPSB2YWxpZGF0b3JJZAogICAgZGlnIDQKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3MwogICAgLy8gcG9vbElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3Bvb2xJZCcgfSkKICAgIGJ5dGVjXzMgLy8gInBvb2xJZCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEzOQogICAgLy8gdGhpcy5wb29sSWQudmFsdWUgPSBwb29sSWQKICAgIGRpZyAzCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzYKICAgIC8vIG51bVN0YWtlcnMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbnVtU3Rha2VycycgfSkKICAgIGJ5dGVjIDEwIC8vICJudW1TdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTQwCiAgICAvLyB0aGlzLm51bVN0YWtlcnMudmFsdWUgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjc5CiAgICAvLyB0b3RhbEFsZ29TdGFrZWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnc3Rha2VkJyB9KQogICAgYnl0ZWMgNSAvLyAic3Rha2VkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTQxCiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSA9IDAKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODEKICAgIC8vIG1pbkVudHJ5U3Rha2UgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbWluRW50cnlTdGFrZScgfSkKICAgIGJ5dGVjIDE1IC8vICJtaW5FbnRyeVN0YWtlIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTQyCiAgICAvLyB0aGlzLm1pbkVudHJ5U3Rha2UudmFsdWUgPSBtaW5FbnRyeVN0YWtlCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODQKICAgIC8vIGxhc3RQYXlvdXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbGFzdFBheW91dCcgfSkKICAgIGJ5dGVjIDE2IC8vICJsYXN0UGF5b3V0IgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTQzCiAgICAvLyB0aGlzLmxhc3RQYXlvdXQudmFsdWUgPSBHbG9iYWwucm91bmQgLy8gc2V0IHRvIGluaXQgYmxvY2sgdG8gZXN0YWJsaXNoIGJhc2VsaW5lCiAgICBnbG9iYWwgUm91bmQKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4NwogICAgLy8gZXBvY2hOdW1iZXIgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnZXBvY2hOdW1iZXInIH0pCiAgICBieXRlYyAxNyAvLyAiZXBvY2hOdW1iZXIiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxNDQKICAgIC8vIHRoaXMuZXBvY2hOdW1iZXIudmFsdWUgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjE0NgogICAgLy8gdGhpcy5zZXRSb3VuZHNQZXJEYXkoKQogICAgY2FsbHN1YiBzZXRSb3VuZHNQZXJEYXkKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjE0NwogICAgLy8gdGhpcy5iaW5Sb3VuZFN0YXJ0LnZhbHVlID0gR2xvYmFsLnJvdW5kIC0gKEdsb2JhbC5yb3VuZCAlIHRoaXMucm91bmRzUGVyRGF5LnZhbHVlKSAvLyBwbGFjZSBhdCBzdGFydCBvZiBiaW4KICAgIGdsb2JhbCBSb3VuZAogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTcKICAgIC8vIHJvdW5kc1BlckRheSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdyb3VuZHNQZXJEYXknIH0pCiAgICBieXRlYyA2IC8vICJyb3VuZHNQZXJEYXkiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxNDcKICAgIC8vIHRoaXMuYmluUm91bmRTdGFydC52YWx1ZSA9IEdsb2JhbC5yb3VuZCAtIChHbG9iYWwucm91bmQgJSB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSkgLy8gcGxhY2UgYXQgc3RhcnQgb2YgYmluCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgJQogICAgLQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTkKICAgIC8vIGJpblJvdW5kU3RhcnQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnYmluUm91bmRTdGFydCcgfSkKICAgIGJ5dGVjIDkgLy8gImJpblJvdW5kU3RhcnQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxNDcKICAgIC8vIHRoaXMuYmluUm91bmRTdGFydC52YWx1ZSA9IEdsb2JhbC5yb3VuZCAtIChHbG9iYWwucm91bmQgJSB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSkgLy8gcGxhY2UgYXQgc3RhcnQgb2YgYmluCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA0CiAgICAvLyBzdGFrZUFjY3VtdWxhdG9yID0gR2xvYmFsU3RhdGU8VWludDEyOD4oeyBrZXk6ICdzdGFrZUFjY3VtdWxhdG9yJyB9KQogICAgYnl0ZWMgNyAvLyAic3Rha2VBY2N1bXVsYXRvciIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjE0OAogICAgLy8gdGhpcy5zdGFrZUFjY3VtdWxhdG9yLnZhbHVlID0gbmV3IFVpbnQxMjgoMCkKICAgIGJ5dGVjIDIzIC8vIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDgKICAgIC8vIHJld2FyZEFjY3VtdWxhdG9yID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3Jld2FyZEFjY3VtdWxhdG9yJyB9KQogICAgYnl0ZWMgMTEgLy8gInJld2FyZEFjY3VtdWxhdG9yIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTQ5CiAgICAvLyB0aGlzLnJld2FyZEFjY3VtdWxhdG9yLnZhbHVlID0gMAogICAgaW50Y18wIC8vIDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMTEKICAgIC8vIHdlaWdodGVkTW92aW5nQXZlcmFnZSA9IEdsb2JhbFN0YXRlPFVpbnQxMjg+KHsga2V5OiAnZXdtYScgfSkKICAgIGJ5dGVjIDEyIC8vICJld21hIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTUwCiAgICAvLyB0aGlzLndlaWdodGVkTW92aW5nQXZlcmFnZS52YWx1ZSA9IG5ldyBVaW50MTI4KDApCiAgICBieXRlYyAyMyAvLyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTIyLTEyNwogICAgLy8gY3JlYXRlQXBwbGljYXRpb24oCiAgICAvLyAgICAgY3JlYXRpbmdDb250cmFjdElkOiBBcHBsaWNhdGlvbiwKICAgIC8vICAgICB2YWxpZGF0b3JJZDogdWludDY0LAogICAgLy8gICAgIHBvb2xJZDogdWludDY0LAogICAgLy8gICAgIG1pbkVudHJ5U3Rha2U6IHVpbnQ2NCwKICAgIC8vICk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKY3JlYXRlQXBwbGljYXRpb25fZWxzZV9ib2R5QDM6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMzMKICAgIC8vIGFzc2VydCh2YWxpZGF0b3JJZCAhPT0gMCkKICAgIGRpZyAyCiAgICBhc3NlcnQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEzNAogICAgLy8gYXNzZXJ0KHBvb2xJZCAhPT0gMCkKICAgIGRpZyAxCiAgICBhc3NlcnQKICAgIGIgY3JlYXRlQXBwbGljYXRpb25fYWZ0ZXJfaWZfZWxzZUA0CgoKLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OlN0YWtpbmdQb29sLmluaXRTdG9yYWdlW3JvdXRpbmddKCkgLT4gdm9pZDoKaW5pdFN0b3JhZ2U6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxNzIKICAgIC8vIGluaXRTdG9yYWdlKG1iclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4bik6IHZvaWQgewogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5MwogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxNzMKICAgIC8vIGFzc2VydCghdGhpcy5zdGFrZXJzLmV4aXN0cywgJ3N0YWtpbmcgcG9vbCBhbHJlYWR5IGluaXRpYWxpemVkJykKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgIQogICAgYXNzZXJ0IC8vIHN0YWtpbmcgcG9vbCBhbHJlYWR5IGluaXRpYWxpemVkCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxNzYtMTc5CiAgICAvLyBjb25zdCB2YWxpZGF0b3JDb25maWcgPSBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yQ29uZmlnPih7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxNzcKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2NwogICAgLy8gY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2NyZWF0b3JBcHAnIH0pCiAgICBieXRlY18xIC8vICJjcmVhdG9yQXBwIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTc3CiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTc4CiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzAKICAgIC8vIHZhbGlkYXRvcklkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3ZhbGlkYXRvcklkJyB9KQogICAgYnl0ZWNfMiAvLyAidmFsaWRhdG9ySWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxNzgKICAgIC8vIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxNzYtMTc5CiAgICAvLyBjb25zdCB2YWxpZGF0b3JDb25maWcgPSBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yQ29uZmlnPih7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBieXRlYyAxMyAvLyBtZXRob2QgImdldFZhbGlkYXRvckNvbmZpZyh1aW50NjQpKHVpbnQ2NCxhZGRyZXNzLGFkZHJlc3MsdWludDY0LHVpbnQ4LGFkZHJlc3MsdWludDY0WzRdLHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQzMix1aW50MzIsYWRkcmVzcyx1aW50NjQsdWludDY0LHVpbnQ4LHVpbnQ2NCx1aW50NjQpIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cAogICAgZXh0cmFjdCAwIDQKICAgIGJ5dGVjIDQgLy8gMHgxNTFmN2M3NQogICAgPT0KICAgIGFzc2VydCAvLyBCeXRlcyBoYXMgdmFsaWQgcHJlZml4CiAgICBpbnRjIDUgLy8gMTU3CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxODEKICAgIC8vIGNvbnN0IGlzVG9rZW5FbGlnaWJsZSA9IHZhbGlkYXRvckNvbmZpZy5yZXdhcmRUb2tlbklkICE9PSAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxODIKICAgIC8vIGNvbnN0IGV4dHJhTUJSOiB1aW50NjQgPSBpc1Rva2VuRWxpZ2libGUgJiYgdGhpcy5wb29sSWQudmFsdWUgPT09IDEgPyBBU1NFVF9IT0xESU5HX0ZFRSA6IDAKICAgIGJ6IGluaXRTdG9yYWdlX2Jvb2xfZmFsc2VANQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjczCiAgICAvLyBwb29sSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAncG9vbElkJyB9KQogICAgYnl0ZWNfMyAvLyAicG9vbElkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTgyCiAgICAvLyBjb25zdCBleHRyYU1CUjogdWludDY0ID0gaXNUb2tlbkVsaWdpYmxlICYmIHRoaXMucG9vbElkLnZhbHVlID09PSAxID8gQVNTRVRfSE9MRElOR19GRUUgOiAwCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBieiBpbml0U3RvcmFnZV9ib29sX2ZhbHNlQDUKICAgIGludGNfMSAvLyAxCgppbml0U3RvcmFnZV9ib29sX21lcmdlQDY6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxODIKICAgIC8vIGNvbnN0IGV4dHJhTUJSOiB1aW50NjQgPSBpc1Rva2VuRWxpZ2libGUgJiYgdGhpcy5wb29sSWQudmFsdWUgPT09IDEgPyBBU1NFVF9IT0xESU5HX0ZFRSA6IDAKICAgIHB1c2hpbnQgMTAwMDAwIC8vIDEwMDAwMAogICAgKgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTg0LTE4NgogICAgLy8gQUxHT1JBTkRfQUNDT1VOVF9NSU5fQkFMQU5DRSArCiAgICAvLyBleHRyYU1CUiArCiAgICAvLyB0aGlzLmNvc3RGb3JCb3hTdG9yYWdlKDcgLyogJ3N0YWtlcnMnIG5hbWUgKi8gKyBzaXplT2Y8U3Rha2VkSW5mbz4oKSAqIE1BWF9TVEFLRVJTX1BFUl9QT09MKQogICAgcHVzaGludCA1MjI1MzAwIC8vIDUyMjUzMDAKICAgICsKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjE4OQogICAgLy8gYXNzZXJ0TWF0Y2gobWJyUGF5bWVudCwgeyByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsIGFtb3VudDogUG9vbEluaXRNYnIgfSkKICAgIGRpZyAyCiAgICBkdXAKICAgIGd0eG5zIFJlY2VpdmVyCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgPT0KICAgIHN3YXAKICAgIGd0eG5zIEFtb3VudAogICAgdW5jb3ZlciAyCiAgICA9PQogICAgJiYKICAgIGFzc2VydCAvLyBhc3NlcnQgdGFyZ2V0IGlzIG1hdGNoIGZvciBjb25kaXRpb25zCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5MwogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxOTAKICAgIC8vIHRoaXMuc3Rha2Vycy5jcmVhdGUoKQogICAgcHVzaGludCAxMjgwMCAvLyAxMjgwMAogICAgYm94X2NyZWF0ZQogICAgcG9wCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxOTIKICAgIC8vIGlmIChpc1Rva2VuRWxpZ2libGUgJiYgdGhpcy5wb29sSWQudmFsdWUgPT09IDEpIHsKICAgIGR1cAogICAgYnogaW5pdFN0b3JhZ2VfYWZ0ZXJfaWZfZWxzZUAxMAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjczCiAgICAvLyBwb29sSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAncG9vbElkJyB9KQogICAgYnl0ZWNfMyAvLyAicG9vbElkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTkyCiAgICAvLyBpZiAoaXNUb2tlbkVsaWdpYmxlICYmIHRoaXMucG9vbElkLnZhbHVlID09PSAxKSB7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBieiBpbml0U3RvcmFnZV9hZnRlcl9pZl9lbHNlQDEwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxOTQtMTk4CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdmFsaWRhdG9yQ29uZmlnLnJld2FyZFRva2VuSWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyB9KS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTk2CiAgICAvLyBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxOTcKICAgIC8vIGFzc2V0QW1vdW50OiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgZHVwCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTk0LTE5OAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHZhbGlkYXRvckNvbmZpZy5yZXdhcmRUb2tlbklkLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gfSkuc3VibWl0KCkKICAgIHB1c2hpbnQgNCAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0Cgppbml0U3RvcmFnZV9hZnRlcl9pZl9lbHNlQDEwOgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTcyCiAgICAvLyBpbml0U3RvcmFnZShtYnJQYXltZW50OiBndHhuLlBheW1lbnRUeG4pOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCmluaXRTdG9yYWdlX2Jvb2xfZmFsc2VANToKICAgIGludGNfMCAvLyAwCiAgICBiIGluaXRTdG9yYWdlX2Jvb2xfbWVyZ2VANgoKCi8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjpTdGFraW5nUG9vbC5hZGRTdGFrZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmFkZFN0YWtlOgogICAgaW50Y18wIC8vIDAKICAgIGR1cAogICAgcHVzaGJ5dGVzICIiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyMTIKICAgIC8vIGFkZFN0YWtlKHN0YWtlZEFtb3VudFBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwgc3Rha2VyOiBBY2NvdW50KTogdWludDY0IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18xIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5MwogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyMTMKICAgIC8vIGFzc2VydCh0aGlzLnN0YWtlcnMuZXhpc3RzLCAnc3Rha2luZyBwb29sIG11c3QgYmUgaW5pdGlhbGl6ZWQgZmlyc3QnKQogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gc3Rha2luZyBwb29sIG11c3QgYmUgaW5pdGlhbGl6ZWQgZmlyc3QKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjIxNwogICAgLy8gVHhuLnNlbmRlciA9PT0gQXBwbGljYXRpb24odGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjcKICAgIC8vIGNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdjcmVhdG9yQXBwJyB9KQogICAgYnl0ZWNfMSAvLyAiY3JlYXRvckFwcCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjIxNwogICAgLy8gVHhuLnNlbmRlciA9PT0gQXBwbGljYXRpb24odGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgPT0KICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjIxNi0yMTkKICAgIC8vIGFzc2VydCgKICAgIC8vICAgICBUeG4uc2VuZGVyID09PSBBcHBsaWNhdGlvbih0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSkuYWRkcmVzcywKICAgIC8vICAgICAnc3Rha2UgY2FuIG9ubHkgYmUgYWRkZWQgdmlhIHRoZSB2YWxpZGF0b3IgY29udHJhY3QnLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIHN0YWtlIGNhbiBvbmx5IGJlIGFkZGVkIHZpYSB0aGUgdmFsaWRhdG9yIGNvbnRyYWN0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyMjAKICAgIC8vIGFzc2VydChzdGFrZXIgIT09IEdsb2JhbC56ZXJvQWRkcmVzcykKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgIT0KICAgIGFzc2VydAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjIzCiAgICAvLyB0aGlzLmNoZWNrSWZCaW5DbG9zZWQoKQogICAgY2FsbHN1YiBjaGVja0lmQmluQ2xvc2VkCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyMjctMjMxCiAgICAvLyBhc3NlcnRNYXRjaChzdGFrZWRBbW91bnRQYXltZW50LCB7CiAgICAvLyAgICAgc2VuZGVyOiBBcHBsaWNhdGlvbih0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSkuYWRkcmVzcywKICAgIC8vICAgICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYW1vdW50OiBzdGFrZWRBbW91bnRQYXltZW50LmFtb3VudCwKICAgIC8vIH0pCiAgICBkdXAKICAgIGd0eG5zIFNlbmRlcgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjI4CiAgICAvLyBzZW5kZXI6IEFwcGxpY2F0aW9uKHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjY3CiAgICAvLyBjcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnY3JlYXRvckFwcCcgfSkKICAgIGJ5dGVjXzEgLy8gImNyZWF0b3JBcHAiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyMjgKICAgIC8vIHNlbmRlcjogQXBwbGljYXRpb24odGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjI3LTIzMQogICAgLy8gYXNzZXJ0TWF0Y2goc3Rha2VkQW1vdW50UGF5bWVudCwgewogICAgLy8gICAgIHNlbmRlcjogQXBwbGljYXRpb24odGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICAvLyAgICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFtb3VudDogc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQsCiAgICAvLyB9KQogICAgPT0KICAgIGRpZyAxCiAgICBndHhucyBSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjI5CiAgICAvLyByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjI3LTIzMQogICAgLy8gYXNzZXJ0TWF0Y2goc3Rha2VkQW1vdW50UGF5bWVudCwgewogICAgLy8gICAgIHNlbmRlcjogQXBwbGljYXRpb24odGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICAvLyAgICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFtb3VudDogc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQsCiAgICAvLyB9KQogICAgPT0KICAgICYmCiAgICBzd2FwCiAgICBndHhucyBBbW91bnQKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBpbnRjXzEgLy8gMQogICAgJiYKICAgIGFzc2VydCAvLyBhc3NlcnQgdGFyZ2V0IGlzIG1hdGNoIGZvciBjb25kaXRpb25zCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyMzYKICAgIC8vIGNvbnN0IGVudHJ5Um91bmQ6IHVpbnQ2NCA9IEdsb2JhbC5yb3VuZCArIEFMR09SQU5EX1NUQUtJTkdfQkxPQ0tfREVMQVkKICAgIGdsb2JhbCBSb3VuZAogICAgcHVzaGludCAzMjAgLy8gMzIwCiAgICArCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyMzcKICAgIC8vIGxldCBmaXJzdEVtcHR5OiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgc3dhcAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjM5CiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSArPSBzdGFrZWRBbW91bnRQYXltZW50LmFtb3VudAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjc5CiAgICAvLyB0b3RhbEFsZ29TdGFrZWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnc3Rha2VkJyB9KQogICAgYnl0ZWMgNSAvLyAic3Rha2VkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjM5CiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSArPSBzdGFrZWRBbW91bnRQYXltZW50LmFtb3VudAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGRpZyAxCiAgICArCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3OQogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjIDUgLy8gInN0YWtlZCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjIzOQogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgKz0gc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyNDEKICAgIC8vIGNvbnN0IHJvdW5kc0xlZnRJbkJpbjogdWludDY0ID0gdGhpcy5iaW5Sb3VuZFN0YXJ0LnZhbHVlICsgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUgLSBHbG9iYWwucm91bmQKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5OQogICAgLy8gYmluUm91bmRTdGFydCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdiaW5Sb3VuZFN0YXJ0JyB9KQogICAgYnl0ZWMgOSAvLyAiYmluUm91bmRTdGFydCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjI0MQogICAgLy8gY29uc3Qgcm91bmRzTGVmdEluQmluOiB1aW50NjQgPSB0aGlzLmJpblJvdW5kU3RhcnQudmFsdWUgKyB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSAtIEdsb2JhbC5yb3VuZAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5NwogICAgLy8gcm91bmRzUGVyRGF5ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3JvdW5kc1BlckRheScgfSkKICAgIGJ5dGVjIDYgLy8gInJvdW5kc1BlckRheSIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjI0MQogICAgLy8gY29uc3Qgcm91bmRzTGVmdEluQmluOiB1aW50NjQgPSB0aGlzLmJpblJvdW5kU3RhcnQudmFsdWUgKyB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSAtIEdsb2JhbC5yb3VuZAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgICsKICAgIGdsb2JhbCBSb3VuZAogICAgLQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjQzCiAgICAvLyB0aGlzLnN0YWtlQWNjdW11bGF0b3IudmFsdWUuYXNCaWdVaW50KCkgKyBCaWdVaW50KHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50KSAqIEJpZ1VpbnQocm91bmRzTGVmdEluQmluKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDQKICAgIC8vIHN0YWtlQWNjdW11bGF0b3IgPSBHbG9iYWxTdGF0ZTxVaW50MTI4Pih7IGtleTogJ3N0YWtlQWNjdW11bGF0b3InIH0pCiAgICBieXRlYyA3IC8vICJzdGFrZUFjY3VtdWxhdG9yIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjQzCiAgICAvLyB0aGlzLnN0YWtlQWNjdW11bGF0b3IudmFsdWUuYXNCaWdVaW50KCkgKyBCaWdVaW50KHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50KSAqIEJpZ1VpbnQocm91bmRzTGVmdEluQmluKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIGR1cAogICAgY292ZXIgMwogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBiKgogICAgYisKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjI0Mi0yNDQKICAgIC8vIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZSA9IG5ldyBVaW50MTI4KAogICAgLy8gICAgIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZS5hc0JpZ1VpbnQoKSArIEJpZ1VpbnQoc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQpICogQmlnVWludChyb3VuZHNMZWZ0SW5CaW4pLAogICAgLy8gKQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyAxNgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgaW50Y18zIC8vIDE2CiAgICBiemVybwogICAgYnwKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNAogICAgLy8gc3Rha2VBY2N1bXVsYXRvciA9IEdsb2JhbFN0YXRlPFVpbnQxMjg+KHsga2V5OiAnc3Rha2VBY2N1bXVsYXRvcicgfSkKICAgIGJ5dGVjIDcgLy8gInN0YWtlQWNjdW11bGF0b3IiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyNDItMjQ0CiAgICAvLyB0aGlzLnN0YWtlQWNjdW11bGF0b3IudmFsdWUgPSBuZXcgVWludDEyOCgKICAgIC8vICAgICB0aGlzLnN0YWtlQWNjdW11bGF0b3IudmFsdWUuYXNCaWdVaW50KCkgKyBCaWdVaW50KHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50KSAqIEJpZ1VpbnQocm91bmRzTGVmdEluQmluKSwKICAgIC8vICkKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyNDcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlcnMudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGludGNfMCAvLyAwCgphZGRTdGFrZV93aGlsZV90b3BAMjoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkzCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjI0NwogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2Vycy52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZHVwCiAgICBpbnRjIDQgLy8gMjAwCiAgICA8CiAgICBieiBhZGRTdGFrZV9hZnRlcl93aGlsZUA5CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyNDgKICAgIC8vIGVuc3VyZUJ1ZGdldCgzMDApCiAgICBpbnRjIDYgLy8gMzAwCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyNDkKICAgIC8vIGNvbnN0IGNtcFN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2Vycy52YWx1ZVtpXSkKICAgIGR1cAogICAgaW50Y18yIC8vIDY0CiAgICAqCiAgICBkdXAKICAgIGJ1cnkgOAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTMKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjQ5CiAgICAvLyBjb25zdCBjbXBTdGFrZXIgPSBjbG9uZSh0aGlzLnN0YWtlcnMudmFsdWVbaV0pCiAgICBzd2FwCiAgICBpbnRjXzIgLy8gNjQKICAgIGJveF9leHRyYWN0CiAgICBkdXAKICAgIGJ1cnkgOQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjQ5LTI1MAogICAgLy8gY29uc3QgY21wU3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzLnZhbHVlW2ldKQogICAgLy8gaWYgKGNtcFN0YWtlci5hY2NvdW50ID09PSBzdGFrZXIpIHsKICAgIGV4dHJhY3QgMCAzMgogICAgZHVwCiAgICBidXJ5IDEwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyNTAKICAgIC8vIGlmIChjbXBTdGFrZXIuYWNjb3VudCA9PT0gc3Rha2VyKSB7CiAgICBkaWcgNgogICAgPT0KICAgIGJ6IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VANQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTMKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjUyCiAgICAvLyBjbXBTdGFrZXIuYmFsYW5jZSArPSBzdGFrZWRBbW91bnRQYXltZW50LmFtb3VudAogICAgZGlnIDcKICAgIGR1cAogICAgY292ZXIgMgogICAgaW50Y18yIC8vIDY0CiAgICBib3hfZXh0cmFjdAogICAgcHVzaGludCAzMiAvLyAzMgogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyA2CiAgICArCiAgICBpdG9iCiAgICBkaWcgOQogICAgc3dhcAogICAgcmVwbGFjZTIgMzIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjI1MwogICAgLy8gY21wU3Rha2VyLmVudHJ5Um91bmQgPSBlbnRyeVJvdW5kCiAgICBkaWcgNQogICAgaXRvYgogICAgcmVwbGFjZTIgNTYKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkzCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjI1NgogICAgLy8gdGhpcy5zdGFrZXJzLnZhbHVlW2ldID0gY2xvbmUoY21wU3Rha2VyKQogICAgY292ZXIgMgogICAgYm94X3JlcGxhY2UKCmFkZFN0YWtlX2FmdGVyX2lubGluZWRfY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OlN0YWtpbmdQb29sLmFkZFN0YWtlQDEyOgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjEyCiAgICAvLyBhZGRTdGFrZShzdGFrZWRBbW91bnRQYXltZW50OiBndHhuLlBheW1lbnRUeG4sIHN0YWtlcjogQWNjb3VudCk6IHVpbnQ2NCB7CiAgICBkaWcgMwogICAgaXRvYgogICAgYnl0ZWMgNCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjYwCiAgICAvLyBpZiAoZmlyc3RFbXB0eSA9PT0gMCAmJiBjbXBTdGFrZXIuYWNjb3VudCA9PT0gR2xvYmFsLnplcm9BZGRyZXNzKSB7CiAgICBkaWcgMgogICAgYm56IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAOAogICAgZGlnIDgKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgPT0KICAgIGJ6IGFkZFN0YWtlX2FmdGVyX2lmX2Vsc2VAOAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjYxCiAgICAvLyBmaXJzdEVtcHR5ID0gaSArIDEKICAgIGR1cAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMwoKYWRkU3Rha2VfYWZ0ZXJfaWZfZWxzZUA4OgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjQ3CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBkdXAKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDEKICAgIGIgYWRkU3Rha2Vfd2hpbGVfdG9wQDIKCmFkZFN0YWtlX2FmdGVyX3doaWxlQDk6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyNjUKICAgIC8vIGlmIChmaXJzdEVtcHR5ID09PSAwKSB7CiAgICBkaWcgMgogICAgZHVwCiAgICAhCiAgICAhCiAgICBhc3NlcnQgLy8gU3Rha2luZyBwb29sIGZ1bGwKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjI3MgogICAgLy8gYXNzZXJ0KHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50ID49IHRoaXMubWluRW50cnlTdGFrZS52YWx1ZSwgJ211c3Qgc3Rha2UgYXQgbGVhc3QgdGhlIG1pbmltdW0gZm9yIHRoaXMgcG9vbCcpCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODEKICAgIC8vIG1pbkVudHJ5U3Rha2UgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbWluRW50cnlTdGFrZScgfSkKICAgIGJ5dGVjIDE1IC8vICJtaW5FbnRyeVN0YWtlIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjcyCiAgICAvLyBhc3NlcnQoc3Rha2VkQW1vdW50UGF5bWVudC5hbW91bnQgPj0gdGhpcy5taW5FbnRyeVN0YWtlLnZhbHVlLCAnbXVzdCBzdGFrZSBhdCBsZWFzdCB0aGUgbWluaW11bSBmb3IgdGhpcyBwb29sJykKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgNgogICAgPD0KICAgIGFzc2VydCAvLyBtdXN0IHN0YWtlIGF0IGxlYXN0IHRoZSBtaW5pbXVtIGZvciB0aGlzIHBvb2wKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjI3NAogICAgLy8gYXNzZXJ0KHRoaXMuc3Rha2Vycy52YWx1ZVtmaXJzdEVtcHR5IC0gMV0uYWNjb3VudCA9PT0gR2xvYmFsLnplcm9BZGRyZXNzKQogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGludGNfMiAvLyA2NAogICAgKgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTMKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6Mjc0CiAgICAvLyBhc3NlcnQodGhpcy5zdGFrZXJzLnZhbHVlW2ZpcnN0RW1wdHkgLSAxXS5hY2NvdW50ID09PSBHbG9iYWwuemVyb0FkZHJlc3MpCiAgICBkaWcgMQogICAgaW50Y18yIC8vIDY0CiAgICBib3hfZXh0cmFjdAogICAgZXh0cmFjdCAwIDMyCiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgID09CiAgICBhc3NlcnQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjI3NS0yODEKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtmaXJzdEVtcHR5IC0gMV0gPSB7CiAgICAvLyAgICAgYWNjb3VudDogc3Rha2VyLAogICAgLy8gICAgIGJhbGFuY2U6IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50LAogICAgLy8gICAgIHRvdGFsUmV3YXJkZWQ6IDAsCiAgICAvLyAgICAgcmV3YXJkVG9rZW5CYWxhbmNlOiAwLAogICAgLy8gICAgIGVudHJ5Um91bmQ6IGVudHJ5Um91bmQsCiAgICAvLyB9CiAgICBkaWcgNgogICAgZGlnIDMKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6Mjc4CiAgICAvLyB0b3RhbFJld2FyZGVkOiAwLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjI3NS0yODEKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtmaXJzdEVtcHR5IC0gMV0gPSB7CiAgICAvLyAgICAgYWNjb3VudDogc3Rha2VyLAogICAgLy8gICAgIGJhbGFuY2U6IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50LAogICAgLy8gICAgIHRvdGFsUmV3YXJkZWQ6IDAsCiAgICAvLyAgICAgcmV3YXJkVG9rZW5CYWxhbmNlOiAwLAogICAgLy8gICAgIGVudHJ5Um91bmQ6IGVudHJ5Um91bmQsCiAgICAvLyB9CiAgICBpdG9iCiAgICBzd2FwCiAgICBkaWcgMQogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGRpZyA1CiAgICBpdG9iCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkzCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjI3NS0yODEKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtmaXJzdEVtcHR5IC0gMV0gPSB7CiAgICAvLyAgICAgYWNjb3VudDogc3Rha2VyLAogICAgLy8gICAgIGJhbGFuY2U6IHN0YWtlZEFtb3VudFBheW1lbnQuYW1vdW50LAogICAgLy8gICAgIHRvdGFsUmV3YXJkZWQ6IDAsCiAgICAvLyAgICAgcmV3YXJkVG9rZW5CYWxhbmNlOiAwLAogICAgLy8gICAgIGVudHJ5Um91bmQ6IGVudHJ5Um91bmQsCiAgICAvLyB9CiAgICBjb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjgyCiAgICAvLyB0aGlzLm51bVN0YWtlcnMudmFsdWUgKz0gMQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjc2CiAgICAvLyBudW1TdGFrZXJzID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ251bVN0YWtlcnMnIH0pCiAgICBieXRlYyAxMCAvLyAibnVtU3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjI4MgogICAgLy8gdGhpcy5udW1TdGFrZXJzLnZhbHVlICs9IDEKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzYKICAgIC8vIG51bVN0YWtlcnMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbnVtU3Rha2VycycgfSkKICAgIGJ5dGVjIDEwIC8vICJudW1TdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MjgyCiAgICAvLyB0aGlzLm51bVN0YWtlcnMudmFsdWUgKz0gMQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjIxMgogICAgLy8gYWRkU3Rha2Uoc3Rha2VkQW1vdW50UGF5bWVudDogZ3R4bi5QYXltZW50VHhuLCBzdGFrZXI6IEFjY291bnQpOiB1aW50NjQgewogICAgYiBhZGRTdGFrZV9hZnRlcl9pbmxpbmVkX2NvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjpTdGFraW5nUG9vbC5hZGRTdGFrZUAxMgoKCi8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjpTdGFraW5nUG9vbC5yZW1vdmVTdGFrZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CnJlbW92ZVN0YWtlOgogICAgaW50Y18wIC8vIDAKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiA1CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoyOTcKICAgIC8vIHJlbW92ZVN0YWtlKHN0YWtlcjogQWNjb3VudCwgYW1vdW50VG9VbnN0YWtlOiB1aW50NjQpOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgYnRvaQogICAgc3dhcAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MzAwCiAgICAvLyBpZiAoc3Rha2VyICE9PSBUeG4uc2VuZGVyKSB7CiAgICB0eG4gU2VuZGVyCiAgICAhPQogICAgYnogcmVtb3ZlU3Rha2VfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMDIKICAgIC8vIHRoaXMuaXNPd25lck9yTWFuYWdlckNhbGxlcigpLAogICAgY2FsbHN1YiBpc093bmVyT3JNYW5hZ2VyQ2FsbGVyCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMDEtMzA0CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgICAgdGhpcy5pc093bmVyT3JNYW5hZ2VyQ2FsbGVyKCksCiAgICAvLyAgICAgJ0lmIHN0YWtlciBpcyBub3Qgc2VuZGVyIGluIHJlbW92ZVN0YWtlIGNhbGwsIHRoZW4gc2VuZGVyIE1VU1QgYmUgb3duZXIgb3IgbWFuYWdlciBvZiB2YWxpZGF0b3InLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIElmIHN0YWtlciBpcyBub3Qgc2VuZGVyIGluIHJlbW92ZVN0YWtlIGNhbGwsIHRoZW4gc2VuZGVyIE1VU1QgYmUgb3duZXIgb3IgbWFuYWdlciBvZiB2YWxpZGF0b3IKCnJlbW92ZVN0YWtlX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjMwNwogICAgLy8gdGhpcy5jaGVja0lmQmluQ2xvc2VkKCkKICAgIGNhbGxzdWIgY2hlY2tJZkJpbkNsb3NlZAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MzA5CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA1CgpyZW1vdmVTdGFrZV93aGlsZV90b3BANDoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkzCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjMwOQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2Vycy52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZGlnIDQKICAgIGR1cAogICAgaW50YyA0IC8vIDIwMAogICAgPAogICAgYXNzZXJ0IC8vIGFjY291bnQgbm90IGZvdW5kCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMTAKICAgIC8vIGVuc3VyZUJ1ZGdldCgzMDApCiAgICBpbnRjIDYgLy8gMzAwCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMTEKICAgIC8vIGNvbnN0IGNtcFN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2Vycy52YWx1ZVtpXSkKICAgIGludGNfMiAvLyA2NAogICAgKgogICAgZHVwCiAgICBidXJ5IDcKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkzCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjMxMQogICAgLy8gY29uc3QgY21wU3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzLnZhbHVlW2ldKQogICAgc3dhcAogICAgaW50Y18yIC8vIDY0CiAgICBib3hfZXh0cmFjdAogICAgZHVwCiAgICBidXJ5IDEwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMTEtMzEyCiAgICAvLyBjb25zdCBjbXBTdGFrZXIgPSBjbG9uZSh0aGlzLnN0YWtlcnMudmFsdWVbaV0pCiAgICAvLyBpZiAoY21wU3Rha2VyLmFjY291bnQgPT09IHN0YWtlcikgewogICAgZXh0cmFjdCAwIDMyCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMTIKICAgIC8vIGlmIChjbXBTdGFrZXIuYWNjb3VudCA9PT0gc3Rha2VyKSB7CiAgICBkaWcgMgogICAgPT0KICAgIGJ6IHJlbW92ZVN0YWtlX2FmdGVyX2lmX2Vsc2VAMjYKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjMxMwogICAgLy8gaWYgKGFtb3VudFRvVW5zdGFrZSA9PT0gMCkgewogICAgZHVwCiAgICBibnogcmVtb3ZlU3Rha2VfYWZ0ZXJfaWZfZWxzZUA4CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5MwogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMTUKICAgIC8vIGFtb3VudFRvVW5zdGFrZSA9IGNtcFN0YWtlci5iYWxhbmNlCiAgICBkaWcgNgogICAgaW50Y18yIC8vIDY0CiAgICBib3hfZXh0cmFjdAogICAgcHVzaGludCAzMiAvLyAzMgogICAgZXh0cmFjdF91aW50NjQKICAgIGJ1cnkgMQoKcmVtb3ZlU3Rha2VfYWZ0ZXJfaWZfZWxzZUA4OgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTMKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MzE3CiAgICAvLyBpZiAoY21wU3Rha2VyLmJhbGFuY2UgPCBhbW91bnRUb1Vuc3Rha2UpIHsKICAgIGRpZyA2CiAgICBpbnRjXzIgLy8gNjQKICAgIGJveF9leHRyYWN0CiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBkaWcgMgogICAgZHVwCiAgICBjb3ZlciAzCiAgICA8CiAgICAhCiAgICBhc3NlcnQgLy8gSW5zdWZmaWNpZW50IGJhbGFuY2UKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjMyMAogICAgLy8gY21wU3Rha2VyLmJhbGFuY2UgLT0gYW1vdW50VG9VbnN0YWtlCiAgICBkaWcgMQogICAgLQogICAgaXRvYgogICAgZGlnIDEwCiAgICBzd2FwCiAgICByZXBsYWNlMiAzMgogICAgZHVwCiAgICBidXJ5IDExCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMjEKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlIC09IGFtb3VudFRvVW5zdGFrZQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjc5CiAgICAvLyB0b3RhbEFsZ29TdGFrZWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnc3Rha2VkJyB9KQogICAgYnl0ZWMgNSAvLyAic3Rha2VkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MzIxCiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSAtPSBhbW91bnRUb1Vuc3Rha2UKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICB1bmNvdmVyIDIKICAgIC0KICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjc5CiAgICAvLyB0b3RhbEFsZ29TdGFrZWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnc3Rha2VkJyB9KQogICAgYnl0ZWMgNSAvLyAic3Rha2VkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MzIxCiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSAtPSBhbW91bnRUb1Vuc3Rha2UKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMjMKICAgIC8vIGxldCBhbW91bnRSZXdhcmRUb2tlblJlbW92ZWQ6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDkKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjMyNAogICAgLy8gaWYgKGNtcFN0YWtlci5yZXdhcmRUb2tlbkJhbGFuY2UgPiAwKSB7CiAgICBwdXNoaW50IDQ4IC8vIDQ4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBidXJ5IDgKICAgIGJ6IHJlbW92ZVN0YWtlX2FmdGVyX2lmX2Vsc2VAMTcKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjMyNgogICAgLy8gaWYgKHRoaXMucG9vbElkLnZhbHVlID09PSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzMKICAgIC8vIHBvb2xJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdwb29sSWQnIH0pCiAgICBieXRlY18zIC8vICJwb29sSWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMjYKICAgIC8vIGlmICh0aGlzLnBvb2xJZC52YWx1ZSA9PT0gMSkgewogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYnogcmVtb3ZlU3Rha2VfZWxzZV9ib2R5QDE1CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMjctMzMwCiAgICAvLyBjb25zdCB2YWxpZGF0b3JDb25maWcgPSBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yQ29uZmlnPih7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMjgKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2NwogICAgLy8gY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2NyZWF0b3JBcHAnIH0pCiAgICBieXRlY18xIC8vICJjcmVhdG9yQXBwIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MzI4CiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MzI5CiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzAKICAgIC8vIHZhbGlkYXRvcklkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3ZhbGlkYXRvcklkJyB9KQogICAgYnl0ZWNfMiAvLyAidmFsaWRhdG9ySWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMjkKICAgIC8vIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMjctMzMwCiAgICAvLyBjb25zdCB2YWxpZGF0b3JDb25maWcgPSBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yQ29uZmlnPih7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBieXRlYyAxMyAvLyBtZXRob2QgImdldFZhbGlkYXRvckNvbmZpZyh1aW50NjQpKHVpbnQ2NCxhZGRyZXNzLGFkZHJlc3MsdWludDY0LHVpbnQ4LGFkZHJlc3MsdWludDY0WzRdLHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQzMix1aW50MzIsYWRkcmVzcyx1aW50NjQsdWludDY0LHVpbnQ4LHVpbnQ2NCx1aW50NjQpIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cAogICAgZXh0cmFjdCAwIDQKICAgIGJ5dGVjIDQgLy8gMHgxNTFmN2M3NQogICAgPT0KICAgIGFzc2VydCAvLyBCeXRlcyBoYXMgdmFsaWQgcHJlZml4CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozMzUtMzM5CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdmFsaWRhdG9yQ29uZmlnLnJld2FyZFRva2VuSWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogc3Rha2VyLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBjbXBTdGFrZXIucmV3YXJkVG9rZW5CYWxhbmNlLAogICAgLy8gfSkuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIGludGMgNSAvLyAxNTcKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjMzNgogICAgLy8geGZlckFzc2V0OiB2YWxpZGF0b3JDb25maWcucmV3YXJkVG9rZW5JZCwKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgNwogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgZGlnIDIKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjMzNS0zMzkKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB2YWxpZGF0b3JDb25maWcucmV3YXJkVG9rZW5JZCwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBzdGFrZXIsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGNtcFN0YWtlci5yZXdhcmRUb2tlbkJhbGFuY2UsCiAgICAvLyB9KS5zdWJtaXQoKQogICAgcHVzaGludCA0IC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM0MQogICAgLy8gY21wU3Rha2VyLnJld2FyZFRva2VuQmFsYW5jZSA9IDAKICAgIGludGNfMCAvLyAwCiAgICBpdG9iCiAgICBkaWcgOQogICAgc3dhcAogICAgcmVwbGFjZTIgNDgKICAgIGJ1cnkgOQoKcmVtb3ZlU3Rha2VfYWZ0ZXJfaWZfZWxzZUAxNjoKICAgIGRpZyA2CiAgICBidXJ5IDgKCnJlbW92ZVN0YWtlX2FmdGVyX2lmX2Vsc2VAMTc6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozNTMKICAgIC8vIGNtcFN0YWtlci5iYWxhbmNlID09PSAwIHx8IGNtcFN0YWtlci5iYWxhbmNlID49IHRoaXMubWluRW50cnlTdGFrZS52YWx1ZSwKICAgIGRpZyA4CiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBidXJ5IDQKICAgIGJ6IHJlbW92ZVN0YWtlX2Jvb2xfdHJ1ZUAxOQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjgxCiAgICAvLyBtaW5FbnRyeVN0YWtlID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ21pbkVudHJ5U3Rha2UnIH0pCiAgICBieXRlYyAxNSAvLyAibWluRW50cnlTdGFrZSIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM1MwogICAgLy8gY21wU3Rha2VyLmJhbGFuY2UgPT09IDAgfHwgY21wU3Rha2VyLmJhbGFuY2UgPj0gdGhpcy5taW5FbnRyeVN0YWtlLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGRpZyAzCiAgICA8PQogICAgYnogcmVtb3ZlU3Rha2VfYm9vbF9mYWxzZUAyMAoKcmVtb3ZlU3Rha2VfYm9vbF90cnVlQDE5OgogICAgaW50Y18xIC8vIDEKCnJlbW92ZVN0YWtlX2Jvb2xfbWVyZ2VAMjE6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozNTItMzU1CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgICAgY21wU3Rha2VyLmJhbGFuY2UgPT09IDAgfHwgY21wU3Rha2VyLmJhbGFuY2UgPj0gdGhpcy5taW5FbnRyeVN0YWtlLnZhbHVlLAogICAgLy8gICAgICdjYW5ub3QgcmVkdWNlIGJhbGFuY2UgYmVsb3cgbWluaW11bSBhbGxvd2VkIHN0YWtlIHVubGVzcyBhbGwgaXMgcmVtb3ZlZCcsCiAgICAvLyApCiAgICBhc3NlcnQgLy8gY2Fubm90IHJlZHVjZSBiYWxhbmNlIGJlbG93IG1pbmltdW0gYWxsb3dlZCBzdGFrZSB1bmxlc3MgYWxsIGlzIHJlbW92ZWQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM2MC0zNjQKICAgIC8vIGl0eG4ucGF5bWVudCh7CiAgICAvLyAgICAgYW1vdW50OiBhbW91bnRUb1Vuc3Rha2UsCiAgICAvLyAgICAgcmVjZWl2ZXI6IHN0YWtlciwKICAgIC8vICAgICBub3RlOiAndW5zdGFrZWQnLAogICAgLy8gfSkuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM2MwogICAgLy8gbm90ZTogJ3Vuc3Rha2VkJywKICAgIHB1c2hieXRlcyAidW5zdGFrZWQiCiAgICBpdHhuX2ZpZWxkIE5vdGUKICAgIGRpZyAxCiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICBkdXAKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozNjAtMzY0CiAgICAvLyBpdHhuLnBheW1lbnQoewogICAgLy8gICAgIGFtb3VudDogYW1vdW50VG9VbnN0YWtlLAogICAgLy8gICAgIHJlY2VpdmVyOiBzdGFrZXIsCiAgICAvLyAgICAgbm90ZTogJ3Vuc3Rha2VkJywKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MzY1CiAgICAvLyBsZXQgc3Rha2VyUmVtb3ZlZCA9IGZhbHNlCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozNjYKICAgIC8vIGlmIChjbXBTdGFrZXIuYmFsYW5jZSA9PT0gMCkgewogICAgZGlnIDIKICAgIGJueiByZW1vdmVTdGFrZV9hZnRlcl9pZl9lbHNlQDI0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozNjgKICAgIC8vIHRoaXMubnVtU3Rha2Vycy52YWx1ZSAtPSAxCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzYKICAgIC8vIG51bVN0YWtlcnMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbnVtU3Rha2VycycgfSkKICAgIGJ5dGVjIDEwIC8vICJudW1TdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MzY4CiAgICAvLyB0aGlzLm51bVN0YWtlcnMudmFsdWUgLT0gMQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3NgogICAgLy8gbnVtU3Rha2VycyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdudW1TdGFrZXJzJyB9KQogICAgYnl0ZWMgMTAgLy8gIm51bVN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozNjgKICAgIC8vIHRoaXMubnVtU3Rha2Vycy52YWx1ZSAtPSAxCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MzY5CiAgICAvLyBjbXBTdGFrZXIuYWNjb3VudCA9IEdsb2JhbC56ZXJvQWRkcmVzcwogICAgZGlnIDgKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgcmVwbGFjZTIgMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MzcwCiAgICAvLyBjbXBTdGFrZXIudG90YWxSZXdhcmRlZCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBpdG9iCiAgICBzd2FwCiAgICBkaWcgMQogICAgcmVwbGFjZTIgNDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM3MQogICAgLy8gY21wU3Rha2VyLnJld2FyZFRva2VuQmFsYW5jZSA9IDAKICAgIHN3YXAKICAgIHJlcGxhY2UyIDQ4CiAgICBidXJ5IDkKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM3MgogICAgLy8gc3Rha2VyUmVtb3ZlZCA9IHRydWUKICAgIGludGNfMSAvLyAxCiAgICBidXJ5IDQKCnJlbW92ZVN0YWtlX2FmdGVyX2lmX2Vsc2VAMjQ6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5MwogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozNzUKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtpXSA9IGNsb25lKGNtcFN0YWtlcikKICAgIGRpZyA2CiAgICBkaWcgMTAKICAgIGJveF9yZXBsYWNlCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozNzcKICAgIC8vIGNvbnN0IHJvdW5kc0xlZnRJbkJpbjogdWludDY0ID0gdGhpcy5iaW5Sb3VuZFN0YXJ0LnZhbHVlICsgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUgLSBHbG9iYWwucm91bmQKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5OQogICAgLy8gYmluUm91bmRTdGFydCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdiaW5Sb3VuZFN0YXJ0JyB9KQogICAgYnl0ZWMgOSAvLyAiYmluUm91bmRTdGFydCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM3NwogICAgLy8gY29uc3Qgcm91bmRzTGVmdEluQmluOiB1aW50NjQgPSB0aGlzLmJpblJvdW5kU3RhcnQudmFsdWUgKyB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSAtIEdsb2JhbC5yb3VuZAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5NwogICAgLy8gcm91bmRzUGVyRGF5ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3JvdW5kc1BlckRheScgfSkKICAgIGJ5dGVjIDYgLy8gInJvdW5kc1BlckRheSIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM3NwogICAgLy8gY29uc3Qgcm91bmRzTGVmdEluQmluOiB1aW50NjQgPSB0aGlzLmJpblJvdW5kU3RhcnQudmFsdWUgKyB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSAtIEdsb2JhbC5yb3VuZAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgICsKICAgIGdsb2JhbCBSb3VuZAogICAgLQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6Mzc4CiAgICAvLyBjb25zdCBzdWJ0cmFjdEFtb3VudCA9IEJpZ1VpbnQoYW1vdW50VG9VbnN0YWtlICogcm91bmRzTGVmdEluQmluKQogICAgZGlnIDEKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICAqCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozNzkKICAgIC8vIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZSA9IG5ldyBVaW50MTI4KHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZS5hc0JpZ1VpbnQoKSAtIHN1YnRyYWN0QW1vdW50KQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNAogICAgLy8gc3Rha2VBY2N1bXVsYXRvciA9IEdsb2JhbFN0YXRlPFVpbnQxMjg+KHsga2V5OiAnc3Rha2VBY2N1bXVsYXRvcicgfSkKICAgIGJ5dGVjIDcgLy8gInN0YWtlQWNjdW11bGF0b3IiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozNzkKICAgIC8vIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZSA9IG5ldyBVaW50MTI4KHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZS5hc0JpZ1VpbnQoKSAtIHN1YnRyYWN0QW1vdW50KQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHN3YXAKICAgIGItCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDE2CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBpbnRjXzMgLy8gMTYKICAgIGJ6ZXJvCiAgICBifAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA0CiAgICAvLyBzdGFrZUFjY3VtdWxhdG9yID0gR2xvYmFsU3RhdGU8VWludDEyOD4oeyBrZXk6ICdzdGFrZUFjY3VtdWxhdG9yJyB9KQogICAgYnl0ZWMgNyAvLyAic3Rha2VBY2N1bXVsYXRvciIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM3OQogICAgLy8gdGhpcy5zdGFrZUFjY3VtdWxhdG9yLnZhbHVlID0gbmV3IFVpbnQxMjgodGhpcy5zdGFrZUFjY3VtdWxhdG9yLnZhbHVlLmFzQmlnVWludCgpIC0gc3VidHJhY3RBbW91bnQpCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6Mzg0LTM5NwogICAgLy8gYWJpQ2FsbDx0eXBlb2YgVmFsaWRhdG9yUmVnaXN0cnkucHJvdG90eXBlLnN0YWtlUmVtb3ZlZD4oewogICAgLy8gICAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgICBhcmdzOiBbCiAgICAvLyAgICAgICAgIHsKICAgIC8vICAgICAgICAgICAgIGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLAogICAgLy8gICAgICAgICAgICAgcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwKICAgIC8vICAgICAgICAgICAgIHBvb2xBcHBJZDogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkLAogICAgLy8gICAgICAgICB9LAogICAgLy8gICAgICAgICBzdGFrZXIsCiAgICAvLyAgICAgICAgIGFtb3VudFRvVW5zdGFrZSwKICAgIC8vICAgICAgICAgYW1vdW50UmV3YXJkVG9rZW5SZW1vdmVkLAogICAgLy8gICAgICAgICBzdGFrZXJSZW1vdmVkLAogICAgLy8gICAgIF0sCiAgICAvLyB9KQogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6Mzg1CiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjcKICAgIC8vIGNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdjcmVhdG9yQXBwJyB9KQogICAgYnl0ZWNfMSAvLyAiY3JlYXRvckFwcCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM4NQogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM4OAogICAgLy8gaWQ6IHRoaXMudmFsaWRhdG9ySWQudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzAKICAgIC8vIHZhbGlkYXRvcklkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3ZhbGlkYXRvcklkJyB9KQogICAgYnl0ZWNfMiAvLyAidmFsaWRhdG9ySWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozODgKICAgIC8vIGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM4OQogICAgLy8gcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3MwogICAgLy8gcG9vbElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3Bvb2xJZCcgfSkKICAgIGJ5dGVjXzMgLy8gInBvb2xJZCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM4OQogICAgLy8gcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozOTAKICAgIC8vIHBvb2xBcHBJZDogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbklECiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozODctMzkxCiAgICAvLyB7CiAgICAvLyAgICAgaWQ6IHRoaXMudmFsaWRhdG9ySWQudmFsdWUsCiAgICAvLyAgICAgcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwKICAgIC8vICAgICBwb29sQXBwSWQ6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCwKICAgIC8vIH0sCiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgY29uY2F0CiAgICBzd2FwCiAgICBpdG9iCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM5MwogICAgLy8gYW1vdW50VG9VbnN0YWtlLAogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozOTQKICAgIC8vIGFtb3VudFJld2FyZFRva2VuUmVtb3ZlZCwKICAgIGRpZyAxMAogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6Mzk1CiAgICAvLyBzdGFrZXJSZW1vdmVkLAogICAgcHVzaGJ5dGVzIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICBkaWcgOQogICAgc2V0Yml0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czozODQtMzk3CiAgICAvLyBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuc3Rha2VSZW1vdmVkPih7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFsKICAgIC8vICAgICAgICAgewogICAgLy8gICAgICAgICAgICAgaWQ6IHRoaXMudmFsaWRhdG9ySWQudmFsdWUsCiAgICAvLyAgICAgICAgICAgICBwb29sSWQ6IHRoaXMucG9vbElkLnZhbHVlLAogICAgLy8gICAgICAgICAgICAgcG9vbEFwcElkOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQsCiAgICAvLyAgICAgICAgIH0sCiAgICAvLyAgICAgICAgIHN0YWtlciwKICAgIC8vICAgICAgICAgYW1vdW50VG9VbnN0YWtlLAogICAgLy8gICAgICAgICBhbW91bnRSZXdhcmRUb2tlblJlbW92ZWQsCiAgICAvLyAgICAgICAgIHN0YWtlclJlbW92ZWQsCiAgICAvLyAgICAgXSwKICAgIC8vIH0pCiAgICBieXRlYyAyNCAvLyBtZXRob2QgInN0YWtlUmVtb3ZlZCgodWludDY0LHVpbnQ2NCx1aW50NjQpLGFkZHJlc3MsdWludDY0LHVpbnQ2NCxib29sKXZvaWQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgdW5jb3ZlciAzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZGlnIDUKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICB1bmNvdmVyIDIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgcHVzaGludCA2IC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjI5NwogICAgLy8gcmVtb3ZlU3Rha2Uoc3Rha2VyOiBBY2NvdW50LCBhbW91bnRUb1Vuc3Rha2U6IHVpbnQ2NCk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKcmVtb3ZlU3Rha2VfYm9vbF9mYWxzZUAyMDoKICAgIGludGNfMCAvLyAwCiAgICBiIHJlbW92ZVN0YWtlX2Jvb2xfbWVyZ2VAMjEKCnJlbW92ZVN0YWtlX2Vsc2VfYm9keUAxNToKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjM0NwogICAgLy8gY21wU3Rha2VyLnJld2FyZFRva2VuQmFsYW5jZSA9IDAKICAgIGludGNfMCAvLyAwCiAgICBpdG9iCiAgICBkaWcgOQogICAgc3dhcAogICAgcmVwbGFjZTIgNDgKICAgIGJ1cnkgOQogICAgYiByZW1vdmVTdGFrZV9hZnRlcl9pZl9lbHNlQDE2CgpyZW1vdmVTdGFrZV9hZnRlcl9pZl9lbHNlQDI2OgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MzA5CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBkaWcgNAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgNQogICAgYiByZW1vdmVTdGFrZV93aGlsZV90b3BANAoKCi8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjpTdGFraW5nUG9vbC5jbGFpbVRva2Vuc1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmNsYWltVG9rZW5zOgogICAgaW50Y18wIC8vIDAKICAgIGR1cAogICAgcHVzaGJ5dGVzICIiCiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQxMwogICAgLy8gY29uc3Qgc3Rha2VyID0gVHhuLnNlbmRlcgogICAgdHhuIFNlbmRlcgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NDE1CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAoKY2xhaW1Ub2tlbnNfd2hpbGVfdG9wQDI6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5MwogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0MTUKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlcnMudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGR1cG4gMgogICAgaW50YyA0IC8vIDIwMAogICAgPAogICAgYXNzZXJ0IC8vIGFjY291bnQgbm90IGZvdW5kCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0MTYKICAgIC8vIGVuc3VyZUJ1ZGdldCgzMDApCiAgICBpbnRjIDYgLy8gMzAwCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0MTcKICAgIC8vIGNvbnN0IGNtcFN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2Vycy52YWx1ZVtpXSkKICAgIGludGNfMiAvLyA2NAogICAgKgogICAgZHVwCiAgICBidXJ5IDQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkzCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQxNwogICAgLy8gY29uc3QgY21wU3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzLnZhbHVlW2ldKQogICAgc3dhcAogICAgaW50Y18yIC8vIDY0CiAgICBib3hfZXh0cmFjdAogICAgZHVwCiAgICBidXJ5IDYKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQxNy00MTgKICAgIC8vIGNvbnN0IGNtcFN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2Vycy52YWx1ZVtpXSkKICAgIC8vIGlmIChjbXBTdGFrZXIuYWNjb3VudCA9PT0gc3Rha2VyKSB7CiAgICBleHRyYWN0IDAgMzIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQxOAogICAgLy8gaWYgKGNtcFN0YWtlci5hY2NvdW50ID09PSBzdGFrZXIpIHsKICAgIGRpZyAyCiAgICA9PQogICAgYnogY2xhaW1Ub2tlbnNfYWZ0ZXJfaWZfZWxzZUAxMwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTMKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NDE5CiAgICAvLyBpZiAoY21wU3Rha2VyLnJld2FyZFRva2VuQmFsYW5jZSA9PT0gMCkgewogICAgZGlnIDMKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIGR1cAogICAgZXh0cmFjdCA0OCA4CiAgICBidXJ5IDcKICAgIHB1c2hpbnQgNDggLy8gNDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGJ1cnkgNQogICAgYnogY2xhaW1Ub2tlbnNfYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo6U3Rha2luZ1Bvb2wuY2xhaW1Ub2tlbnNAMTUKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQyNAogICAgLy8gaWYgKHRoaXMucG9vbElkLnZhbHVlID09PSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzMKICAgIC8vIHBvb2xJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdwb29sSWQnIH0pCiAgICBieXRlY18zIC8vICJwb29sSWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0MjQKICAgIC8vIGlmICh0aGlzLnBvb2xJZC52YWx1ZSA9PT0gMSkgewogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYnogY2xhaW1Ub2tlbnNfZWxzZV9ib2R5QDEwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0MjUtNDI4CiAgICAvLyBjb25zdCB2YWxpZGF0b3JDb25maWcgPSBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yQ29uZmlnPih7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0MjYKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2NwogICAgLy8gY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2NyZWF0b3JBcHAnIH0pCiAgICBieXRlY18xIC8vICJjcmVhdG9yQXBwIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NDI2CiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NDI3CiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzAKICAgIC8vIHZhbGlkYXRvcklkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3ZhbGlkYXRvcklkJyB9KQogICAgYnl0ZWNfMiAvLyAidmFsaWRhdG9ySWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0MjcKICAgIC8vIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0MjUtNDI4CiAgICAvLyBjb25zdCB2YWxpZGF0b3JDb25maWcgPSBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yQ29uZmlnPih7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBieXRlYyAxMyAvLyBtZXRob2QgImdldFZhbGlkYXRvckNvbmZpZyh1aW50NjQpKHVpbnQ2NCxhZGRyZXNzLGFkZHJlc3MsdWludDY0LHVpbnQ4LGFkZHJlc3MsdWludDY0WzRdLHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQzMix1aW50MzIsYWRkcmVzcyx1aW50NjQsdWludDY0LHVpbnQ4LHVpbnQ2NCx1aW50NjQpIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cAogICAgZXh0cmFjdCAwIDQKICAgIGJ5dGVjIDQgLy8gMHgxNTFmN2M3NQogICAgPT0KICAgIGFzc2VydCAvLyBCeXRlcyBoYXMgdmFsaWQgcHJlZml4CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0MzItNDM2CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdmFsaWRhdG9yQ29uZmlnLnJld2FyZFRva2VuSWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogc3Rha2VyLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBjbXBTdGFrZXIucmV3YXJkVG9rZW5CYWxhbmNlLAogICAgLy8gfSkuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIGludGMgNSAvLyAxNTcKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQzMwogICAgLy8geGZlckFzc2V0OiB2YWxpZGF0b3JDb25maWcucmV3YXJkVG9rZW5JZCwKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgNAogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgZGlnIDIKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQzMi00MzYKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB2YWxpZGF0b3JDb25maWcucmV3YXJkVG9rZW5JZCwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBzdGFrZXIsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGNtcFN0YWtlci5yZXdhcmRUb2tlbkJhbGFuY2UsCiAgICAvLyB9KS5zdWJtaXQoKQogICAgcHVzaGludCA0IC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQzOAogICAgLy8gY21wU3Rha2VyLnJld2FyZFRva2VuQmFsYW5jZSA9IDAKICAgIGludGNfMCAvLyAwCiAgICBpdG9iCiAgICBkaWcgNQogICAgc3dhcAogICAgcmVwbGFjZTIgNDgKICAgIGJ1cnkgNQoKY2xhaW1Ub2tlbnNfYWZ0ZXJfaWZfZWxzZUAxMToKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkzCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQ0OAogICAgLy8gdGhpcy5zdGFrZXJzLnZhbHVlW2ldID0gY2xvbmUoY21wU3Rha2VyKQogICAgZGlnIDMKICAgIGRpZyA2CiAgICBib3hfcmVwbGFjZQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NDUzLTQ2NgogICAgLy8gYWJpQ2FsbDx0eXBlb2YgVmFsaWRhdG9yUmVnaXN0cnkucHJvdG90eXBlLnN0YWtlUmVtb3ZlZD4oewogICAgLy8gICAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgICBhcmdzOiBbCiAgICAvLyAgICAgICAgIHsKICAgIC8vICAgICAgICAgICAgIGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLAogICAgLy8gICAgICAgICAgICAgcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwKICAgIC8vICAgICAgICAgICAgIHBvb2xBcHBJZDogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkLAogICAgLy8gICAgICAgICB9LAogICAgLy8gICAgICAgICBzdGFrZXIsCiAgICAvLyAgICAgICAgIDAsIC8vIG5vIGFsZ28gcmVtb3ZlZAogICAgLy8gICAgICAgICBhbW91bnRSZXdhcmRUb2tlblJlbW92ZWQsCiAgICAvLyAgICAgICAgIGZhbHNlLCAvLyBzdGFrZXIgaXNuJ3QgYmVpbmcgcmVtb3ZlZC4KICAgIC8vICAgICBdLAogICAgLy8gfSkKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQ1NAogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjY3CiAgICAvLyBjcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnY3JlYXRvckFwcCcgfSkKICAgIGJ5dGVjXzEgLy8gImNyZWF0b3JBcHAiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0NTQKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0NTcKICAgIC8vIGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjcwCiAgICAvLyB2YWxpZGF0b3JJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICd2YWxpZGF0b3JJZCcgfSkKICAgIGJ5dGVjXzIgLy8gInZhbGlkYXRvcklkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NDU3CiAgICAvLyBpZDogdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0NTgKICAgIC8vIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzMKICAgIC8vIHBvb2xJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdwb29sSWQnIH0pCiAgICBieXRlY18zIC8vICJwb29sSWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0NTgKICAgIC8vIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NDU5CiAgICAvLyBwb29sQXBwSWQ6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCwKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25JRAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NDU2LTQ2MAogICAgLy8gewogICAgLy8gICAgIGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLAogICAgLy8gICAgIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsCiAgICAvLyAgICAgcG9vbEFwcElkOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQsCiAgICAvLyB9LAogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIGNvbmNhdAogICAgc3dhcAogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0NjIKICAgIC8vIDAsIC8vIG5vIGFsZ28gcmVtb3ZlZAogICAgaW50Y18wIC8vIDAKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQ1My00NjYKICAgIC8vIGFiaUNhbGw8dHlwZW9mIFZhbGlkYXRvclJlZ2lzdHJ5LnByb3RvdHlwZS5zdGFrZVJlbW92ZWQ+KHsKICAgIC8vICAgICBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICAvLyAgICAgYXJnczogWwogICAgLy8gICAgICAgICB7CiAgICAvLyAgICAgICAgICAgICBpZDogdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwKICAgIC8vICAgICAgICAgICAgIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsCiAgICAvLyAgICAgICAgICAgICBwb29sQXBwSWQ6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCwKICAgIC8vICAgICAgICAgfSwKICAgIC8vICAgICAgICAgc3Rha2VyLAogICAgLy8gICAgICAgICAwLCAvLyBubyBhbGdvIHJlbW92ZWQKICAgIC8vICAgICAgICAgYW1vdW50UmV3YXJkVG9rZW5SZW1vdmVkLAogICAgLy8gICAgICAgICBmYWxzZSwgLy8gc3Rha2VyIGlzbid0IGJlaW5nIHJlbW92ZWQuCiAgICAvLyAgICAgXSwKICAgIC8vIH0pCiAgICBieXRlYyAyNCAvLyBtZXRob2QgInN0YWtlUmVtb3ZlZCgodWludDY0LHVpbnQ2NCx1aW50NjQpLGFkZHJlc3MsdWludDY0LHVpbnQ2NCxib29sKXZvaWQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgc3dhcAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGRpZyAzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGRpZyA2CiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NDY0CiAgICAvLyBmYWxzZSwgLy8gc3Rha2VyIGlzbid0IGJlaW5nIHJlbW92ZWQuCiAgICBwdXNoYnl0ZXMgMHgwMAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NDUzLTQ2NgogICAgLy8gYWJpQ2FsbDx0eXBlb2YgVmFsaWRhdG9yUmVnaXN0cnkucHJvdG90eXBlLnN0YWtlUmVtb3ZlZD4oewogICAgLy8gICAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgICBhcmdzOiBbCiAgICAvLyAgICAgICAgIHsKICAgIC8vICAgICAgICAgICAgIGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLAogICAgLy8gICAgICAgICAgICAgcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwKICAgIC8vICAgICAgICAgICAgIHBvb2xBcHBJZDogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkLAogICAgLy8gICAgICAgICB9LAogICAgLy8gICAgICAgICBzdGFrZXIsCiAgICAvLyAgICAgICAgIDAsIC8vIG5vIGFsZ28gcmVtb3ZlZAogICAgLy8gICAgICAgICBhbW91bnRSZXdhcmRUb2tlblJlbW92ZWQsCiAgICAvLyAgICAgICAgIGZhbHNlLCAvLyBzdGFrZXIgaXNuJ3QgYmVpbmcgcmVtb3ZlZC4KICAgIC8vICAgICBdLAogICAgLy8gfSkKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CgpjbGFpbVRva2Vuc19hZnRlcl9pbmxpbmVkX2NvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjpTdGFraW5nUG9vbC5jbGFpbVRva2Vuc0AxNToKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQwOQogICAgLy8gY2xhaW1Ub2tlbnMoKTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgpjbGFpbVRva2Vuc19lbHNlX2JvZHlAMTA6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0NDQKICAgIC8vIGNtcFN0YWtlci5yZXdhcmRUb2tlbkJhbGFuY2UgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXRvYgogICAgZGlnIDUKICAgIHN3YXAKICAgIHJlcGxhY2UyIDQ4CiAgICBidXJ5IDUKICAgIGIgY2xhaW1Ub2tlbnNfYWZ0ZXJfaWZfZWxzZUAxMQoKY2xhaW1Ub2tlbnNfYWZ0ZXJfaWZfZWxzZUAxMzoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQxNQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2Vycy52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgZHVwCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxCiAgICBiIGNsYWltVG9rZW5zX3doaWxlX3RvcEAyCgoKLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OlN0YWtpbmdQb29sLmdldFN0YWtlckluZm9bcm91dGluZ10oKSAtPiB2b2lkOgpnZXRTdGFrZXJJbmZvOgogICAgcHVzaGJ5dGVzICIiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo0ODAKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NDgyCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAoKZ2V0U3Rha2VySW5mb193aGlsZV90b3BAMjoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkzCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQ4MgogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2Vycy52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZHVwbiAyCiAgICBpbnRjIDQgLy8gMjAwCiAgICA8CiAgICBhc3NlcnQgLy8gYWNjb3VudCBub3QgZm91bmQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQ4MwogICAgLy8gZW5zdXJlQnVkZ2V0KDIwMCkKICAgIGludGMgNCAvLyAyMDAKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQ4NAogICAgLy8gaWYgKHRoaXMuc3Rha2Vycy52YWx1ZVtpXS5hY2NvdW50ID09PSBzdGFrZXIpIHsKICAgIGludGNfMiAvLyA2NAogICAgKgogICAgZHVwCiAgICBidXJ5IDQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkzCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjQ4NAogICAgLy8gaWYgKHRoaXMuc3Rha2Vycy52YWx1ZVtpXS5hY2NvdW50ID09PSBzdGFrZXIpIHsKICAgIHN3YXAKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIGV4dHJhY3QgMCAzMgogICAgZGlnIDIKICAgID09CiAgICBieiBnZXRTdGFrZXJJbmZvX2FmdGVyX2lmX2Vsc2VANQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTMKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NDg1CiAgICAvLyByZXR1cm4gdGhpcy5zdGFrZXJzLnZhbHVlW2ldCiAgICBkaWcgMwogICAgaW50Y18yIC8vIDY0CiAgICBib3hfZXh0cmFjdAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NDgwCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGJ5dGVjIDQgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCmdldFN0YWtlckluZm9fYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NDgyCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBkdXAKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDEKICAgIGIgZ2V0U3Rha2VySW5mb193aGlsZV90b3BAMgoKCi8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjpTdGFraW5nUG9vbC5wYXlUb2tlblJld2FyZFtyb3V0aW5nXSgpIC0+IHZvaWQ6CnBheVRva2VuUmV3YXJkOgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTAxCiAgICAvLyBwYXlUb2tlblJld2FyZChzdGFrZXI6IEFjY291bnQsIHJld2FyZFRva2VuOiB1aW50NjQsIGFtb3VudFRvU2VuZDogdWludDY0KTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBidG9pCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1MDQKICAgIC8vIFR4bi5zZW5kZXIgPT09IEFwcGxpY2F0aW9uKHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjY3CiAgICAvLyBjcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnY3JlYXRvckFwcCcgfSkKICAgIGJ5dGVjXzEgLy8gImNyZWF0b3JBcHAiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1MDQKICAgIC8vIFR4bi5zZW5kZXIgPT09IEFwcGxpY2F0aW9uKHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgID09CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1MDMtNTA2CiAgICAvLyBhc3NlcnQoCiAgICAvLyAgICAgVHhuLnNlbmRlciA9PT0gQXBwbGljYXRpb24odGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICAvLyAgICAgJ3RoaXMgY2FuIG9ubHkgYmUgY2FsbGVkIHZpYSB0aGUgdmFsaWRhdG9yIGNvbnRyYWN0JywKICAgIC8vICkKICAgIGFzc2VydCAvLyB0aGlzIGNhbiBvbmx5IGJlIGNhbGxlZCB2aWEgdGhlIHZhbGlkYXRvciBjb250cmFjdAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTA3CiAgICAvLyBhc3NlcnQodGhpcy5wb29sSWQudmFsdWUgPT09IDEsICdtdXN0IGJlIHBvb2wgMSBpbiBvcmRlciB0byBiZSBjYWxsZWQgdG8gcGF5IG91dCB0b2tlbiByZXdhcmRzJykKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3MwogICAgLy8gcG9vbElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3Bvb2xJZCcgfSkKICAgIGJ5dGVjXzMgLy8gInBvb2xJZCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjUwNwogICAgLy8gYXNzZXJ0KHRoaXMucG9vbElkLnZhbHVlID09PSAxLCAnbXVzdCBiZSBwb29sIDEgaW4gb3JkZXIgdG8gYmUgY2FsbGVkIHRvIHBheSBvdXQgdG9rZW4gcmV3YXJkcycpCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBhc3NlcnQgLy8gbXVzdCBiZSBwb29sIDEgaW4gb3JkZXIgdG8gYmUgY2FsbGVkIHRvIHBheSBvdXQgdG9rZW4gcmV3YXJkcwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTA4CiAgICAvLyBhc3NlcnQocmV3YXJkVG9rZW4gIT09IDAsICdjYW4gb25seSBjbGFpbSB0b2tlbiByZXdhcmRzIGZyb20gdmFsaWRhdG9yIHRoYXQgaGFzIHRoZW0nKQogICAgZGlnIDEKICAgIGFzc2VydCAvLyBjYW4gb25seSBjbGFpbSB0b2tlbiByZXdhcmRzIGZyb20gdmFsaWRhdG9yIHRoYXQgaGFzIHRoZW0KICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjUxMS01MTUKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiByZXdhcmRUb2tlbiwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBzdGFrZXIsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGFtb3VudFRvU2VuZCwKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBwdXNoaW50IDQgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTAxCiAgICAvLyBwYXlUb2tlblJld2FyZChzdGFrZXI6IEFjY291bnQsIHJld2FyZFRva2VuOiB1aW50NjQsIGFtb3VudFRvU2VuZDogdWludDY0KTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OlN0YWtpbmdQb29sLnVwZGF0ZUFsZ29kVmVyW3JvdXRpbmddKCkgLT4gdm9pZDoKdXBkYXRlQWxnb2RWZXI6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1MjcKICAgIC8vIHVwZGF0ZUFsZ29kVmVyKGFsZ29kVmVyOiBzdHJpbmcpOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGV4dHJhY3QgMiAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1MjgKICAgIC8vIGFzc2VydCh0aGlzLmlzT3duZXJPck1hbmFnZXJDYWxsZXIoKSwgJ2NhbiBvbmx5IGJlIGNhbGxlZCBieSBvd25lciBvciBtYW5hZ2VyIG9mIHZhbGlkYXRvcicpCiAgICBjYWxsc3ViIGlzT3duZXJPck1hbmFnZXJDYWxsZXIKICAgIGFzc2VydCAvLyBjYW4gb25seSBiZSBjYWxsZWQgYnkgb3duZXIgb3IgbWFuYWdlciBvZiB2YWxpZGF0b3IKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkwCiAgICAvLyBhbGdvZFZlciA9IEdsb2JhbFN0YXRlPGJ5dGVzPih7IGtleTogJ2FsZ29kVmVyJyB9KQogICAgcHVzaGJ5dGVzICJhbGdvZFZlciIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjUyOQogICAgLy8gdGhpcy5hbGdvZFZlci52YWx1ZSA9IEJ5dGVzKGFsZ29kVmVyKQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjUyNwogICAgLy8gdXBkYXRlQWxnb2RWZXIoYWxnb2RWZXI6IHN0cmluZyk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjpTdGFraW5nUG9vbC5lcG9jaEJhbGFuY2VVcGRhdGVbcm91dGluZ10oKSAtPiB2b2lkOgplcG9jaEJhbGFuY2VVcGRhdGU6CiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiA0CiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cG4gMjgKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1NDItNTQ1CiAgICAvLyBjb25zdCB2YWxpZGF0b3JDb25maWcgPSBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yQ29uZmlnPih7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1NDMKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2NwogICAgLy8gY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2NyZWF0b3JBcHAnIH0pCiAgICBieXRlY18xIC8vICJjcmVhdG9yQXBwIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTQzCiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTQ0CiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzAKICAgIC8vIHZhbGlkYXRvcklkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3ZhbGlkYXRvcklkJyB9KQogICAgYnl0ZWNfMiAvLyAidmFsaWRhdG9ySWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1NDQKICAgIC8vIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1NDItNTQ1CiAgICAvLyBjb25zdCB2YWxpZGF0b3JDb25maWcgPSBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yQ29uZmlnPih7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBieXRlYyAxMyAvLyBtZXRob2QgImdldFZhbGlkYXRvckNvbmZpZyh1aW50NjQpKHVpbnQ2NCxhZGRyZXNzLGFkZHJlc3MsdWludDY0LHVpbnQ4LGFkZHJlc3MsdWludDY0WzRdLHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQzMix1aW50MzIsYWRkcmVzcyx1aW50NjQsdWludDY0LHVpbnQ4LHVpbnQ2NCx1aW50NjQpIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cG4gMgogICAgZXh0cmFjdCAwIDQKICAgIGJ5dGVjIDQgLy8gMHgxNTFmN2M3NQogICAgPT0KICAgIGFzc2VydCAvLyBCeXRlcyBoYXMgdmFsaWQgcHJlZml4CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1NTEKICAgIC8vIGNvbnN0IGVwb2NoUm91bmRMZW5ndGggPSB2YWxpZGF0b3JDb25maWcuZXBvY2hSb3VuZExlbmd0aC5hc1VpbnQ2NCgpCiAgICBkdXAKICAgIHB1c2hpbnQgMTczIC8vIDE3MwogICAgZXh0cmFjdF91aW50MzIKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTUyCiAgICAvLyBjb25zdCBjdXJSb3VuZCA9IEdsb2JhbC5yb3VuZAogICAgZ2xvYmFsIFJvdW5kCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1NTMKICAgIC8vIGNvbnN0IHRoaXNFcG9jaEJlZ2luOiB1aW50NjQgPSBjdXJSb3VuZCAtIChjdXJSb3VuZCAlIGVwb2NoUm91bmRMZW5ndGgpCiAgICBkdXAKICAgIGRpZyAyCiAgICAlCiAgICBkaWcgMQogICAgc3dhcAogICAgLQogICAgZHVwCiAgICBjb3ZlciAyCiAgICBjb3ZlciA0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1NTYKICAgIC8vIGNvbnN0IGxhc3RQYXlvdXRFcG9jaDogdWludDY0ID0gdGhpcy5sYXN0UGF5b3V0LnZhbHVlIC0gKHRoaXMubGFzdFBheW91dC52YWx1ZSAlIGVwb2NoUm91bmRMZW5ndGgpCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODQKICAgIC8vIGxhc3RQYXlvdXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbGFzdFBheW91dCcgfSkKICAgIGJ5dGVjIDE2IC8vICJsYXN0UGF5b3V0IgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTU2CiAgICAvLyBjb25zdCBsYXN0UGF5b3V0RXBvY2g6IHVpbnQ2NCA9IHRoaXMubGFzdFBheW91dC52YWx1ZSAtICh0aGlzLmxhc3RQYXlvdXQudmFsdWUgJSBlcG9jaFJvdW5kTGVuZ3RoKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGR1cAogICAgdW5jb3ZlciA0CiAgICAlCiAgICAtCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1NTgKICAgIC8vIGFzc2VydChsYXN0UGF5b3V0RXBvY2ggIT09IHRoaXNFcG9jaEJlZ2luLCAiY2FuJ3QgY2FsbCBlcG9jaEJhbGFuY2VVcGRhdGUgaW4gc2FtZSBlcG9jaCBhcyBwcmlvciBjYWxsIikKICAgIHVuY292ZXIgMgogICAgIT0KICAgIGFzc2VydCAvLyBjYW4ndCBjYWxsIGVwb2NoQmFsYW5jZVVwZGF0ZSBpbiBzYW1lIGVwb2NoIGFzIHByaW9yIGNhbGwKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjU2MAogICAgLy8gdGhpcy5jaGVja0lmQmluQ2xvc2VkKCkKICAgIGNhbGxzdWIgY2hlY2tJZkJpbkNsb3NlZAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODQKICAgIC8vIGxhc3RQYXlvdXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnbGFzdFBheW91dCcgfSkKICAgIGJ5dGVjIDE2IC8vICJsYXN0UGF5b3V0IgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTYzCiAgICAvLyB0aGlzLmxhc3RQYXlvdXQudmFsdWUgPSBjdXJSb3VuZAogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjU2NAogICAgLy8gdGhpcy5lcG9jaE51bWJlci52YWx1ZSArPSAxCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODcKICAgIC8vIGVwb2NoTnVtYmVyID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2Vwb2NoTnVtYmVyJyB9KQogICAgYnl0ZWMgMTcgLy8gImVwb2NoTnVtYmVyIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTY0CiAgICAvLyB0aGlzLmVwb2NoTnVtYmVyLnZhbHVlICs9IDEKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODcKICAgIC8vIGVwb2NoTnVtYmVyID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2Vwb2NoTnVtYmVyJyB9KQogICAgYnl0ZWMgMTcgLy8gImVwb2NoTnVtYmVyIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTY0CiAgICAvLyB0aGlzLmVwb2NoTnVtYmVyLnZhbHVlICs9IDEKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICBpbnRjIDUgLy8gMTU3CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1NjkKICAgIC8vIGNvbnN0IGlzVG9rZW5FbGlnaWJsZSA9IHZhbGlkYXRvckNvbmZpZy5yZXdhcmRUb2tlbklkICE9PSAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1NzAKICAgIC8vIGxldCBwb29sT25lQXBwSUQgPSBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25JRAogICAgc3dhcAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTcxCiAgICAvLyBsZXQgcG9vbE9uZUFkZHJlc3MgPSBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjU3NgogICAgLy8gaWYgKGlzVG9rZW5FbGlnaWJsZSkgewogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VAMTIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjU3NwogICAgLy8gaWYgKHRoaXMucG9vbElkLnZhbHVlICE9PSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzMKICAgIC8vIHBvb2xJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdwb29sSWQnIH0pCiAgICBieXRlY18zIC8vICJwb29sSWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1NzcKICAgIC8vIGlmICh0aGlzLnBvb2xJZC52YWx1ZSAhPT0gMSkgewogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMSAvLyAxCiAgICAhPQogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTc5LTU4MgogICAgLy8gcG9vbE9uZUFwcElEID0gYWJpQ2FsbDx0eXBlb2YgVmFsaWRhdG9yUmVnaXN0cnkucHJvdG90eXBlLmdldFBvb2xBcHBJZD4oewogICAgLy8gICAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgICBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwgMV0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTgwCiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjcKICAgIC8vIGNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdjcmVhdG9yQXBwJyB9KQogICAgYnl0ZWNfMSAvLyAiY3JlYXRvckFwcCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjU4MAogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjU4MQogICAgLy8gYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWUsIDFdLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjcwCiAgICAvLyB2YWxpZGF0b3JJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICd2YWxpZGF0b3JJZCcgfSkKICAgIGJ5dGVjXzIgLy8gInZhbGlkYXRvcklkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTgxCiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwgMV0sCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaXRvYgogICAgaW50Y18xIC8vIDEKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjU3OS01ODIKICAgIC8vIHBvb2xPbmVBcHBJRCA9IGFiaUNhbGw8dHlwZW9mIFZhbGlkYXRvclJlZ2lzdHJ5LnByb3RvdHlwZS5nZXRQb29sQXBwSWQ+KHsKICAgIC8vICAgICBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICAvLyAgICAgYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWUsIDFdLAogICAgLy8gfSkucmV0dXJuVmFsdWUKICAgIGJ5dGVjIDI1IC8vIG1ldGhvZCAiZ2V0UG9vbEFwcElkKHVpbnQ2NCx1aW50NjQpdWludDY0IgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHN3YXAKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBzd2FwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWMgNCAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIGJ0b2kKICAgIGR1cAogICAgYnVyeSAzCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1ODQKICAgIC8vIHBvb2xPbmVBZGRyZXNzID0gQXBwbGljYXRpb24ocG9vbE9uZUFwcElEKS5hZGRyZXNzCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBzd2FwCiAgICBidXJ5IDIKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKCmVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDY6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1ODkKICAgIC8vIGlmICh0aGlzLnBvb2xJZC52YWx1ZSA9PT0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjczCiAgICAvLyBwb29sSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAncG9vbElkJyB9KQogICAgYnl0ZWNfMyAvLyAicG9vbElkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTg5CiAgICAvLyBpZiAodGhpcy5wb29sSWQudmFsdWUgPT09IDEpIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGJ6IGVwb2NoQmFsYW5jZVVwZGF0ZV9lbHNlX2JvZHlAOQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTkwLTU5MwogICAgLy8gdG9rZW5QYXlvdXRSYXRpbyA9IGFiaUNhbGw8dHlwZW9mIFZhbGlkYXRvclJlZ2lzdHJ5LnByb3RvdHlwZS5zZXRUb2tlblBheW91dFJhdGlvPih7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1OTEKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2NwogICAgLy8gY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2NyZWF0b3JBcHAnIH0pCiAgICBieXRlY18xIC8vICJjcmVhdG9yQXBwIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTkxCiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTkyCiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzAKICAgIC8vIHZhbGlkYXRvcklkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3ZhbGlkYXRvcklkJyB9KQogICAgYnl0ZWNfMiAvLyAidmFsaWRhdG9ySWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1OTIKICAgIC8vIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1OTAtNTkzCiAgICAvLyB0b2tlblBheW91dFJhdGlvID0gYWJpQ2FsbDx0eXBlb2YgVmFsaWRhdG9yUmVnaXN0cnkucHJvdG90eXBlLnNldFRva2VuUGF5b3V0UmF0aW8+KHsKICAgIC8vICAgICBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICAvLyAgICAgYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWVdLAogICAgLy8gfSkucmV0dXJuVmFsdWUKICAgIGJ5dGVjIDI2IC8vIG1ldGhvZCAic2V0VG9rZW5QYXlvdXRSYXRpbyh1aW50NjQpKHVpbnQ2NFsyNF0sdWludDY0KSIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBidXJ5IDgKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlYyA0IC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAoKZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VAMTI6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2MTEtNjE0CiAgICAvLyBjb25zdCB2YWxpZGF0b3JTdGF0ZSA9IGFiaUNhbGw8dHlwZW9mIFZhbGlkYXRvclJlZ2lzdHJ5LnByb3RvdHlwZS5nZXRWYWxpZGF0b3JTdGF0ZT4oewogICAgLy8gICAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgICBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjEyCiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjcKICAgIC8vIGNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdjcmVhdG9yQXBwJyB9KQogICAgYnl0ZWNfMSAvLyAiY3JlYXRvckFwcCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjYxMgogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjYxMwogICAgLy8gYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWVdLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjcwCiAgICAvLyB2YWxpZGF0b3JJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICd2YWxpZGF0b3JJZCcgfSkKICAgIGJ5dGVjXzIgLy8gInZhbGlkYXRvcklkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjEzCiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjExLTYxNAogICAgLy8gY29uc3QgdmFsaWRhdG9yU3RhdGUgPSBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yU3RhdGU+KHsKICAgIC8vICAgICBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICAvLyAgICAgYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWVdLAogICAgLy8gfSkucmV0dXJuVmFsdWUKICAgIHB1c2hieXRlcyAweDFmMmYwMTA5IC8vIG1ldGhvZCAiZ2V0VmFsaWRhdG9yU3RhdGUodWludDY0KSh1aW50MTYsdWludDY0LHVpbnQ2NCx1aW50NjQpIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cAogICAgZXh0cmFjdCAwIDQKICAgIGJ5dGVjIDQgLy8gMHgxNTFmN2M3NQogICAgPT0KICAgIGFzc2VydCAvLyBCeXRlcyBoYXMgdmFsaWQgcHJlZml4CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2MTUKICAgIC8vIGNvbnN0IHJld2FyZFRva2VuSGVsZEJhY2sgPSB2YWxpZGF0b3JTdGF0ZS5yZXdhcmRUb2tlbkhlbGRCYWNrCiAgICBkdXAKICAgIHB1c2hpbnQgMjIgLy8gMjIKICAgIGV4dHJhY3RfdWludDY0CiAgICBidXJ5IDIyCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2MjIKICAgIC8vIEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLmJhbGFuY2UgLQogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGFjY3RfcGFyYW1zX2dldCBBY2N0QmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgZnVuZGVkCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2MjMKICAgIC8vIHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlIC0KICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3OQogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjIDUgLy8gInN0YWtlZCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjYyMwogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgLQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjYyMi02MjMKICAgIC8vIEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLmJhbGFuY2UgLQogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgLQogICAgLQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjI0CiAgICAvLyBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcy5taW5CYWxhbmNlCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgYWNjdF9wYXJhbXNfZ2V0IEFjY3RNaW5CYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBmdW5kZWQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjYyMi02MjQKICAgIC8vIEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLmJhbGFuY2UgLQogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgLQogICAgLy8gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MubWluQmFsYW5jZQogICAgLQogICAgYnVyeSAzNwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjI1CiAgICAvLyBsZXQgaXNQb29sU2F0dXJhdGVkID0gZmFsc2UKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDI3CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDI2CiAgICAvLyByZXR1cm4gb3Aub25saW5lU3Rha2UoKQogICAgb25saW5lX3N0YWtlCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDEzCiAgICAvLyByZXR1cm4gd2lkZVJhdGlvKFtvbmxpbmUsIE1BWF9WQUxJREFUT1JfU09GVF9QQ1RfT0ZfT05MSU5FXzFERUNJTUFMXSwgWzEwMDBdKQogICAgaXRvYgogICAgYnl0ZWMgOCAvLyAweDAwMDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgcHVzaGludCAxMDAgLy8gMTAwCiAgICBpdG9iCiAgICBjb25jYXQKICAgIHB1c2hpbnQgMTAwMCAvLyAxMDAwCiAgICBpdG9iCiAgICBidXJ5IDQxCiAgICBwdXNoYnl0ZXMgMHgwMDAxMDAwMDAwMDAwMDAwMDNlOAogICAgY2FsbHN1YiB3aWRlUmF0aW8KICAgIHBvcG4gMgogICAgZHVwCiAgICBidXJ5IDM2CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2MzQKICAgIC8vIGlmICh2YWxpZGF0b3JTdGF0ZS50b3RhbEFsZ29TdGFrZWQgPiBhbGdvU2F0dXJhdGlvbkFtdCkgewogICAgc3dhcAogICAgcHVzaGludCAxNCAvLyAxNAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSAxMgogICAgPAogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VAMTUKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjYzNQogICAgLy8gaXNQb29sU2F0dXJhdGVkID0gdHJ1ZQogICAgaW50Y18xIC8vIDEKICAgIGJ1cnkgMjYKCmVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDE1OgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjQxCiAgICAvLyBsZXQgdG9rZW5SZXdhcmRBdmFpbDogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMTYKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjY0MgogICAgLy8gbGV0IHRva2VuUmV3YXJkUGFpZE91dDogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMTQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjY0MwogICAgLy8gbGV0IHZhbGlkYXRvckNvbW1pc3Npb25QYWlkT3V0OiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxMwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjQ0CiAgICAvLyBsZXQgZXhjZXNzVG9GZWVTaW5rOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAyOQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjQ1CiAgICAvLyBpZiAoaXNUb2tlbkVsaWdpYmxlKSB7CiAgICBkaWcgMgogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VAMTkKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjY0NwogICAgLy8gb3AuQXNzZXRIb2xkaW5nLmFzc2V0QmFsYW5jZShwb29sT25lQWRkcmVzcywgdmFsaWRhdG9yQ29uZmlnLnJld2FyZFRva2VuSWQpWzBdIC0KICAgIGR1cAogICAgZGlnIDMKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgcG9wCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2NDctNjQ4CiAgICAvLyBvcC5Bc3NldEhvbGRpbmcuYXNzZXRCYWxhbmNlKHBvb2xPbmVBZGRyZXNzLCB2YWxpZGF0b3JDb25maWcucmV3YXJkVG9rZW5JZClbMF0gLQogICAgLy8gb3AuYnRvaShCeXRlcyhyZXdhcmRUb2tlbkhlbGRCYWNrKSkKICAgIGRpZyAyMQogICAgLQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjUyCiAgICAvLyBpZiAodG9rZW5SZXdhcmRCYWwgPj0gdmFsaWRhdG9yQ29uZmlnLnJld2FyZFBlclBheW91dCkgewogICAgZGlnIDYKICAgIHB1c2hpbnQgMTY1IC8vIDE2NQogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSAxMAogICAgPj0KICAgIGJ6IGVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDE5CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2NTgKICAgIC8vIGNvbnN0IG91clBvb2xQY3RPZldob2xlID0gdG9rZW5QYXlvdXRSYXRpby5wb29sUGN0T2ZXaG9sZVt0aGlzLnBvb2xJZC52YWx1ZSAtIDFdCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzMKICAgIC8vIHBvb2xJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdwb29sSWQnIH0pCiAgICBieXRlY18zIC8vICJwb29sSWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2NTgKICAgIC8vIGNvbnN0IG91clBvb2xQY3RPZldob2xlID0gdG9rZW5QYXlvdXRSYXRpby5wb29sUGN0T2ZXaG9sZVt0aGlzLnBvb2xJZC52YWx1ZSAtIDFdCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGRpZyA3CiAgICBleHRyYWN0IDAgMTkyCiAgICBzd2FwCiAgICBwdXNoaW50IDggLy8gOAogICAgKgogICAgcHVzaGludCA4IC8vIDgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjYxCiAgICAvLyB0b2tlblJld2FyZEF2YWlsID0gd2lkZVJhdGlvKFt2YWxpZGF0b3JDb25maWcucmV3YXJkUGVyUGF5b3V0LCBvdXJQb29sUGN0T2ZXaG9sZV0sIFsxXzAwMF8wMDBdKQogICAgZGlnIDgKICAgIGl0b2IKICAgIGJ5dGVjIDggLy8gMHgwMDAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgYnl0ZWMgMTggLy8gMHgwMDAxMDAwMDAwMDAwMDBmNDI0MAogICAgY2FsbHN1YiB3aWRlUmF0aW8KICAgIHBvcG4gMgogICAgYnVyeSAxNgoKZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VAMTk6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2NjQKICAgIC8vIGlmICh0b2tlblJld2FyZEF2YWlsID09PSAwKSB7CiAgICBkaWcgMTUKICAgIGJueiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUAyMwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjY5CiAgICAvLyBpZiAoYWxnb1Jld2FyZEF2YWlsIDwgMV8wMDBfMDAwKSB7CiAgICBkaWcgMzUKICAgIGludGMgOCAvLyAxMDAwMDAwCiAgICA8CiAgICBieiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUAyMwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjcwCiAgICAvLyBsb2coJyF0b2tlbiYmIW5vYWxnbyB0byBwYXknKQogICAgcHVzaGJ5dGVzICIhdG9rZW4mJiFub2FsZ28gdG8gcGF5IgogICAgbG9nCgplcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo6U3Rha2luZ1Bvb2wuZXBvY2hCYWxhbmNlVXBkYXRlQDcxOgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTQwCiAgICAvLyBlcG9jaEJhbGFuY2VVcGRhdGUoKTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgplcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUAyMzoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjY3NQogICAgLy8gaWYgKGlzUG9vbFNhdHVyYXRlZCkgewogICAgZGlnIDI1CiAgICBieiBlcG9jaEJhbGFuY2VVcGRhdGVfZWxzZV9ib2R5QDI4CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2ODIKICAgIC8vIFthbGdvUmV3YXJkQXZhaWwsIHZhbGlkYXRvckNvbmZpZy5wZXJjZW50VG9WYWxpZGF0b3IuYXNVaW50NjQoKV0sCiAgICBkaWcgNQogICAgcHVzaGludCAxNzcgLy8gMTc3CiAgICBleHRyYWN0X3VpbnQzMgogICAgZGlnIDM2CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGl0b2IKICAgIGJ5dGVjIDggLy8gMHgwMDAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGl0b2IKICAgIGRpZyAxCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjY4MwogICAgLy8gWzFfMDAwXzAwMF0sCiAgICBieXRlYyAxOCAvLyAweDAwMDEwMDAwMDAwMDAwMGY0MjQwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2ODEtNjg0CiAgICAvLyBjb25zdCBub3JtYWxWYWxpZGF0b3JDb21taXNzaW9uID0gd2lkZVJhdGlvKAogICAgLy8gICAgIFthbGdvUmV3YXJkQXZhaWwsIHZhbGlkYXRvckNvbmZpZy5wZXJjZW50VG9WYWxpZGF0b3IuYXNVaW50NjQoKV0sCiAgICAvLyAgICAgWzFfMDAwXzAwMF0sCiAgICAvLyApCiAgICBjYWxsc3ViIHdpZGVSYXRpbwogICAgcG9wbiAyCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2ODcKICAgIC8vIFthbGdvUmV3YXJkQXZhaWwsIGFsZ29TYXR1cmF0aW9uQW10XSwKICAgIGRpZyAzNgogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2ODgKICAgIC8vIFtvcC5idG9pKEJ5dGVzKHZhbGlkYXRvclN0YXRlLnRvdGFsQWxnb1N0YWtlZCkpXSwKICAgIGRpZyAxMgogICAgaXRvYgogICAgYnl0ZWMgMTkgLy8gMHgwMDAxCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjY4Ni02ODkKICAgIC8vIGxldCBkaW1pbmlzaGVkUmV3YXJkID0gd2lkZVJhdGlvKAogICAgLy8gICAgIFthbGdvUmV3YXJkQXZhaWwsIGFsZ29TYXR1cmF0aW9uQW10XSwKICAgIC8vICAgICBbb3AuYnRvaShCeXRlcyh2YWxpZGF0b3JTdGF0ZS50b3RhbEFsZ29TdGFrZWQpKV0sCiAgICAvLyApCiAgICBjYWxsc3ViIHdpZGVSYXRpbwogICAgcG9wbiAyCiAgICBkdXAKICAgIGJ1cnkgMzQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjY5MQogICAgLy8gaWYgKGRpbWluaXNoZWRSZXdhcmQgPiBhbGdvUmV3YXJkQXZhaWwgLSBub3JtYWxWYWxpZGF0b3JDb21taXNzaW9uKSB7CiAgICBjb3ZlciAyCiAgICAtCiAgICBkdXAKICAgIGJ1cnkgMzIKICAgID4KICAgIGJ6IGVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDI2CiAgICBkaWcgMjkKICAgIGJ1cnkgMzEKCmVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDI2OgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6Njk1CiAgICAvLyBleGNlc3NUb0ZlZVNpbmsgPSBhbGdvUmV3YXJkQXZhaWwgLSBkaW1pbmlzaGVkUmV3YXJkCiAgICBkaWcgMzUKICAgIGRpZyAzMQogICAgZHVwCiAgICBjb3ZlciAyCiAgICAtCiAgICBkdXAKICAgIGJ1cnkgMzEKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjY5Ni03MDAKICAgIC8vIGl0eG4ucGF5bWVudCh7CiAgICAvLyAgICAgYW1vdW50OiBleGNlc3NUb0ZlZVNpbmssCiAgICAvLyAgICAgcmVjZWl2ZXI6IG9wLkJsb2NrLmJsa0ZlZVNpbmsoVHhuLmZpcnN0VmFsaWQgLSAxKSwKICAgIC8vICAgICBub3RlOiAncG9vbCBzYXR1cmF0ZWQsIGV4Y2VzcyB0byBmZWUgc2luaycsCiAgICAvLyB9KS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6Njk4CiAgICAvLyByZWNlaXZlcjogb3AuQmxvY2suYmxrRmVlU2luayhUeG4uZmlyc3RWYWxpZCAtIDEpLAogICAgdHhuIEZpcnN0VmFsaWQKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBibG9jayBCbGtGZWVTaW5rCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2OTkKICAgIC8vIG5vdGU6ICdwb29sIHNhdHVyYXRlZCwgZXhjZXNzIHRvIGZlZSBzaW5rJywKICAgIHB1c2hieXRlcyAicG9vbCBzYXR1cmF0ZWQsIGV4Y2VzcyB0byBmZWUgc2luayIKICAgIGl0eG5fZmllbGQgTm90ZQogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjY5Ni03MDAKICAgIC8vIGl0eG4ucGF5bWVudCh7CiAgICAvLyAgICAgYW1vdW50OiBleGNlc3NUb0ZlZVNpbmssCiAgICAvLyAgICAgcmVjZWl2ZXI6IG9wLkJsb2NrLmJsa0ZlZVNpbmsoVHhuLmZpcnN0VmFsaWQgLSAxKSwKICAgIC8vICAgICBub3RlOiAncG9vbCBzYXR1cmF0ZWQsIGV4Y2VzcyB0byBmZWUgc2luaycsCiAgICAvLyB9KS5zdWJtaXQoKQogICAgaW50Y18xIC8vIDEKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIGJ1cnkgMzYKCmVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDQwOgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzUwCiAgICAvLyBsZXQgaW5jcmVhc2VkU3Rha2U6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDI3CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3NzQKICAgIC8vIGlmIChhbGdvUmV3YXJkQXZhaWwgIT09IDAgfHwgdG9rZW5SZXdhcmRBdmFpbCAhPT0gMCkgewogICAgZGlnIDM1CiAgICBibnogZXBvY2hCYWxhbmNlVXBkYXRlX2lmX2JvZHlANDIKICAgIGRpZyAxNQogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANjkKCmVwb2NoQmFsYW5jZVVwZGF0ZV9pZl9ib2R5QDQyOgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6Nzc1CiAgICAvLyBsZXQgcGFydGlhbFN0YWtlcnNUb3RhbFN0YWtlOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAyMgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6Nzc5CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAyOAogICAgZGlnIDM1CiAgICBidXJ5IDM1CiAgICBkaWcgMTUKICAgIGJ1cnkgMTUKCmVwb2NoQmFsYW5jZVVwZGF0ZV93aGlsZV90b3BANDM6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5MwogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3NzkKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlcnMudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGRpZyAyNwogICAgaW50YyA0IC8vIDIwMAogICAgPAogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX3doaWxlQDU0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3ODAKICAgIC8vIGVuc3VyZUJ1ZGdldCg0MDApCiAgICBwdXNoaW50IDQwMCAvLyA0MDAKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjc4MQogICAgLy8gY29uc3QgY21wU3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzLnZhbHVlW2ldKQogICAgZGlnIDI3CiAgICBpbnRjXzIgLy8gNjQKICAgICoKICAgIGR1cAogICAgYnVyeSAzNAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTMKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzgxCiAgICAvLyBjb25zdCBjbXBTdGFrZXIgPSBjbG9uZSh0aGlzLnN0YWtlcnMudmFsdWVbaV0pCiAgICBzd2FwCiAgICBpbnRjXzIgLy8gNjQKICAgIGJveF9leHRyYWN0CiAgICBkdXAKICAgIGJ1cnkgMzkKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjc4MS03ODIKICAgIC8vIGNvbnN0IGNtcFN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2Vycy52YWx1ZVtpXSkKICAgIC8vIGlmIChjbXBTdGFrZXIuYWNjb3VudCAhPT0gR2xvYmFsLnplcm9BZGRyZXNzKSB7CiAgICBleHRyYWN0IDAgMzIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjc4MgogICAgLy8gaWYgKGNtcFN0YWtlci5hY2NvdW50ICE9PSBHbG9iYWwuemVyb0FkZHJlc3MpIHsKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgIT0KICAgIGJ6IGVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDUzCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5MwogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3ODMKICAgIC8vIGlmIChjbXBTdGFrZXIuZW50cnlSb3VuZCA+PSB0aGlzRXBvY2hCZWdpbikgewogICAgZGlnIDMzCiAgICBpbnRjXzIgLy8gNjQKICAgIGJveF9leHRyYWN0CiAgICBwdXNoaW50IDU2IC8vIDU2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBidXJ5IDEzCiAgICBkaWcgNAogICAgPj0KICAgIGJ6IGVwb2NoQmFsYW5jZVVwZGF0ZV9lbHNlX2JvZHlANDcKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkzCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjc4NgogICAgLy8gcGFydGlhbFN0YWtlcnNUb3RhbFN0YWtlICs9IGNtcFN0YWtlci5iYWxhbmNlCiAgICBkaWcgMzMKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMjIKICAgICsKICAgIGJ1cnkgMjIKCmVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDUzOgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6Nzc5CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBkaWcgMjcKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDI4CiAgICBiIGVwb2NoQmFsYW5jZVVwZGF0ZV93aGlsZV90b3BANDMKCmVwb2NoQmFsYW5jZVVwZGF0ZV9lbHNlX2JvZHlANDc6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3OTAKICAgIC8vIGNvbnN0IHRpbWVJblBvb2w6IHVpbnQ2NCA9IHRoaXNFcG9jaEJlZ2luIC0gY21wU3Rha2VyLmVudHJ5Um91bmQKICAgIGRpZyAzCiAgICBkaWcgMTIKICAgIC0KICAgIGR1cAogICAgYnVyeSAyMQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6Nzk0CiAgICAvLyBpZiAodGltZUluUG9vbCA8IGVwb2NoUm91bmRMZW5ndGgpIHsKICAgIGRpZyA1CiAgICA8CiAgICBieiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA1MwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTMKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6Nzk1CiAgICAvLyBwYXJ0aWFsU3Rha2Vyc1RvdGFsU3Rha2UgKz0gY21wU3Rha2VyLmJhbGFuY2UKICAgIGRpZyAzMwogICAgaW50Y18yIC8vIDY0CiAgICBib3hfZXh0cmFjdAogICAgcHVzaGludCAzMiAvLyAzMgogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSAxMgogICAgZGlnIDIyCiAgICArCiAgICBidXJ5IDIyCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3OTYKICAgIC8vIHRpbWVQZXJjZW50YWdlID0gKHRpbWVJblBvb2wgKiAxMDAwKSAvIGVwb2NoUm91bmRMZW5ndGgKICAgIGRpZyAxOQogICAgcHVzaGludCAxMDAwIC8vIDEwMDAKICAgICoKICAgIGRpZyA1CiAgICAvCiAgICBidXJ5IDE5CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3OTgKICAgIC8vIGlmICh0b2tlblJld2FyZEF2YWlsID4gMCkgewogICAgZGlnIDE0CiAgICBieiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA1MAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODAxCiAgICAvLyBbY21wU3Rha2VyLmJhbGFuY2UsIG9yaWdUb2tlblJld2FyZCwgdGltZVBlcmNlbnRhZ2VdLAogICAgZGlnIDEwCiAgICBpdG9iCiAgICBieXRlYyAyNyAvLyAweDAwMDMKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZGlnIDE2CiAgICBpdG9iCiAgICBjb25jYXQKICAgIGRpZyAxOQogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4MDIKICAgIC8vIFt0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSwgMTAwMF0sCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzkKICAgIC8vIHRvdGFsQWxnb1N0YWtlZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdzdGFrZWQnIH0pCiAgICBieXRlYyA1IC8vICJzdGFrZWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4MDIKICAgIC8vIFt0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSwgMTAwMF0sCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaXRvYgogICAgYnl0ZWMgOCAvLyAweDAwMDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZGlnIDQwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjgwMC04MDMKICAgIC8vIGNvbnN0IHN0YWtlclRva2VuUmV3YXJkID0gd2lkZVJhdGlvKAogICAgLy8gICAgIFtjbXBTdGFrZXIuYmFsYW5jZSwgb3JpZ1Rva2VuUmV3YXJkLCB0aW1lUGVyY2VudGFnZV0sCiAgICAvLyAgICAgW3RoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlLCAxMDAwXSwKICAgIC8vICkKICAgIGNhbGxzdWIgd2lkZVJhdGlvCiAgICBwb3BuIDIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjgwNwogICAgLy8gdG9rZW5SZXdhcmRBdmFpbCAtPSBzdGFrZXJUb2tlblJld2FyZAogICAgZGlnIDE1CiAgICBkaWcgMQogICAgLQogICAgYnVyeSAxNgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTMKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODA4CiAgICAvLyBjbXBTdGFrZXIucmV3YXJkVG9rZW5CYWxhbmNlICs9IHN0YWtlclRva2VuUmV3YXJkCiAgICBkaWcgMzQKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIHB1c2hpbnQgNDggLy8gNDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgKwogICAgaXRvYgogICAgZGlnIDM5CiAgICBzd2FwCiAgICByZXBsYWNlMiA0OAogICAgYnVyeSAzOQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODA5CiAgICAvLyB0b2tlblJld2FyZFBhaWRPdXQgKz0gc3Rha2VyVG9rZW5SZXdhcmQKICAgIGRpZyAxNAogICAgKwogICAgYnVyeSAxNAoKZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANTA6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4MTMKICAgIC8vIFtjbXBTdGFrZXIuYmFsYW5jZSwgb3JpZ0FsZ29SZXdhcmQsIHRpbWVQZXJjZW50YWdlXSwKICAgIGRpZyAzNwogICAgZHVwCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBpdG9iCiAgICBieXRlYyAyNyAvLyAweDAwMDMKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZGlnIDM4CiAgICBpdG9iCiAgICBjb25jYXQKICAgIGRpZyAyMQogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4MTQKICAgIC8vIFt0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSwgMTAwMF0sCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzkKICAgIC8vIHRvdGFsQWxnb1N0YWtlZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdzdGFrZWQnIH0pCiAgICBieXRlYyA1IC8vICJzdGFrZWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4MTQKICAgIC8vIFt0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSwgMTAwMF0sCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaXRvYgogICAgYnl0ZWMgOCAvLyAweDAwMDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZGlnIDQyCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjgxMi04MTUKICAgIC8vIGNvbnN0IHN0YWtlclJld2FyZCA9IHdpZGVSYXRpbygKICAgIC8vICAgICBbY21wU3Rha2VyLmJhbGFuY2UsIG9yaWdBbGdvUmV3YXJkLCB0aW1lUGVyY2VudGFnZV0sCiAgICAvLyAgICAgW3RoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlLCAxMDAwXSwKICAgIC8vICkKICAgIGNhbGxzdWIgd2lkZVJhdGlvCiAgICBwb3BuIDIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjgxOAogICAgLy8gYWxnb1Jld2FyZEF2YWlsIC09IHN0YWtlclJld2FyZAogICAgZGlnIDM3CiAgICBkaWcgMQogICAgLQogICAgYnVyeSAzOAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODIxCiAgICAvLyBjbXBTdGFrZXIuYmFsYW5jZSArPSBzdGFrZXJSZXdhcmQKICAgIHN3YXAKICAgIGRpZyAxCiAgICArCiAgICBpdG9iCiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgIHJlcGxhY2UyIDMyCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4MjIKICAgIC8vIGNtcFN0YWtlci50b3RhbFJld2FyZGVkICs9IHN0YWtlclJld2FyZAogICAgZHVwCiAgICBwdXNoaW50IDQwIC8vIDQwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDIKICAgICsKICAgIGl0b2IKICAgIHJlcGxhY2UyIDQwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4MjMKICAgIC8vIGluY3JlYXNlZFN0YWtlICs9IHN0YWtlclJld2FyZAogICAgZGlnIDI4CiAgICB1bmNvdmVyIDIKICAgICsKICAgIGJ1cnkgMjgKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkzCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjgyNQogICAgLy8gdGhpcy5zdGFrZXJzLnZhbHVlW2ldID0gY2xvbmUoY21wU3Rha2VyKQogICAgZGlnIDM0CiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICBiIGVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDUzCgplcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfd2hpbGVANTQ6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4MzMKICAgIC8vIGNvbnN0IG5ld1Bvb2xUb3RhbFN0YWtlOiB1aW50NjQgPSB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSAtIHBhcnRpYWxTdGFrZXJzVG90YWxTdGFrZQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjc5CiAgICAvLyB0b3RhbEFsZ29TdGFrZWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnc3Rha2VkJyB9KQogICAgYnl0ZWMgNSAvLyAic3Rha2VkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODMzCiAgICAvLyBjb25zdCBuZXdQb29sVG90YWxTdGFrZTogdWludDY0ID0gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgLSBwYXJ0aWFsU3Rha2Vyc1RvdGFsU3Rha2UKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgMjIKICAgIC0KICAgIGR1cAogICAgYnVyeSAyNAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODM3CiAgICAvLyBpZiAobmV3UG9vbFRvdGFsU3Rha2UgPiAwKSB7CiAgICBieiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA2OQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODM5CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAyNQoKZXBvY2hCYWxhbmNlVXBkYXRlX3doaWxlX3RvcEA1NjoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkzCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjgzOQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMuc3Rha2Vycy52YWx1ZS5sZW5ndGg7IGkgKz0gMSkgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZGlnIDI0CiAgICBpbnRjIDQgLy8gMjAwCiAgICA8CiAgICBieiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA2OQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODQwCiAgICAvLyBlbnN1cmVCdWRnZXQoMjAwKQogICAgaW50YyA0IC8vIDIwMAogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgZW5zdXJlX2J1ZGdldAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODQxCiAgICAvLyBjb25zdCBjbXBTdGFrZXIgPSBjbG9uZSh0aGlzLnN0YWtlcnMudmFsdWVbaV0pCiAgICBkaWcgMjQKICAgIGludGNfMiAvLyA2NAogICAgKgogICAgZHVwCiAgICBidXJ5IDMzCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5MwogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4NDEKICAgIC8vIGNvbnN0IGNtcFN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2Vycy52YWx1ZVtpXSkKICAgIHN3YXAKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIGR1cAogICAgYnVyeSAzOAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODQxLTg0MgogICAgLy8gY29uc3QgY21wU3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzLnZhbHVlW2ldKQogICAgLy8gaWYgKGNtcFN0YWtlci5hY2NvdW50ICE9PSBHbG9iYWwuemVyb0FkZHJlc3MgJiYgY21wU3Rha2VyLmVudHJ5Um91bmQgPCB0aGlzRXBvY2hCZWdpbikgewogICAgZXh0cmFjdCAwIDMyCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4NDIKICAgIC8vIGlmIChjbXBTdGFrZXIuYWNjb3VudCAhPT0gR2xvYmFsLnplcm9BZGRyZXNzICYmIGNtcFN0YWtlci5lbnRyeVJvdW5kIDwgdGhpc0Vwb2NoQmVnaW4pIHsKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgIT0KICAgIGJ6IGVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDY2CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5MwogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4NDEtODQyCiAgICAvLyBjb25zdCBjbXBTdGFrZXIgPSBjbG9uZSh0aGlzLnN0YWtlcnMudmFsdWVbaV0pCiAgICAvLyBpZiAoY21wU3Rha2VyLmFjY291bnQgIT09IEdsb2JhbC56ZXJvQWRkcmVzcyAmJiBjbXBTdGFrZXIuZW50cnlSb3VuZCA8IHRoaXNFcG9jaEJlZ2luKSB7CiAgICBkaWcgMzIKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIHB1c2hpbnQgNTYgLy8gNTYKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg0MgogICAgLy8gaWYgKGNtcFN0YWtlci5hY2NvdW50ICE9PSBHbG9iYWwuemVyb0FkZHJlc3MgJiYgY21wU3Rha2VyLmVudHJ5Um91bmQgPCB0aGlzRXBvY2hCZWdpbikgewogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSAxMAogICAgZGlnIDQKICAgIDwKICAgIGJ6IGVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDY2CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4NDMKICAgIC8vIGNvbnN0IHRpbWVJblBvb2w6IHVpbnQ2NCA9IHRoaXNFcG9jaEJlZ2luIC0gY21wU3Rha2VyLmVudHJ5Um91bmQKICAgIGRpZyAzCiAgICBkaWcgOQogICAgLQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODQ1CiAgICAvLyBpZiAodGltZUluUG9vbCA+PSBlcG9jaFJvdW5kTGVuZ3RoKSB7CiAgICBkaWcgNQogICAgPj0KICAgIGJ6IGVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDY2CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4NTAKICAgIC8vIGlmICh0b2tlblJld2FyZEF2YWlsID4gMCkgewogICAgZGlnIDE0CiAgICBieiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA2MgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTMKICAgIC8vIHN0YWtlcnMgPSBCb3g8Rml4ZWRBcnJheTxTdGFrZWRJbmZvLCB0eXBlb2YgTUFYX1NUQUtFUlNfUEVSX1BPT0w+Pih7IGtleTogJ3N0YWtlcnMnIH0pCiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODUyCiAgICAvLyBbY21wU3Rha2VyLmJhbGFuY2UsIHRva2VuUmV3YXJkQXZhaWxdLAogICAgZGlnIDMyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGNfMiAvLyA2NAogICAgYm94X2V4dHJhY3QKICAgIGV4dHJhY3QgMzIgOAogICAgYnl0ZWMgOCAvLyAweDAwMDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZGlnIDE2CiAgICBpdG9iCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg1MwogICAgLy8gW25ld1Bvb2xUb3RhbFN0YWtlXSwKICAgIGRpZyAyNAogICAgaXRvYgogICAgYnl0ZWMgMTkgLy8gMHgwMDAxCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg1MS04NTQKICAgIC8vIGNvbnN0IHN0YWtlclRva2VuUmV3YXJkID0gd2lkZVJhdGlvKAogICAgLy8gICAgIFtjbXBTdGFrZXIuYmFsYW5jZSwgdG9rZW5SZXdhcmRBdmFpbF0sCiAgICAvLyAgICAgW25ld1Bvb2xUb3RhbFN0YWtlXSwKICAgIC8vICkKICAgIGNhbGxzdWIgd2lkZVJhdGlvCiAgICBwb3BuIDIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkzCiAgICAvLyBzdGFrZXJzID0gQm94PEZpeGVkQXJyYXk8U3Rha2VkSW5mbywgdHlwZW9mIE1BWF9TVEFLRVJTX1BFUl9QT09MPj4oeyBrZXk6ICdzdGFrZXJzJyB9KQogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg1NgogICAgLy8gY21wU3Rha2VyLnJld2FyZFRva2VuQmFsYW5jZSArPSBzdGFrZXJUb2tlblJld2FyZAogICAgdW5jb3ZlciAyCiAgICBpbnRjXzIgLy8gNjQKICAgIGJveF9leHRyYWN0CiAgICBwdXNoaW50IDQ4IC8vIDQ4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgICsKICAgIGl0b2IKICAgIGRpZyAzOAogICAgc3dhcAogICAgcmVwbGFjZTIgNDgKICAgIGJ1cnkgMzgKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg1NwogICAgLy8gdG9rZW5SZXdhcmRQYWlkT3V0ICs9IHN0YWtlclRva2VuUmV3YXJkCiAgICBkaWcgMTQKICAgICsKICAgIGJ1cnkgMTQKCmVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDYyOgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODU5CiAgICAvLyBpZiAoYWxnb1Jld2FyZEF2YWlsID4gMCkgewogICAgZGlnIDM0CiAgICBieiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA2NAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODYxCiAgICAvLyBbY21wU3Rha2VyLmJhbGFuY2UsIGFsZ29SZXdhcmRBdmFpbF0sCiAgICBkaWcgMzYKICAgIGR1cAogICAgcHVzaGludCAzMiAvLyAzMgogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgaXRvYgogICAgYnl0ZWMgOCAvLyAweDAwMDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZGlnIDM3CiAgICBpdG9iCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg2MgogICAgLy8gW25ld1Bvb2xUb3RhbFN0YWtlXSwKICAgIGRpZyAyNQogICAgaXRvYgogICAgYnl0ZWMgMTkgLy8gMHgwMDAxCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg2MC04NjMKICAgIC8vIGNvbnN0IHN0YWtlclJld2FyZCA9IHdpZGVSYXRpbygKICAgIC8vICAgICBbY21wU3Rha2VyLmJhbGFuY2UsIGFsZ29SZXdhcmRBdmFpbF0sCiAgICAvLyAgICAgW25ld1Bvb2xUb3RhbFN0YWtlXSwKICAgIC8vICkKICAgIGNhbGxzdWIgd2lkZVJhdGlvCiAgICBwb3BuIDIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg2NgogICAgLy8gY21wU3Rha2VyLmJhbGFuY2UgKz0gc3Rha2VyUmV3YXJkCiAgICBzd2FwCiAgICBkaWcgMQogICAgKwogICAgaXRvYgogICAgdW5jb3ZlciAyCiAgICBzd2FwCiAgICByZXBsYWNlMiAzMgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODY3CiAgICAvLyBjbXBTdGFrZXIudG90YWxSZXdhcmRlZCArPSBzdGFrZXJSZXdhcmQKICAgIGR1cAogICAgcHVzaGludCA0MCAvLyA0MAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAyCiAgICArCiAgICBpdG9iCiAgICByZXBsYWNlMiA0MAogICAgYnVyeSAzOAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODY4CiAgICAvLyBpbmNyZWFzZWRTdGFrZSArPSBzdGFrZXJSZXdhcmQKICAgIGRpZyAyNwogICAgKwogICAgYnVyeSAyNwoKZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANjQ6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5MwogICAgLy8gc3Rha2VycyA9IEJveDxGaXhlZEFycmF5PFN0YWtlZEluZm8sIHR5cGVvZiBNQVhfU1RBS0VSU19QRVJfUE9PTD4+KHsga2V5OiAnc3Rha2VycycgfSkKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4NzIKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtpXSA9IGNsb25lKGNtcFN0YWtlcikKICAgIGRpZyAzMgogICAgZGlnIDM4CiAgICBib3hfcmVwbGFjZQoKZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANjY6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4MzkKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlcnMudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGRpZyAyNAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMjUKICAgIGIgZXBvY2hCYWxhbmNlVXBkYXRlX3doaWxlX3RvcEA1NgoKZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANjk6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4ODIKICAgIC8vIGNvbnN0IHJvdW5kc0xlZnRJbkJpbjogdWludDY0ID0gdGhpcy5iaW5Sb3VuZFN0YXJ0LnZhbHVlICsgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUgLSBHbG9iYWwucm91bmQKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5OQogICAgLy8gYmluUm91bmRTdGFydCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdiaW5Sb3VuZFN0YXJ0JyB9KQogICAgYnl0ZWMgOSAvLyAiYmluUm91bmRTdGFydCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg4MgogICAgLy8gY29uc3Qgcm91bmRzTGVmdEluQmluOiB1aW50NjQgPSB0aGlzLmJpblJvdW5kU3RhcnQudmFsdWUgKyB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSAtIEdsb2JhbC5yb3VuZAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5NwogICAgLy8gcm91bmRzUGVyRGF5ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3JvdW5kc1BlckRheScgfSkKICAgIGJ5dGVjIDYgLy8gInJvdW5kc1BlckRheSIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg4MgogICAgLy8gY29uc3Qgcm91bmRzTGVmdEluQmluOiB1aW50NjQgPSB0aGlzLmJpblJvdW5kU3RhcnQudmFsdWUgKyB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSAtIEdsb2JhbC5yb3VuZAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgICsKICAgIGdsb2JhbCBSb3VuZAogICAgLQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODgzCiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSArPSBpbmNyZWFzZWRTdGFrZQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjc5CiAgICAvLyB0b3RhbEFsZ29TdGFrZWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnc3Rha2VkJyB9KQogICAgYnl0ZWMgNSAvLyAic3Rha2VkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODgzCiAgICAvLyB0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSArPSBpbmNyZWFzZWRTdGFrZQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGRpZyAyOAogICAgZHVwCiAgICBjb3ZlciAyCiAgICArCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3OQogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjIDUgLy8gInN0YWtlZCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg4MwogICAgLy8gdGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUgKz0gaW5jcmVhc2VkU3Rha2UKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4ODUKICAgIC8vIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZS5hc0JpZ1VpbnQoKSArIEJpZ1VpbnQoaW5jcmVhc2VkU3Rha2UpICogQmlnVWludChyb3VuZHNMZWZ0SW5CaW4pLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNAogICAgLy8gc3Rha2VBY2N1bXVsYXRvciA9IEdsb2JhbFN0YXRlPFVpbnQxMjg+KHsga2V5OiAnc3Rha2VBY2N1bXVsYXRvcicgfSkKICAgIGJ5dGVjIDcgLy8gInN0YWtlQWNjdW11bGF0b3IiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4ODUKICAgIC8vIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZS5hc0JpZ1VpbnQoKSArIEJpZ1VpbnQoaW5jcmVhc2VkU3Rha2UpICogQmlnVWludChyb3VuZHNMZWZ0SW5CaW4pLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGRpZyAxCiAgICBpdG9iCiAgICB1bmNvdmVyIDMKICAgIGl0b2IKICAgIGRpZyAxCiAgICBiKgogICAgdW5jb3ZlciAyCiAgICBiKwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODg0LTg4NgogICAgLy8gdGhpcy5zdGFrZUFjY3VtdWxhdG9yLnZhbHVlID0gbmV3IFVpbnQxMjgoCiAgICAvLyAgICAgdGhpcy5zdGFrZUFjY3VtdWxhdG9yLnZhbHVlLmFzQmlnVWludCgpICsgQmlnVWludChpbmNyZWFzZWRTdGFrZSkgKiBCaWdVaW50KHJvdW5kc0xlZnRJbkJpbiksCiAgICAvLyApCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDE2CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBpbnRjXzMgLy8gMTYKICAgIGJ6ZXJvCiAgICBifAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA0CiAgICAvLyBzdGFrZUFjY3VtdWxhdG9yID0gR2xvYmFsU3RhdGU8VWludDEyOD4oeyBrZXk6ICdzdGFrZUFjY3VtdWxhdG9yJyB9KQogICAgYnl0ZWMgNyAvLyAic3Rha2VBY2N1bXVsYXRvciIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg4NC04ODYKICAgIC8vIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZSA9IG5ldyBVaW50MTI4KAogICAgLy8gICAgIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZS5hc0JpZ1VpbnQoKSArIEJpZ1VpbnQoaW5jcmVhc2VkU3Rha2UpICogQmlnVWludChyb3VuZHNMZWZ0SW5CaW4pLAogICAgLy8gKQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg4NwogICAgLy8gdGhpcy5yZXdhcmRBY2N1bXVsYXRvci52YWx1ZSA9IHRoaXMucmV3YXJkQWNjdW11bGF0b3IudmFsdWUgKyBpbmNyZWFzZWRTdGFrZQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwOAogICAgLy8gcmV3YXJkQWNjdW11bGF0b3IgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAncmV3YXJkQWNjdW11bGF0b3InIH0pCiAgICBieXRlYyAxMSAvLyAicmV3YXJkQWNjdW11bGF0b3IiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4ODcKICAgIC8vIHRoaXMucmV3YXJkQWNjdW11bGF0b3IudmFsdWUgPSB0aGlzLnJld2FyZEFjY3VtdWxhdG9yLnZhbHVlICsgaW5jcmVhc2VkU3Rha2UKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICB1bmNvdmVyIDIKICAgICsKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwOAogICAgLy8gcmV3YXJkQWNjdW11bGF0b3IgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAncmV3YXJkQWNjdW11bGF0b3InIH0pCiAgICBieXRlYyAxMSAvLyAicmV3YXJkQWNjdW11bGF0b3IiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4ODcKICAgIC8vIHRoaXMucmV3YXJkQWNjdW11bGF0b3IudmFsdWUgPSB0aGlzLnJld2FyZEFjY3VtdWxhdG9yLnZhbHVlICsgaW5jcmVhc2VkU3Rha2UKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4OTMtOTAyCiAgICAvLyBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuc3Rha2VVcGRhdGVkVmlhUmV3YXJkcz4oewogICAgLy8gICAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgICBhcmdzOiBbCiAgICAvLyAgICAgICAgIHsgaWQ6IHRoaXMudmFsaWRhdG9ySWQudmFsdWUsIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsIHBvb2xBcHBJZDogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkIH0sCiAgICAvLyAgICAgICAgIGluY3JlYXNlZFN0YWtlLAogICAgLy8gICAgICAgICB0b2tlblJld2FyZFBhaWRPdXQsCiAgICAvLyAgICAgICAgIHZhbGlkYXRvckNvbW1pc3Npb25QYWlkT3V0LAogICAgLy8gICAgICAgICBleGNlc3NUb0ZlZVNpbmssCiAgICAvLyAgICAgXSwKICAgIC8vIH0pCiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4OTQKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2NwogICAgLy8gY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ2NyZWF0b3JBcHAnIH0pCiAgICBieXRlY18xIC8vICJjcmVhdG9yQXBwIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODk0CiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODk2CiAgICAvLyB7IGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLCBwb29sSWQ6IHRoaXMucG9vbElkLnZhbHVlLCBwb29sQXBwSWQ6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCB9LAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjcwCiAgICAvLyB2YWxpZGF0b3JJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICd2YWxpZGF0b3JJZCcgfSkKICAgIGJ5dGVjXzIgLy8gInZhbGlkYXRvcklkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODk2CiAgICAvLyB7IGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLCBwb29sSWQ6IHRoaXMucG9vbElkLnZhbHVlLCBwb29sQXBwSWQ6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCB9LAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3MwogICAgLy8gcG9vbElkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3Bvb2xJZCcgfSkKICAgIGJ5dGVjXzMgLy8gInBvb2xJZCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg5NgogICAgLy8geyBpZDogdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwgcG9vbElkOiB0aGlzLnBvb2xJZC52YWx1ZSwgcG9vbEFwcElkOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQgfSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uSUQKICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6ODk4CiAgICAvLyB0b2tlblJld2FyZFBhaWRPdXQsCiAgICBkaWcgMTYKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjg5OQogICAgLy8gdmFsaWRhdG9yQ29tbWlzc2lvblBhaWRPdXQsCiAgICBkaWcgMTYKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkwMAogICAgLy8gZXhjZXNzVG9GZWVTaW5rLAogICAgZGlnIDMzCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo4OTMtOTAyCiAgICAvLyBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuc3Rha2VVcGRhdGVkVmlhUmV3YXJkcz4oewogICAgLy8gICAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgICBhcmdzOiBbCiAgICAvLyAgICAgICAgIHsgaWQ6IHRoaXMudmFsaWRhdG9ySWQudmFsdWUsIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsIHBvb2xBcHBJZDogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbklkLmlkIH0sCiAgICAvLyAgICAgICAgIGluY3JlYXNlZFN0YWtlLAogICAgLy8gICAgICAgICB0b2tlblJld2FyZFBhaWRPdXQsCiAgICAvLyAgICAgICAgIHZhbGlkYXRvckNvbW1pc3Npb25QYWlkT3V0LAogICAgLy8gICAgICAgICBleGNlc3NUb0ZlZVNpbmssCiAgICAvLyAgICAgXSwKICAgIC8vIH0pCiAgICBwdXNoYnl0ZXMgMHg0MThmY2VmYyAvLyBtZXRob2QgInN0YWtlVXBkYXRlZFZpYVJld2FyZHMoKHVpbnQ2NCx1aW50NjQsdWludDY0KSx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpdm9pZCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICB1bmNvdmVyIDMKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICB1bmNvdmVyIDQKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICB1bmNvdmVyIDIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgcHVzaGludCA2IC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjU0MAogICAgLy8gZXBvY2hCYWxhbmNlVXBkYXRlKCk6IHZvaWQgewogICAgYiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo6U3Rha2luZ1Bvb2wuZXBvY2hCYWxhbmNlVXBkYXRlQDcxCgplcG9jaEJhbGFuY2VVcGRhdGVfZWxzZV9ib2R5QDI4OgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzAzCiAgICAvLyB9IGVsc2UgaWYgKHZhbGlkYXRvckNvbmZpZy5wZXJjZW50VG9WYWxpZGF0b3IuYXNVaW50NjQoKSAhPT0gMCkgewogICAgZGlnIDUKICAgIHB1c2hpbnQgMTc3IC8vIDE3NwogICAgZXh0cmFjdF91aW50MzIKICAgIGR1cAogICAgYnVyeSAxOQogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjcwNwogICAgLy8gW2FsZ29SZXdhcmRBdmFpbCwgdmFsaWRhdG9yQ29uZmlnLnBlcmNlbnRUb1ZhbGlkYXRvci5hc1VpbnQ2NCgpXSwKICAgIGRpZyAzNQogICAgZHVwCiAgICBpdG9iCiAgICBieXRlYyA4IC8vIDB4MDAwMgogICAgc3dhcAogICAgY29uY2F0CiAgICBkaWcgMTkKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzA4CiAgICAvLyBbMV8wMDBfMDAwXSwKICAgIGJ5dGVjIDE4IC8vIDB4MDAwMTAwMDAwMDAwMDAwZjQyNDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjcwNi03MDkKICAgIC8vIHZhbGlkYXRvckNvbW1pc3Npb25QYWlkT3V0ID0gd2lkZVJhdGlvKAogICAgLy8gICAgIFthbGdvUmV3YXJkQXZhaWwsIHZhbGlkYXRvckNvbmZpZy5wZXJjZW50VG9WYWxpZGF0b3IuYXNVaW50NjQoKV0sCiAgICAvLyAgICAgWzFfMDAwXzAwMF0sCiAgICAvLyApCiAgICBjYWxsc3ViIHdpZGVSYXRpbwogICAgcG9wbiAyCiAgICBkdXAKICAgIGJ1cnkgMTUKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjcxMgogICAgLy8gYWxnb1Jld2FyZEF2YWlsIC09IHZhbGlkYXRvckNvbW1pc3Npb25QYWlkT3V0CiAgICBzd2FwCiAgICBkaWcgMQogICAgLQogICAgYnVyeSAzNwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzE5CiAgICAvLyBpZiAodmFsaWRhdG9yQ29tbWlzc2lvblBhaWRPdXQgPiAwKSB7CiAgICBieiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA0MAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzIyCiAgICAvLyBsZXQgbWFuYWdlclRvcE9mZjogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMjQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjcyNAogICAgLy8gdmFsaWRhdG9yQ29uZmlnLm1hbmFnZXIgIT09IHZhbGlkYXRvckNvbmZpZy52YWxpZGF0b3JDb21taXNzaW9uQWRkcmVzcyAmJgogICAgZGlnIDUKICAgIGR1cAogICAgZXh0cmFjdCA0NCAzMgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBidXJ5IDQzCiAgICBleHRyYWN0IDE4MSAzMgogICAgZHVwCiAgICBidXJ5IDQyCiAgICAhPQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzI0LTcyNQogICAgLy8gdmFsaWRhdG9yQ29uZmlnLm1hbmFnZXIgIT09IHZhbGlkYXRvckNvbmZpZy52YWxpZGF0b3JDb21taXNzaW9uQWRkcmVzcyAmJgogICAgLy8gdmFsaWRhdG9yQ29uZmlnLm1hbmFnZXIuYmFsYW5jZSAtIHZhbGlkYXRvckNvbmZpZy5tYW5hZ2VyLm1pbkJhbGFuY2UgPCAyXzEwMF8wMDAKICAgIGJ6IGVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDM0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3MjUKICAgIC8vIHZhbGlkYXRvckNvbmZpZy5tYW5hZ2VyLmJhbGFuY2UgLSB2YWxpZGF0b3JDb25maWcubWFuYWdlci5taW5CYWxhbmNlIDwgMl8xMDBfMDAwCiAgICBkaWcgNDAKICAgIGR1cAogICAgYWNjdF9wYXJhbXNfZ2V0IEFjY3RCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBmdW5kZWQKICAgIHN3YXAKICAgIGFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgZnVuZGVkCiAgICAtCiAgICBpbnRjIDcgLy8gMjEwMDAwMAogICAgPAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzI0LTcyNQogICAgLy8gdmFsaWRhdG9yQ29uZmlnLm1hbmFnZXIgIT09IHZhbGlkYXRvckNvbmZpZy52YWxpZGF0b3JDb21taXNzaW9uQWRkcmVzcyAmJgogICAgLy8gdmFsaWRhdG9yQ29uZmlnLm1hbmFnZXIuYmFsYW5jZSAtIHZhbGlkYXRvckNvbmZpZy5tYW5hZ2VyLm1pbkJhbGFuY2UgPCAyXzEwMF8wMDAKICAgIGJ6IGVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDM0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3MjcKICAgIC8vIG1hbmFnZXJUb3BPZmYgPSB2YWxpZGF0b3JDb21taXNzaW9uUGFpZE91dCA8IDJfMTAwXzAwMCA/IHZhbGlkYXRvckNvbW1pc3Npb25QYWlkT3V0IDogMl8xMDBfMDAwCiAgICBkaWcgMTIKICAgIGR1cAogICAgaW50YyA3IC8vIDIxMDAwMDAKICAgIDwKICAgIGludGMgNyAvLyAyMTAwMDAwCiAgICBjb3ZlciAyCiAgICBzZWxlY3QKICAgIGR1cAogICAgYnVyeSAyNQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzI4LTczMgogICAgLy8gaXR4bi5wYXltZW50KHsKICAgIC8vICAgICBhbW91bnQ6IG1hbmFnZXJUb3BPZmYsCiAgICAvLyAgICAgcmVjZWl2ZXI6IHZhbGlkYXRvckNvbmZpZy5tYW5hZ2VyLAogICAgLy8gICAgIG5vdGU6ICd2YWxpZGF0b3IgcmV3YXJkIHRvIG1hbmFnZXIgZm9yIGZ1bmRpbmcgZXBvY2ggdXBkYXRlcycsCiAgICAvLyB9KS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzMxCiAgICAvLyBub3RlOiAndmFsaWRhdG9yIHJld2FyZCB0byBtYW5hZ2VyIGZvciBmdW5kaW5nIGVwb2NoIHVwZGF0ZXMnLAogICAgcHVzaGJ5dGVzICJ2YWxpZGF0b3IgcmV3YXJkIHRvIG1hbmFnZXIgZm9yIGZ1bmRpbmcgZXBvY2ggdXBkYXRlcyIKICAgIGl0eG5fZmllbGQgTm90ZQogICAgZGlnIDQxCiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzI4LTczMgogICAgLy8gaXR4bi5wYXltZW50KHsKICAgIC8vICAgICBhbW91bnQ6IG1hbmFnZXJUb3BPZmYsCiAgICAvLyAgICAgcmVjZWl2ZXI6IHZhbGlkYXRvckNvbmZpZy5tYW5hZ2VyLAogICAgLy8gICAgIG5vdGU6ICd2YWxpZGF0b3IgcmV3YXJkIHRvIG1hbmFnZXIgZm9yIGZ1bmRpbmcgZXBvY2ggdXBkYXRlcycsCiAgICAvLyB9KS5zdWJtaXQoKQogICAgaW50Y18xIC8vIDEKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKCmVwb2NoQmFsYW5jZVVwZGF0ZV9hZnRlcl9pZl9lbHNlQDM0OgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzM0CiAgICAvLyBpZiAodmFsaWRhdG9yQ29tbWlzc2lvblBhaWRPdXQgLSBtYW5hZ2VyVG9wT2ZmID4gMCkgewogICAgZGlnIDEyCiAgICBkaWcgMjQKICAgIC0KICAgIGR1cAogICAgYnVyeSAxOAogICAgYnogZXBvY2hCYWxhbmNlVXBkYXRlX2FmdGVyX2lmX2Vsc2VANDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjczNS03MzkKICAgIC8vIGl0eG4ucGF5bWVudCh7CiAgICAvLyAgICAgYW1vdW50OiB2YWxpZGF0b3JDb21taXNzaW9uUGFpZE91dCAtIG1hbmFnZXJUb3BPZmYsCiAgICAvLyAgICAgcmVjZWl2ZXI6IHZhbGlkYXRvckNvbmZpZy52YWxpZGF0b3JDb21taXNzaW9uQWRkcmVzcywKICAgIC8vICAgICBub3RlOiAndmFsaWRhdG9yIHJld2FyZCcsCiAgICAvLyB9KS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzM4CiAgICAvLyBub3RlOiAndmFsaWRhdG9yIHJld2FyZCcsCiAgICBwdXNoYnl0ZXMgInZhbGlkYXRvciByZXdhcmQiCiAgICBpdHhuX2ZpZWxkIE5vdGUKICAgIGRpZyAzOQogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgZGlnIDE2CiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzM1LTczOQogICAgLy8gaXR4bi5wYXltZW50KHsKICAgIC8vICAgICBhbW91bnQ6IHZhbGlkYXRvckNvbW1pc3Npb25QYWlkT3V0IC0gbWFuYWdlclRvcE9mZiwKICAgIC8vICAgICByZWNlaXZlcjogdmFsaWRhdG9yQ29uZmlnLnZhbGlkYXRvckNvbW1pc3Npb25BZGRyZXNzLAogICAgLy8gICAgIG5vdGU6ICd2YWxpZGF0b3IgcmV3YXJkJywKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgYiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUA0MAoKZXBvY2hCYWxhbmNlVXBkYXRlX2Vsc2VfYm9keUA5OgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTk2LTYwNQogICAgLy8gdG9rZW5QYXlvdXRSYXRpbyA9IGFiaUNhbGw8dHlwZW9mIFN0YWtpbmdQb29sLnByb3RvdHlwZS5wcm94aWVkU2V0VG9rZW5QYXlvdXRSYXRpbz4oewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbihwb29sT25lQXBwSUQpLAogICAgLy8gICAgIGFyZ3M6IFsKICAgIC8vICAgICAgICAgewogICAgLy8gICAgICAgICAgICAgaWQ6IHRoaXMudmFsaWRhdG9ySWQudmFsdWUsCiAgICAvLyAgICAgICAgICAgICBwb29sSWQ6IHRoaXMucG9vbElkLnZhbHVlLAogICAgLy8gICAgICAgICAgICAgcG9vbEFwcElkOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQsCiAgICAvLyAgICAgICAgIH0sCiAgICAvLyAgICAgXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2MDAKICAgIC8vIGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjcwCiAgICAvLyB2YWxpZGF0b3JJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICd2YWxpZGF0b3JJZCcgfSkKICAgIGJ5dGVjXzIgLy8gInZhbGlkYXRvcklkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjAwCiAgICAvLyBpZDogdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2MDEKICAgIC8vIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzMKICAgIC8vIHBvb2xJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdwb29sSWQnIH0pCiAgICBieXRlY18zIC8vICJwb29sSWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo2MDEKICAgIC8vIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjAyCiAgICAvLyBwb29sQXBwSWQ6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCwKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25JRAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NTk5LTYwMwogICAgLy8gewogICAgLy8gICAgIGlkOiB0aGlzLnZhbGlkYXRvcklkLnZhbHVlLAogICAgLy8gICAgIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsCiAgICAvLyAgICAgcG9vbEFwcElkOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uSWQuaWQsCiAgICAvLyB9LAogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIGNvbmNhdAogICAgc3dhcAogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo1OTYtNjA1CiAgICAvLyB0b2tlblBheW91dFJhdGlvID0gYWJpQ2FsbDx0eXBlb2YgU3Rha2luZ1Bvb2wucHJvdG90eXBlLnByb3hpZWRTZXRUb2tlblBheW91dFJhdGlvPih7CiAgICAvLyAgICAgYXBwSWQ6IEFwcGxpY2F0aW9uKHBvb2xPbmVBcHBJRCksCiAgICAvLyAgICAgYXJnczogWwogICAgLy8gICAgICAgICB7CiAgICAvLyAgICAgICAgICAgICBpZDogdGhpcy52YWxpZGF0b3JJZC52YWx1ZSwKICAgIC8vICAgICAgICAgICAgIHBvb2xJZDogdGhpcy5wb29sSWQudmFsdWUsCiAgICAvLyAgICAgICAgICAgICBwb29sQXBwSWQ6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25JZC5pZCwKICAgIC8vICAgICAgICAgfSwKICAgIC8vICAgICBdLAogICAgLy8gfSkucmV0dXJuVmFsdWUKICAgIGJ5dGVjIDIwIC8vIG1ldGhvZCAicHJveGllZFNldFRva2VuUGF5b3V0UmF0aW8oKHVpbnQ2NCx1aW50NjQsdWludDY0KSkodWludDY0WzI0XSx1aW50NjQpIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBkaWcgMQogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBidXJ5IDgKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlYyA0IC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgYiBlcG9jaEJhbGFuY2VVcGRhdGVfYWZ0ZXJfaWZfZWxzZUAxMgoKCi8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjpTdGFraW5nUG9vbC5nb09ubGluZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmdvT25saW5lOgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTE4LTkyNgogICAgLy8gZ29PbmxpbmUoCiAgICAvLyAgICAgZmVlUGF5bWVudDogZ3R4bi5QYXltZW50VHhuLAogICAgLy8gICAgIHZvdGVQSzogYnl0ZXM8MzI+LAogICAgLy8gICAgIHNlbGVjdGlvblBLOiBieXRlczwzMj4sCiAgICAvLyAgICAgc3RhdGVQcm9vZlBLOiBieXRlczw2ND4sCiAgICAvLyAgICAgdm90ZUZpcnN0OiB1aW50NjQsCiAgICAvLyAgICAgdm90ZUxhc3Q6IHVpbnQ2NCwKICAgIC8vICAgICB2b3RlS2V5RGlsdXRpb246IHVpbnQ2NCwKICAgIC8vICk6IHZvaWQgewogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA1CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA2CiAgICBidG9pCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5MjcKICAgIC8vIGFzc2VydCh0aGlzLmlzT3duZXJPck1hbmFnZXJDYWxsZXIoKSwgJ2NhbiBvbmx5IGJlIGNhbGxlZCBieSBvd25lciBvciBtYW5hZ2VyIG9mIHZhbGlkYXRvcicpCiAgICBjYWxsc3ViIGlzT3duZXJPck1hbmFnZXJDYWxsZXIKICAgIGFzc2VydCAvLyBjYW4gb25seSBiZSBjYWxsZWQgYnkgb3duZXIgb3IgbWFuYWdlciBvZiB2YWxpZGF0b3IKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwMTkKICAgIC8vIGlmICghb3AuQWNjdFBhcmFtcy5hY2N0SW5jZW50aXZlRWxpZ2libGUoR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MpWzBdKSB7CiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgYWNjdF9wYXJhbXNfZ2V0IEFjY3RJbmNlbnRpdmVFbGlnaWJsZQogICAgcG9wCiAgICBibnogZ29PbmxpbmVfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDIwCiAgICAvLyByZXR1cm4gR2xvYmFsLnBheW91dHNHb09ubGluZUZlZQogICAgZ2xvYmFsIFBheW91dHNHb09ubGluZUZlZQoKZ29PbmxpbmVfYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo6U3Rha2luZ1Bvb2wuZ2V0R29PbmxpbmVGZWVANDoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkyOQogICAgLy8gYXNzZXJ0TWF0Y2goZmVlUGF5bWVudCwgeyByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsIGFtb3VudDogZXh0cmFGZWUgfSkKICAgIGRpZyA3CiAgICBkdXAKICAgIGd0eG5zIFJlY2VpdmVyCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgPT0KICAgIHN3YXAKICAgIGd0eG5zIEFtb3VudAogICAgZGlnIDIKICAgID09CiAgICAmJgogICAgYXNzZXJ0IC8vIGFzc2VydCB0YXJnZXQgaXMgbWF0Y2ggZm9yIGNvbmRpdGlvbnMKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkzMC05MzgKICAgIC8vIGl0eG4ua2V5UmVnaXN0cmF0aW9uKHsKICAgIC8vICAgICB2b3RlS2V5OiB2b3RlUEssCiAgICAvLyAgICAgc2VsZWN0aW9uS2V5OiBzZWxlY3Rpb25QSywKICAgIC8vICAgICBzdGF0ZVByb29mS2V5OiBzdGF0ZVByb29mUEssCiAgICAvLyAgICAgdm90ZUZpcnN0OiB2b3RlRmlyc3QsCiAgICAvLyAgICAgdm90ZUxhc3Q6IHZvdGVMYXN0LAogICAgLy8gICAgIHZvdGVLZXlEaWx1dGlvbjogdm90ZUtleURpbHV0aW9uLAogICAgLy8gICAgIGZlZTogZXh0cmFGZWUsCiAgICAvLyB9KS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgZGlnIDEKICAgIGl0eG5fZmllbGQgVm90ZUtleURpbHV0aW9uCiAgICBkaWcgMgogICAgaXR4bl9maWVsZCBWb3RlTGFzdAogICAgZGlnIDMKICAgIGl0eG5fZmllbGQgVm90ZUZpcnN0CiAgICBkaWcgNAogICAgaXR4bl9maWVsZCBTdGF0ZVByb29mUEsKICAgIGRpZyA1CiAgICBpdHhuX2ZpZWxkIFNlbGVjdGlvblBLCiAgICBkaWcgNgogICAgaXR4bl9maWVsZCBWb3RlUEsKICAgIHB1c2hpbnQgMiAvLyAyCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjkxOC05MjYKICAgIC8vIGdvT25saW5lKAogICAgLy8gICAgIGZlZVBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwKICAgIC8vICAgICB2b3RlUEs6IGJ5dGVzPDMyPiwKICAgIC8vICAgICBzZWxlY3Rpb25QSzogYnl0ZXM8MzI+LAogICAgLy8gICAgIHN0YXRlUHJvb2ZQSzogYnl0ZXM8NjQ+LAogICAgLy8gICAgIHZvdGVGaXJzdDogdWludDY0LAogICAgLy8gICAgIHZvdGVMYXN0OiB1aW50NjQsCiAgICAvLyAgICAgdm90ZUtleURpbHV0aW9uOiB1aW50NjQsCiAgICAvLyApOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCmdvT25saW5lX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwMjIKICAgIC8vIHJldHVybiAwCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTI4CiAgICAvLyBjb25zdCBleHRyYUZlZSA9IHRoaXMuZ2V0R29PbmxpbmVGZWUoKQogICAgYiBnb09ubGluZV9hZnRlcl9pbmxpbmVkX2NvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjpTdGFraW5nUG9vbC5nZXRHb09ubGluZUZlZUA0CgoKLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OlN0YWtpbmdQb29sLmdvT2ZmbGluZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmdvT2ZmbGluZToKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk0OQogICAgLy8gaWYgKFR4bi5zZW5kZXIgIT09IEFwcGxpY2F0aW9uKHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlKS5hZGRyZXNzKSB7CiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NjcKICAgIC8vIGNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdjcmVhdG9yQXBwJyB9KQogICAgYnl0ZWNfMSAvLyAiY3JlYXRvckFwcCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk0OQogICAgLy8gaWYgKFR4bi5zZW5kZXIgIT09IEFwcGxpY2F0aW9uKHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlKS5hZGRyZXNzKSB7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgIT0KICAgIGJ6IGdvT2ZmbGluZV9hZnRlcl9pZl9lbHNlQDMKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk1MAogICAgLy8gYXNzZXJ0KHRoaXMuaXNPd25lck9yTWFuYWdlckNhbGxlcigpLCAnY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IG93bmVyIG9yIG1hbmFnZXIgb2YgdmFsaWRhdG9yJykKICAgIGNhbGxzdWIgaXNPd25lck9yTWFuYWdlckNhbGxlcgogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGJlIGNhbGxlZCBieSBvd25lciBvciBtYW5hZ2VyIG9mIHZhbGlkYXRvcgoKZ29PZmZsaW5lX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk1MwogICAgLy8gaXR4bi5rZXlSZWdpc3RyYXRpb24oe30pLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICBwdXNoaW50IDIgLy8gMgogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTQ2CiAgICAvLyBnb09mZmxpbmUoKTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OlN0YWtpbmdQb29sLmxpbmtUb05GRFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmxpbmtUb05GRDoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk1OQogICAgLy8gbGlua1RvTkZEKG5mZEFwcElkOiB1aW50NjQsIG5mZE5hbWU6IHN0cmluZyk6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZXh0cmFjdCAyIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk2MAogICAgLy8gYXNzZXJ0KHRoaXMuaXNPd25lck9yTWFuYWdlckNhbGxlcigpLCAnY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IG93bmVyIG9yIG1hbmFnZXIgb2YgdmFsaWRhdG9yJykKICAgIGNhbGxzdWIgaXNPd25lck9yTWFuYWdlckNhbGxlcgogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGJlIGNhbGxlZCBieSBvd25lciBvciBtYW5hZ2VyIG9mIHZhbGlkYXRvcgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTYyLTk3MQogICAgLy8gaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbihuZmRSZWdpc3RyeUFwcElkKSwKICAgIC8vICAgICBhcHBBcmdzOiBbCiAgICAvLyAgICAgICAgIEJ5dGVzKCd2ZXJpZnlfbmZkX2FkZHInKSwKICAgIC8vICAgICAgICAgQnl0ZXMobmZkTmFtZSksCiAgICAvLyAgICAgICAgIG9wLml0b2IobmZkQXBwSWQpLAogICAgLy8gICAgICAgICBlbmNvZGVBcmM0KEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzKSwKICAgIC8vICAgICBdLAogICAgLy8gICAgIGFwcHM6IFtBcHBsaWNhdGlvbihuZmRBcHBJZCldLAogICAgLy8gfSkuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk2MwogICAgLy8gYXBwSWQ6IEFwcGxpY2F0aW9uKG5mZFJlZ2lzdHJ5QXBwSWQpLAogICAgaW50YyAxMCAvLyBUTVBMX05GRF9SRUdJU1RSWV9BUFBfSUQKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk2NwogICAgLy8gb3AuaXRvYihuZmRBcHBJZCksCiAgICBkaWcgMgogICAgaXRvYgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTY4CiAgICAvLyBlbmNvZGVBcmM0KEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzKSwKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICB1bmNvdmVyIDQKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25zCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5NjUKICAgIC8vIEJ5dGVzKCd2ZXJpZnlfbmZkX2FkZHInKSwKICAgIHB1c2hieXRlcyAidmVyaWZ5X25mZF9hZGRyIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHVuY292ZXIgMgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHN3YXAKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5NjItOTcxCiAgICAvLyBpdHhuLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IEFwcGxpY2F0aW9uKG5mZFJlZ2lzdHJ5QXBwSWQpLAogICAgLy8gICAgIGFwcEFyZ3M6IFsKICAgIC8vICAgICAgICAgQnl0ZXMoJ3ZlcmlmeV9uZmRfYWRkcicpLAogICAgLy8gICAgICAgICBCeXRlcyhuZmROYW1lKSwKICAgIC8vICAgICAgICAgb3AuaXRvYihuZmRBcHBJZCksCiAgICAvLyAgICAgICAgIGVuY29kZUFyYzQoR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MpLAogICAgLy8gICAgIF0sCiAgICAvLyAgICAgYXBwczogW0FwcGxpY2F0aW9uKG5mZEFwcElkKV0sCiAgICAvLyB9KS5zdWJtaXQoKQogICAgcHVzaGludCA2IC8vIDYKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk1OQogICAgLy8gbGlua1RvTkZEKG5mZEFwcElkOiB1aW50NjQsIG5mZE5hbWU6IHN0cmluZyk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjpTdGFraW5nUG9vbC5wcm94aWVkU2V0VG9rZW5QYXlvdXRSYXRpb1tyb3V0aW5nXSgpIC0+IHZvaWQ6CnByb3hpZWRTZXRUb2tlblBheW91dFJhdGlvOgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTgwCiAgICAvLyBwcm94aWVkU2V0VG9rZW5QYXlvdXRSYXRpbyhwb29sS2V5OiBWYWxpZGF0b3JQb29sS2V5KTogUG9vbFRva2VuUGF5b3V0UmF0aW8gewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTgxCiAgICAvLyBhc3NlcnQodGhpcy52YWxpZGF0b3JJZC52YWx1ZSA9PT0gcG9vbEtleS5pZCwgJ2NhbGxlciBtdXN0IGJlIHBhcnQgb2Ygc2FtZSB2YWxpZGF0b3Igc2V0IScpCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6NzAKICAgIC8vIHZhbGlkYXRvcklkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3ZhbGlkYXRvcklkJyB9KQogICAgYnl0ZWNfMiAvLyAidmFsaWRhdG9ySWQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5ODEKICAgIC8vIGFzc2VydCh0aGlzLnZhbGlkYXRvcklkLnZhbHVlID09PSBwb29sS2V5LmlkLCAnY2FsbGVyIG11c3QgYmUgcGFydCBvZiBzYW1lIHZhbGlkYXRvciBzZXQhJykKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgMQogICAgZXh0cmFjdCAwIDgKICAgIGRpZyAyCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAyCiAgICA9PQogICAgYXNzZXJ0IC8vIGNhbGxlciBtdXN0IGJlIHBhcnQgb2Ygc2FtZSB2YWxpZGF0b3Igc2V0IQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTgyCiAgICAvLyBhc3NlcnQodGhpcy5wb29sSWQudmFsdWUgPT09IDEsICdjYWxsZWUgbXVzdCBiZSBwb29sIDEnKQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjczCiAgICAvLyBwb29sSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAncG9vbElkJyB9KQogICAgYnl0ZWNfMyAvLyAicG9vbElkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTgyCiAgICAvLyBhc3NlcnQodGhpcy5wb29sSWQudmFsdWUgPT09IDEsICdjYWxsZWUgbXVzdCBiZSBwb29sIDEnKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIGNhbGxlZSBtdXN0IGJlIHBvb2wgMQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTgzCiAgICAvLyBhc3NlcnQocG9vbEtleS5wb29sSWQgIT09IDEsICdjYWxsZXIgbXVzdCBOT1QgYmUgcG9vbCAxJykKICAgIGRpZyAyCiAgICBleHRyYWN0IDggOAogICAgZGlnIDMKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18xIC8vIDEKICAgICE9CiAgICBhc3NlcnQgLy8gY2FsbGVyIG11c3QgTk9UIGJlIHBvb2wgMQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTg1LTk4OAogICAgLy8gY29uc3QgY2FsbGVyUG9vbEFwcElEID0gYWJpQ2FsbDx0eXBlb2YgVmFsaWRhdG9yUmVnaXN0cnkucHJvdG90eXBlLmdldFBvb2xBcHBJZD4oewogICAgLy8gICAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgICBhcmdzOiBbcG9vbEtleS5pZCwgcG9vbEtleS5wb29sSWRdLAogICAgLy8gfSkucmV0dXJuVmFsdWUKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk4NgogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjY3CiAgICAvLyBjcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnY3JlYXRvckFwcCcgfSkKICAgIGJ5dGVjXzEgLy8gImNyZWF0b3JBcHAiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5ODYKICAgIC8vIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5ODUtOTg4CiAgICAvLyBjb25zdCBjYWxsZXJQb29sQXBwSUQgPSBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuZ2V0UG9vbEFwcElkPih7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFtwb29sS2V5LmlkLCBwb29sS2V5LnBvb2xJZF0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgYnl0ZWMgMjUgLy8gbWV0aG9kICJnZXRQb29sQXBwSWQodWludDY0LHVpbnQ2NCl1aW50NjQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgdW5jb3ZlciAyCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgc3dhcAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGR1cAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBzd2FwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWMgNCAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIGJ0b2kKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk4OQogICAgLy8gYXNzZXJ0KGNhbGxlclBvb2xBcHBJRCA9PT0gcG9vbEtleS5wb29sQXBwSWQpCiAgICB1bmNvdmVyIDMKICAgIGludGNfMyAvLyAxNgogICAgZXh0cmFjdF91aW50NjQKICAgIHN3YXAKICAgIGRpZyAxCiAgICA9PQogICAgYXNzZXJ0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5OTAKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSBBcHBsaWNhdGlvbihwb29sS2V5LnBvb2xBcHBJZCkuYWRkcmVzcykKICAgIHR4biBTZW5kZXIKICAgIHN3YXAKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgID09CiAgICBhc3NlcnQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk5Mi05OTUKICAgIC8vIHJldHVybiBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuc2V0VG9rZW5QYXlvdXRSYXRpbz4oewogICAgLy8gICAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgICBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTk0CiAgICAvLyBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICBzd2FwCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5OTItOTk1CiAgICAvLyByZXR1cm4gYWJpQ2FsbDx0eXBlb2YgVmFsaWRhdG9yUmVnaXN0cnkucHJvdG90eXBlLnNldFRva2VuUGF5b3V0UmF0aW8+KHsKICAgIC8vICAgICBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICAvLyAgICAgYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWVdLAogICAgLy8gfSkucmV0dXJuVmFsdWUKICAgIGJ5dGVjIDI2IC8vIG1ldGhvZCAic2V0VG9rZW5QYXlvdXRSYXRpbyh1aW50NjQpKHVpbnQ2NFsyNF0sdWludDY0KSIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBzd2FwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWMgNCAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk4MAogICAgLy8gcHJveGllZFNldFRva2VuUGF5b3V0UmF0aW8ocG9vbEtleTogVmFsaWRhdG9yUG9vbEtleSk6IFBvb2xUb2tlblBheW91dFJhdGlvIHsKICAgIGJ5dGVjIDQgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo6U3Rha2luZ1Bvb2wuaXNPd25lck9yTWFuYWdlckNhbGxlcigpIC0+IHVpbnQ2NDoKaXNPd25lck9yTWFuYWdlckNhbGxlcjoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk5OAogICAgLy8gcHJpdmF0ZSBpc093bmVyT3JNYW5hZ2VyQ2FsbGVyKCk6IGJvb2xlYW4gewogICAgcHJvdG8gMCAxCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5OTktMTAwMgogICAgLy8gY29uc3QgT3duZXJBbmRNYW5hZ2VyID0gYWJpQ2FsbDx0eXBlb2YgVmFsaWRhdG9yUmVnaXN0cnkucHJvdG90eXBlLmdldFZhbGlkYXRvck93bmVyQW5kTWFuYWdlcj4oewogICAgLy8gICAgIGFwcElkOiB0aGlzLmNyZWF0aW5nVmFsaWRhdG9yQ29udHJhY3RBcHBJZC52YWx1ZSwKICAgIC8vICAgICBhcmdzOiBbdGhpcy52YWxpZGF0b3JJZC52YWx1ZV0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTAwMAogICAgLy8gYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjY3CiAgICAvLyBjcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnY3JlYXRvckFwcCcgfSkKICAgIGJ5dGVjXzEgLy8gImNyZWF0b3JBcHAiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDAwCiAgICAvLyBhcHBJZDogdGhpcy5jcmVhdGluZ1ZhbGlkYXRvckNvbnRyYWN0QXBwSWQudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTAwMQogICAgLy8gYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWVdLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjcwCiAgICAvLyB2YWxpZGF0b3JJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICd2YWxpZGF0b3JJZCcgfSkKICAgIGJ5dGVjXzIgLy8gInZhbGlkYXRvcklkIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTAwMQogICAgLy8gYXJnczogW3RoaXMudmFsaWRhdG9ySWQudmFsdWVdLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGl0b2IKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk5OS0xMDAyCiAgICAvLyBjb25zdCBPd25lckFuZE1hbmFnZXIgPSBhYmlDYWxsPHR5cGVvZiBWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yT3duZXJBbmRNYW5hZ2VyPih7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMuY3JlYXRpbmdWYWxpZGF0b3JDb250cmFjdEFwcElkLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFt0aGlzLnZhbGlkYXRvcklkLnZhbHVlXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBwdXNoYnl0ZXMgMHgyZmEyMmM0YiAvLyBtZXRob2QgImdldFZhbGlkYXRvck93bmVyQW5kTWFuYWdlcih1aW50NjQpKGFkZHJlc3MsYWRkcmVzcykiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgcHVzaGludCA2IC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIGl0eG4gTGFzdExvZwogICAgZHVwbiAyCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWMgNCAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwMDMKICAgIC8vIHJldHVybiBUeG4uc2VuZGVyID09PSBPd25lckFuZE1hbmFnZXJbMF0gfHwgVHhuLnNlbmRlciA9PT0gT3duZXJBbmRNYW5hZ2VyWzFdCiAgICB0eG4gU2VuZGVyCiAgICBzd2FwCiAgICBleHRyYWN0IDQgMzIKICAgID09CiAgICBibnogaXNPd25lck9yTWFuYWdlckNhbGxlcl9ib29sX3RydWVAMwogICAgdHhuIFNlbmRlcgogICAgZnJhbWVfZGlnIDAKICAgIGV4dHJhY3QgMzYgMzIKICAgID09CiAgICBieiBpc093bmVyT3JNYW5hZ2VyQ2FsbGVyX2Jvb2xfZmFsc2VANAoKaXNPd25lck9yTWFuYWdlckNhbGxlcl9ib29sX3RydWVAMzoKICAgIGludGNfMSAvLyAxCgppc093bmVyT3JNYW5hZ2VyQ2FsbGVyX2Jvb2xfbWVyZ2VANToKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwMDMKICAgIC8vIHJldHVybiBUeG4uc2VuZGVyID09PSBPd25lckFuZE1hbmFnZXJbMF0gfHwgVHhuLnNlbmRlciA9PT0gT3duZXJBbmRNYW5hZ2VyWzFdCiAgICBzd2FwCiAgICByZXRzdWIKCmlzT3duZXJPck1hbmFnZXJDYWxsZXJfYm9vbF9mYWxzZUA0OgogICAgaW50Y18wIC8vIDAKICAgIGIgaXNPd25lck9yTWFuYWdlckNhbGxlcl9ib29sX21lcmdlQDUKCgovLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo6U3Rha2luZ1Bvb2wuY2hlY2tJZkJpbkNsb3NlZCgpIC0+IHZvaWQ6CmNoZWNrSWZCaW5DbG9zZWQ6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDMyCiAgICAvLyBwcml2YXRlIGNoZWNrSWZCaW5DbG9zZWQoKSB7CiAgICBwcm90byAwIDAKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDMzCiAgICAvLyBjb25zdCBjdXJyZW50QmluU2l6ZSA9IHRoaXMucm91bmRzUGVyRGF5LnZhbHVlCiAgICBkdXBuIDUKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk3CiAgICAvLyByb3VuZHNQZXJEYXkgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAncm91bmRzUGVyRGF5JyB9KQogICAgYnl0ZWMgNiAvLyAicm91bmRzUGVyRGF5IgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTAzMwogICAgLy8gY29uc3QgY3VycmVudEJpblNpemUgPSB0aGlzLnJvdW5kc1BlckRheS52YWx1ZQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHN3YXAKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDM0CiAgICAvLyBpZiAoR2xvYmFsLnJvdW5kID49IHRoaXMuYmluUm91bmRTdGFydC52YWx1ZSArIGN1cnJlbnRCaW5TaXplKSB7CiAgICBnbG9iYWwgUm91bmQKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5OQogICAgLy8gYmluUm91bmRTdGFydCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdiaW5Sb3VuZFN0YXJ0JyB9KQogICAgYnl0ZWMgOSAvLyAiYmluUm91bmRTdGFydCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwMzQKICAgIC8vIGlmIChHbG9iYWwucm91bmQgPj0gdGhpcy5iaW5Sb3VuZFN0YXJ0LnZhbHVlICsgY3VycmVudEJpblNpemUpIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICB1bmNvdmVyIDIKICAgICsKICAgID49CiAgICBieiBjaGVja0lmQmluQ2xvc2VkX2FmdGVyX2lmX2Vsc2VAOQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTAzNQogICAgLy8gZW5zdXJlQnVkZ2V0KDMwMCkKICAgIGludGMgNiAvLyAzMDAKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwMzYKICAgIC8vIGNvbnN0IGFwcHJveFJvdW5kc1BlclllYXIgPSBCaWdVaW50KGN1cnJlbnRCaW5TaXplICogMzY1KQogICAgZnJhbWVfZGlnIDUKICAgIGR1cAogICAgcHVzaGludCAzNjUgLy8gMzY1CiAgICAqCiAgICBpdG9iCiAgICBmcmFtZV9idXJ5IDEKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwMzcKICAgIC8vIGNvbnN0IGF2Z1N0YWtlID0gQmlnVWludCh0aGlzLnN0YWtlQWNjdW11bGF0b3IudmFsdWUuYXNCaWdVaW50KCkgLyBCaWdVaW50KGN1cnJlbnRCaW5TaXplKSkKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDQKICAgIC8vIHN0YWtlQWNjdW11bGF0b3IgPSBHbG9iYWxTdGF0ZTxVaW50MTI4Pih7IGtleTogJ3N0YWtlQWNjdW11bGF0b3InIH0pCiAgICBieXRlYyA3IC8vICJzdGFrZUFjY3VtdWxhdG9yIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTAzNwogICAgLy8gY29uc3QgYXZnU3Rha2UgPSBCaWdVaW50KHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZS5hc0JpZ1VpbnQoKSAvIEJpZ1VpbnQoY3VycmVudEJpblNpemUpKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHN3YXAKICAgIGl0b2IKICAgIGR1cAogICAgZnJhbWVfYnVyeSA0CiAgICBiLwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDMKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwMzgKICAgIC8vIGlmIChhdmdTdGFrZSAhPT0gMG4pIHsKICAgIHB1c2hieXRlcyAweAogICAgYiE9CiAgICBieiBjaGVja0lmQmluQ2xvc2VkX2FmdGVyX2lmX2Vsc2VAOAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA0NAogICAgLy8gKCgoQmlnVWludCh0aGlzLnJld2FyZEFjY3VtdWxhdG9yLnZhbHVlKSAqIDEwMDAwMDBuKSAvIGF2Z1N0YWtlKSAqCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA4CiAgICAvLyByZXdhcmRBY2N1bXVsYXRvciA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdyZXdhcmRBY2N1bXVsYXRvcicgfSkKICAgIGJ5dGVjIDExIC8vICJyZXdhcmRBY2N1bXVsYXRvciIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNDQKICAgIC8vICgoKEJpZ1VpbnQodGhpcy5yZXdhcmRBY2N1bXVsYXRvci52YWx1ZSkgKiAxMDAwMDAwbikgLyBhdmdTdGFrZSkgKgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGl0b2IKICAgIHB1c2hieXRlcyAweDBmNDI0MAogICAgYioKICAgIGZyYW1lX2RpZyAzCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGIvCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDQ1CiAgICAvLyAoYXBwcm94Um91bmRzUGVyWWVhciAvIEJpZ1VpbnQoY3VycmVudEJpblNpemUpKSkgLwogICAgZnJhbWVfZGlnIDEKICAgIGZyYW1lX2RpZyA0CiAgICBiLwogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA0NC0xMDQ1CiAgICAvLyAoKChCaWdVaW50KHRoaXMucmV3YXJkQWNjdW11bGF0b3IudmFsdWUpICogMTAwMDAwMG4pIC8gYXZnU3Rha2UpICoKICAgIC8vICAgICAoYXBwcm94Um91bmRzUGVyWWVhciAvIEJpZ1VpbnQoY3VycmVudEJpblNpemUpKSkgLwogICAgYioKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNDYKICAgIC8vIDEwMG4sCiAgICBieXRlYyAxNCAvLyAweDY0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDQ0LTEwNDYKICAgIC8vICgoKEJpZ1VpbnQodGhpcy5yZXdhcmRBY2N1bXVsYXRvci52YWx1ZSkgKiAxMDAwMDAwbikgLyBhdmdTdGFrZSkgKgogICAgLy8gICAgIChhcHByb3hSb3VuZHNQZXJZZWFyIC8gQmlnVWludChjdXJyZW50QmluU2l6ZSkpKSAvCiAgICAvLyAgICAgMTAwbiwKICAgIGIvCiAgICBmcmFtZV9idXJ5IDIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNDkKICAgIC8vIGxldCBhbHBoYSA9IEJpZ1VpbnQoMTApIC8vIC4xCiAgICBwdXNoYnl0ZXMgMHgwYQogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDUxCiAgICAvLyBpZiAoYXZnU3Rha2UgPiAzMDAwMDAwMDAwMDBuKSB7CiAgICBwdXNoYnl0ZXMgMHg0NWQ5NjRiODAwCiAgICBiPgogICAgYnogY2hlY2tJZkJpbkNsb3NlZF9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNTIKICAgIC8vIGFscGhhID0gQmlnVWludCg5MCkgLy8gLjkKICAgIHB1c2hieXRlcyAweDVhCiAgICBmcmFtZV9idXJ5IDAKCmNoZWNrSWZCaW5DbG9zZWRfYWZ0ZXJfaWZfZWxzZUA0OgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA1NgogICAgLy8gaWYgKHRoaXMud2VpZ2h0ZWRNb3ZpbmdBdmVyYWdlLnZhbHVlLmFzQmlnVWludCgpID09PSAwbikgewogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjExMQogICAgLy8gd2VpZ2h0ZWRNb3ZpbmdBdmVyYWdlID0gR2xvYmFsU3RhdGU8VWludDEyOD4oeyBrZXk6ICdld21hJyB9KQogICAgYnl0ZWMgMTIgLy8gImV3bWEiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDU2CiAgICAvLyBpZiAodGhpcy53ZWlnaHRlZE1vdmluZ0F2ZXJhZ2UudmFsdWUuYXNCaWdVaW50KCkgPT09IDBuKSB7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgcHVzaGJ5dGVzIDB4CiAgICBiPT0KICAgIGJ6IGNoZWNrSWZCaW5DbG9zZWRfZWxzZV9ib2R5QDYKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNTcKICAgIC8vIHRoaXMud2VpZ2h0ZWRNb3ZpbmdBdmVyYWdlLnZhbHVlID0gbmV3IFVpbnQxMjgoYXByKQogICAgZnJhbWVfZGlnIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGludGNfMyAvLyAxNgogICAgYnplcm8KICAgIGJ8CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMTEKICAgIC8vIHdlaWdodGVkTW92aW5nQXZlcmFnZSA9IEdsb2JhbFN0YXRlPFVpbnQxMjg+KHsga2V5OiAnZXdtYScgfSkKICAgIGJ5dGVjIDEyIC8vICJld21hIgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA1NwogICAgLy8gdGhpcy53ZWlnaHRlZE1vdmluZ0F2ZXJhZ2UudmFsdWUgPSBuZXcgVWludDEyOChhcHIpCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAoKY2hlY2tJZkJpbkNsb3NlZF9hZnRlcl9pZl9lbHNlQDg6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDY3CiAgICAvLyB0aGlzLnNldFJvdW5kc1BlckRheSgpCiAgICBjYWxsc3ViIHNldFJvdW5kc1BlckRheQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA2OQogICAgLy8gQmlnVWludCh0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSkgKiBCaWdVaW50KHRoaXMucm91bmRzUGVyRGF5LnZhbHVlKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo3OQogICAgLy8gdG90YWxBbGdvU3Rha2VkID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3N0YWtlZCcgfSkKICAgIGJ5dGVjIDUgLy8gInN0YWtlZCIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNjkKICAgIC8vIEJpZ1VpbnQodGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUpICogQmlnVWludCh0aGlzLnJvdW5kc1BlckRheS52YWx1ZSksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaXRvYgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk3CiAgICAvLyByb3VuZHNQZXJEYXkgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAncm91bmRzUGVyRGF5JyB9KQogICAgYnl0ZWMgNiAvLyAicm91bmRzUGVyRGF5IgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA2OQogICAgLy8gQmlnVWludCh0aGlzLnRvdGFsQWxnb1N0YWtlZC52YWx1ZSkgKiBCaWdVaW50KHRoaXMucm91bmRzUGVyRGF5LnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpdG9iCiAgICBiKgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA2OC0xMDcwCiAgICAvLyB0aGlzLnN0YWtlQWNjdW11bGF0b3IudmFsdWUgPSBuZXcgVWludDEyOCgKICAgIC8vICAgICBCaWdVaW50KHRoaXMudG90YWxBbGdvU3Rha2VkLnZhbHVlKSAqIEJpZ1VpbnQodGhpcy5yb3VuZHNQZXJEYXkudmFsdWUpLAogICAgLy8gKQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyAxNgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgaW50Y18zIC8vIDE2CiAgICBiemVybwogICAgYnwKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNAogICAgLy8gc3Rha2VBY2N1bXVsYXRvciA9IEdsb2JhbFN0YXRlPFVpbnQxMjg+KHsga2V5OiAnc3Rha2VBY2N1bXVsYXRvcicgfSkKICAgIGJ5dGVjIDcgLy8gInN0YWtlQWNjdW11bGF0b3IiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDY4LTEwNzAKICAgIC8vIHRoaXMuc3Rha2VBY2N1bXVsYXRvci52YWx1ZSA9IG5ldyBVaW50MTI4KAogICAgLy8gICAgIEJpZ1VpbnQodGhpcy50b3RhbEFsZ29TdGFrZWQudmFsdWUpICogQmlnVWludCh0aGlzLnJvdW5kc1BlckRheS52YWx1ZSksCiAgICAvLyApCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA4CiAgICAvLyByZXdhcmRBY2N1bXVsYXRvciA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdyZXdhcmRBY2N1bXVsYXRvcicgfSkKICAgIGJ5dGVjIDExIC8vICJyZXdhcmRBY2N1bXVsYXRvciIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNzEKICAgIC8vIHRoaXMucmV3YXJkQWNjdW11bGF0b3IudmFsdWUgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNzIKICAgIC8vIHRoaXMuYmluUm91bmRTdGFydC52YWx1ZSA9IEdsb2JhbC5yb3VuZCAtIChHbG9iYWwucm91bmQgJSB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSkKICAgIGdsb2JhbCBSb3VuZAogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTcKICAgIC8vIHJvdW5kc1BlckRheSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6ICdyb3VuZHNQZXJEYXknIH0pCiAgICBieXRlYyA2IC8vICJyb3VuZHNQZXJEYXkiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDcyCiAgICAvLyB0aGlzLmJpblJvdW5kU3RhcnQudmFsdWUgPSBHbG9iYWwucm91bmQgLSAoR2xvYmFsLnJvdW5kICUgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUpCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgJQogICAgLQogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6OTkKICAgIC8vIGJpblJvdW5kU3RhcnQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAnYmluUm91bmRTdGFydCcgfSkKICAgIGJ5dGVjIDkgLy8gImJpblJvdW5kU3RhcnQiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDcyCiAgICAvLyB0aGlzLmJpblJvdW5kU3RhcnQudmFsdWUgPSBHbG9iYWwucm91bmQgLSAoR2xvYmFsLnJvdW5kICUgdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUpCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAoKY2hlY2tJZkJpbkNsb3NlZF9hZnRlcl9pZl9lbHNlQDk6CiAgICByZXRzdWIKCmNoZWNrSWZCaW5DbG9zZWRfZWxzZV9ib2R5QDY6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDYwCiAgICAvLyAodGhpcy53ZWlnaHRlZE1vdmluZ0F2ZXJhZ2UudmFsdWUuYXNCaWdVaW50KCkgKiAoQmlnVWludCgxMDApIC0gYWxwaGEpKSAvIEJpZ1VpbnQoMTAwKSArCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTExCiAgICAvLyB3ZWlnaHRlZE1vdmluZ0F2ZXJhZ2UgPSBHbG9iYWxTdGF0ZTxVaW50MTI4Pih7IGtleTogJ2V3bWEnIH0pCiAgICBieXRlYyAxMiAvLyAiZXdtYSIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNjAKICAgIC8vICh0aGlzLndlaWdodGVkTW92aW5nQXZlcmFnZS52YWx1ZS5hc0JpZ1VpbnQoKSAqIChCaWdVaW50KDEwMCkgLSBhbHBoYSkpIC8gQmlnVWludCgxMDApICsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBieXRlYyAxNCAvLyAweDY0CiAgICBmcmFtZV9kaWcgMAogICAgZHVwCiAgICBjb3ZlciAzCiAgICBiLQogICAgYioKICAgIGJ5dGVjIDE0IC8vIDB4NjQKICAgIGIvCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDYxCiAgICAvLyAoYXByICogYWxwaGEpIC8gQmlnVWludCgxMDApLAogICAgZnJhbWVfZGlnIDIKICAgIHVuY292ZXIgMgogICAgYioKICAgIGJ5dGVjIDE0IC8vIDB4NjQKICAgIGIvCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDYwLTEwNjEKICAgIC8vICh0aGlzLndlaWdodGVkTW92aW5nQXZlcmFnZS52YWx1ZS5hc0JpZ1VpbnQoKSAqIChCaWdVaW50KDEwMCkgLSBhbHBoYSkpIC8gQmlnVWludCgxMDApICsKICAgIC8vICAgICAoYXByICogYWxwaGEpIC8gQmlnVWludCgxMDApLAogICAgYisKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNTktMTA2MgogICAgLy8gdGhpcy53ZWlnaHRlZE1vdmluZ0F2ZXJhZ2UudmFsdWUgPSBuZXcgVWludDEyOCgKICAgIC8vICAgICAodGhpcy53ZWlnaHRlZE1vdmluZ0F2ZXJhZ2UudmFsdWUuYXNCaWdVaW50KCkgKiAoQmlnVWludCgxMDApIC0gYWxwaGEpKSAvIEJpZ1VpbnQoMTAwKSArCiAgICAvLyAgICAgICAgIChhcHIgKiBhbHBoYSkgLyBCaWdVaW50KDEwMCksCiAgICAvLyApCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDE2CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBpbnRjXzMgLy8gMTYKICAgIGJ6ZXJvCiAgICBifAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTExCiAgICAvLyB3ZWlnaHRlZE1vdmluZ0F2ZXJhZ2UgPSBHbG9iYWxTdGF0ZTxVaW50MTI4Pih7IGtleTogJ2V3bWEnIH0pCiAgICBieXRlYyAxMiAvLyAiZXdtYSIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwNTktMTA2MgogICAgLy8gdGhpcy53ZWlnaHRlZE1vdmluZ0F2ZXJhZ2UudmFsdWUgPSBuZXcgVWludDEyOCgKICAgIC8vICAgICAodGhpcy53ZWlnaHRlZE1vdmluZ0F2ZXJhZ2UudmFsdWUuYXNCaWdVaW50KCkgKiAoQmlnVWludCgxMDApIC0gYWxwaGEpKSAvIEJpZ1VpbnQoMTAwKSArCiAgICAvLyAgICAgICAgIChhcHIgKiBhbHBoYSkgLyBCaWdVaW50KDEwMCksCiAgICAvLyApCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgYiBjaGVja0lmQmluQ2xvc2VkX2FmdGVyX2lmX2Vsc2VAOAoKCi8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjpTdGFraW5nUG9vbC5zZXRSb3VuZHNQZXJEYXkoKSAtPiB2b2lkOgpzZXRSb3VuZHNQZXJEYXk6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDc2CiAgICAvLyBwcml2YXRlIHNldFJvdW5kc1BlckRheSgpIHsKICAgIHByb3RvIDAgMAogICAgcHVzaGJ5dGVzICIiCiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDgxCiAgICAvLyBpZiAoVHhuLmZpcnN0VmFsaWQgPCAxMikgewogICAgdHhuIEZpcnN0VmFsaWQKICAgIHB1c2hpbnQgMTIgLy8gMTIKICAgIDwKICAgIGJ6IHNldFJvdW5kc1BlckRheV9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk3CiAgICAvLyByb3VuZHNQZXJEYXkgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAncm91bmRzUGVyRGF5JyB9KQogICAgYnl0ZWMgNiAvLyAicm91bmRzUGVyRGF5IgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA4MwogICAgLy8gdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUgPSBBUFBST1hfQVZHX1JPVU5EU19QRVJfREFZCiAgICBpbnRjIDkgLy8gMzA4NTcKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDg0CiAgICAvLyByZXR1cm4KICAgIHJldHN1YgoKc2V0Um91bmRzUGVyRGF5X2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwODgKICAgIC8vIG9wLkJsb2NrLmJsa1RpbWVzdGFtcChUeG4uZmlyc3RWYWxpZCAtIDEpIC0gb3AuQmxvY2suYmxrVGltZXN0YW1wKFR4bi5maXJzdFZhbGlkIC0gMTEpCiAgICB0eG4gRmlyc3RWYWxpZAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGJsb2NrIEJsa1RpbWVzdGFtcAogICAgdHhuIEZpcnN0VmFsaWQKICAgIHB1c2hpbnQgMTEgLy8gMTEKICAgIC0KICAgIGJsb2NrIEJsa1RpbWVzdGFtcAogICAgLQogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwODkKICAgIC8vIGlmIChhdmdCbG9ja1RpbWVUZW50aHMgPT09IDApIHsKICAgIGJueiBzZXRSb3VuZHNQZXJEYXlfYWZ0ZXJfaWZfZWxzZUA0CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czo5NwogICAgLy8gcm91bmRzUGVyRGF5ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogJ3JvdW5kc1BlckRheScgfSkKICAgIGJ5dGVjIDYgLy8gInJvdW5kc1BlckRheSIKICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjEwOTEKICAgIC8vIHRoaXMucm91bmRzUGVyRGF5LnZhbHVlID0gQVBQUk9YX0FWR19ST1VORFNfUEVSX0RBWQogICAgaW50YyA5IC8vIDMwODU3CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA5MgogICAgLy8gcmV0dXJuCiAgICByZXRzdWIKCnNldFJvdW5kc1BlckRheV9hZnRlcl9pZl9lbHNlQDQ6CiAgICAvLyBjb250cmFjdHMvc3Rha2luZ1Bvb2wuYWxnby50czoxMDk3CiAgICAvLyB0aGlzLnJvdW5kc1BlckRheS52YWx1ZSA9ICgyNCAqIDYwICogNjAgKiAxMCkgLyBhdmdCbG9ja1RpbWVUZW50aHMKICAgIHB1c2hpbnQgODY0MDAwIC8vIDg2NDAwMAogICAgZnJhbWVfZGlnIDAKICAgIC8KICAgIC8vIGNvbnRyYWN0cy9zdGFraW5nUG9vbC5hbGdvLnRzOjk3CiAgICAvLyByb3VuZHNQZXJEYXkgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsga2V5OiAncm91bmRzUGVyRGF5JyB9KQogICAgYnl0ZWMgNiAvLyAicm91bmRzUGVyRGF5IgogICAgLy8gY29udHJhY3RzL3N0YWtpbmdQb29sLmFsZ28udHM6MTA5NwogICAgLy8gdGhpcy5yb3VuZHNQZXJEYXkudmFsdWUgPSAoMjQgKiA2MCAqIDYwICogMTApIC8gYXZnQmxvY2tUaW1lVGVudGhzCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCg==",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "state": {
        "global": {
            "num_byte_slices": 3,
            "num_uints": 11
        },
        "local": {
            "num_byte_slices": 0,
            "num_uints": 0
        }
    },
    "schema": {
        "global": {
            "declared": {
                "algodVer": {
                    "type": "bytes",
                    "key": "algodVer"
                },
                "binRoundStart": {
                    "type": "uint64",
                    "key": "binRoundStart"
                },
                "creatingValidatorContractAppId": {
                    "type": "uint64",
                    "key": "creatorApp"
                },
                "epochNumber": {
                    "type": "uint64",
                    "key": "epochNumber"
                },
                "lastPayout": {
                    "type": "uint64",
                    "key": "lastPayout"
                },
                "minEntryStake": {
                    "type": "uint64",
                    "key": "minEntryStake"
                },
                "numStakers": {
                    "type": "uint64",
                    "key": "numStakers"
                },
                "poolId": {
                    "type": "uint64",
                    "key": "poolId"
                },
                "rewardAccumulator": {
                    "type": "uint64",
                    "key": "rewardAccumulator"
                },
                "roundsPerDay": {
                    "type": "uint64",
                    "key": "roundsPerDay"
                },
                "stakeAccumulator": {
                    "type": "bytes",
                    "key": "stakeAccumulator"
                },
                "totalAlgoStaked": {
                    "type": "uint64",
                    "key": "staked"
                },
                "validatorId": {
                    "type": "uint64",
                    "key": "validatorId"
                },
                "weightedMovingAverage": {
                    "type": "bytes",
                    "key": "ewma"
                }
            },
            "reserved": {}
        },
        "local": {
            "declared": {},
            "reserved": {}
        }
    },
    "contract": {
        "name": "StakingPool",
        "desc": "StakingPool contract has a new instance deployed per staking pool added by any validator.  A single instance\nis initially immutably deployed, and the id of that instance is used as a construction parameter in the immutable\ninstance of the master ValidatorRegistry contract.  It then uses that StakingPool instance as a 'factory template'\nfor subsequent pool creations - using the on-chain bytecode of that deployed instance to create a new identical\ninstance.\n\nEach instance is explicitly 'linked' to the validator master via its creation parameters.  The validator master\ncontract only allows calls from staking pool contract instances that match data that only the validator master\nauthoritatively has (validator id X, pool Y - has to come from contract address of that pool).  Calls the pools\nvalidate coming from the validator are only allowed if it matches the validator id it was created with.",
        "methods": [
            {
                "name": "createApplication",
                "args": [
                    {
                        "type": "uint64",
                        "name": "creatingContractId",
                        "desc": "- id of contract that constructed us - the validator application (single global instance)"
                    },
                    {
                        "type": "uint64",
                        "name": "validatorId",
                        "desc": "- id of validator we're a staking pool of"
                    },
                    {
                        "type": "uint64",
                        "name": "poolId",
                        "desc": "- which pool id are we"
                    },
                    {
                        "type": "uint64",
                        "name": "minEntryStake",
                        "desc": "- minimum amount to be in pool, but also minimum amount balance can't go below (without removing all!)"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Initialize the staking pool w/ owner and manager, but can only be created by the validator contract."
            },
            {
                "name": "gas",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "gas is a dummy no-op call that can be used to pool-up resource references and opcode cost"
            },
            {
                "name": "initStorage",
                "args": [
                    {
                        "type": "pay",
                        "name": "mbrPayment",
                        "desc": "payment from caller which covers mbr increase of new staking pools' storage"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Called after we're created and then funded, so we can create our large stakers ledger storage\nCaller has to get MBR amounts from ValidatorRegistry to know how much to fund us to cover the box storage cost\nIf this is pool 1 AND the validator has specified a reward token, opt-in to that token\nso that the validator can seed the pool with future rewards of that token."
            },
            {
                "name": "addStake",
                "args": [
                    {
                        "type": "pay",
                        "name": "stakedAmountPayment",
                        "desc": "prior payment coming from validator contract to us on behalf of staker."
                    },
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": "- The account adding new stake"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "uint64",
                    "desc": "new 'entry round' round number of stake add"
                },
                "desc": "Adds stake to the given account.\nCan ONLY be called by the validator contract that created us\nMust receive payment from the validator contract for amount being staked."
            },
            {
                "name": "removeStake",
                "args": [
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": "- account to remove.  normally same as sender, but the validator owner or manager can also call\nthis to remove the specified staker explicitly. The removed stake MUST only go to the staker of course.  This is\nso a validator can shut down a poool and refund the stakers.  It can also be used to kick out stakers who no longer\nmeet the gating requirements (determined by the node daemon)."
                    },
                    {
                        "type": "uint64",
                        "name": "amountToUnstake",
                        "desc": "- The amount of stake to be removed.  Specify 0 to remove all stake."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Removes stake on behalf of caller (removing own stake).  If any token rewards exist, those are always sent in\nfull. Also notifies the validator contract for this pools validator of the staker / balance changes."
            },
            {
                "name": "claimTokens",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Claims all the available reward tokens a staker has available, sending their entire balance to the staker from\npool 1 (either directly, or via validator->pool1 to pay it out)\nAlso notifies the validator contract for this pools validator of the staker / balance changes."
            },
            {
                "name": "getStakerInfo",
                "args": [
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": "- The address of the staker."
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "(address,uint64,uint64,uint64,uint64)",
                    "desc": "- The staked information for the given staker."
                },
                "desc": "Retrieves the staked information for a given staker."
            },
            {
                "name": "payTokenReward",
                "args": [
                    {
                        "type": "address",
                        "name": "staker",
                        "desc": "- the staker account to send rewards to"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardToken",
                        "desc": "- id of reward token (to avoid re-entrancy in calling validator back to get id)"
                    },
                    {
                        "type": "uint64",
                        "name": "amountToSend",
                        "desc": "- amount to send the staker (there is significant trust here(!) - also why only validator can call us"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "[Internal protocol method] Remove a specified amount of 'community token' rewards for a staker.\nThis can ONLY be called by our validator and only if we're pool 1 - with the token.\nNote: this can also be called by validator as part of OWNER wanting to send the reward tokens\nsomewhere else (ie if they're sunsetting their validator and need the reward tokens back).\nIt's up to the validator to ensure that the balance in rewardTokenHeldBack is honored."
            },
            {
                "name": "updateAlgodVer",
                "args": [
                    {
                        "type": "string",
                        "name": "algodVer",
                        "desc": "- string representing the algorand node daemon version (reti node daemon composes its own meta version)"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Update the (honor system) algod version for the node associated to this pool.  The node management daemon\nshould compare its current nodes version to the version stored in global state, updating when different.\nThe reti node daemon composes its own version string using format:\n{major}.{minor}.{build} {branch} [{commit hash}],\nie: 3.22.0 rel/stable [6b508975]\n[ ONLY OWNER OR MANAGER CAN CALL ]"
            },
            {
                "name": "epochBalanceUpdate",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Updates the balance of stakers in the pool based on the received 'rewards' (current balance vs known staked balance)\nstakers outstanding balance is adjusted based on their % of stake and time in the current epoch - so that balance\ncompounds over time and staker can remove that amount at will.\nThe validator is paid their percentage each epoch payout.\n\nNote: ANYONE can call this."
            },
            {
                "name": "goOnline",
                "args": [
                    {
                        "type": "pay",
                        "name": "feePayment",
                        "desc": "- payment to cover extra fee of going online if offline - or 0 if not renewal"
                    },
                    {
                        "type": "byte[32]",
                        "name": "votePK",
                        "desc": "- The vote public key."
                    },
                    {
                        "type": "byte[32]",
                        "name": "selectionPK",
                        "desc": "- The selection public key."
                    },
                    {
                        "type": "byte[64]",
                        "name": "stateProofPK",
                        "desc": "- The state proof public key."
                    },
                    {
                        "type": "uint64",
                        "name": "voteFirst",
                        "desc": "- The first vote index."
                    },
                    {
                        "type": "uint64",
                        "name": "voteLast",
                        "desc": "- The last vote index."
                    },
                    {
                        "type": "uint64",
                        "name": "voteKeyDilution",
                        "desc": "- The vote key dilution value."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Registers a staking pool key online against a participation key.\n[ ONLY OWNER OR MANAGER CAN CALL ]"
            },
            {
                "name": "goOffline",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Marks a staking pool key OFFLINE.\n[ ONLY OWNER OR MANAGER CAN CALL ]"
            },
            {
                "name": "linkToNFD",
                "args": [
                    {
                        "type": "uint64",
                        "name": "nfdAppId"
                    },
                    {
                        "type": "string",
                        "name": "nfdName"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "proxiedSetTokenPayoutRatio",
                "args": [
                    {
                        "type": "(uint64,uint64,uint64)",
                        "name": "poolKey",
                        "desc": "- ValidatorPoolKey tuple"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "(uint64[24],uint64)"
                },
                "desc": "proxiedSetTokenPayoutRatio is meant to be called by pools != 1 - calling US, pool #1\nWe need to verify that we are in fact being called by another of OUR pools (not us)\nand then we'll call the validator on their behalf to update the token payouts"
            }
        ],
        "networks": {}
    },
    "bare_call_config": {}
}